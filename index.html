<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Êúù‰∏úÂ§ßÂå∫-Êúù‰∏ú1</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 
                         'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            background: #f5f5f5;
            color: #333;
            overflow-y: auto;
        }

        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.3);
            z-index: 1000;
        }

        .modal-container {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 95%;
            max-width: 1600px;
            height: calc(100vh - 40px);
            background: #fff;
            border-radius: 4px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            z-index: 1001;
        }

        /* Â§¥ÈÉ® */
        .modal-header {
            padding: 12px 20px;
            border-bottom: 1px solid #e8e8e8;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #fafafa;
            flex-wrap: wrap;
        }

        .modal-title {
            font-size: 14px;
            font-weight: 500;
            color: #333;
        }

        /* ÁâáÂå∫Ê†áÁ≠æÈ°µ */
        .district-tabs {
            display: flex;
            gap: 4px;
            margin-top: 8px;
            width: 100%;
            border-top: 1px solid #e8e8e8;
            padding-top: 8px;
        }

        .district-tab {
            padding: 6px 16px;
            font-size: 13px;
            color: #666;
            background: #fff;
            border: 1px solid #d9d9d9;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }

        .district-tab:hover {
            color: #1890ff;
            border-color: #1890ff;
        }

        .district-tab.active {
            color: #fff;
            background: #1890ff;
            border-color: #1890ff;
            font-weight: 500;
        }

        .district-tab .tab-count {
            margin-left: 4px;
            font-size: 12px;
            opacity: 0.8;
        }

        .close-btn {
            width: 24px;
            height: 24px;
            border: none;
            background: transparent;
            cursor: pointer;
            font-size: 18px;
            color: #999;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 2px;
            transition: all 0.2s;
        }

        .close-btn:hover {
            background: #e8e8e8;
            color: #333;
        }

        /* ÂÜÖÂÆπÂå∫Âüü */
        .modal-body {
            flex: 1;
            overflow-y: auto;
            padding: 16px;
        }

        /* TabÂàáÊç¢Âå∫Âüü */
        .tab-container {
            background: #fff;
            border: 1px solid #e8e8e8;
            border-radius: 4px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .tab-header {
            display: flex;
            gap: 0;
            padding: 0;
            border-bottom: 1px solid #e8e8e8;
            background: #fafafa;
        }

        .tab-item {
            position: relative;
            padding: 14px 24px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 14px;
            font-weight: 500;
            color: #666;
            background: transparent;
            border: none;
            border-bottom: 2px solid transparent;
            transition: all 0.3s;
        }

        .tab-item:hover {
            color: #1890ff;
            background: #fff;
        }

        .tab-item.active {
            color: #1890ff;
            background: linear-gradient(to bottom, #fff 0%, #f0f7ff 100%);
            border-bottom: 3px solid #1890ff;
            font-weight: 600;
            box-shadow: 0 -2px 8px rgba(24, 144, 255, 0.08);
        }

        .tab-icon {
            font-size: 16px;
        }

        .tab-badge {
            background: #ff4d4f;
            color: #fff;
            font-size: 11px;
            font-weight: 600;
            padding: 2px 6px;
            border-radius: 10px;
            margin-left: 4px;
            min-width: 18px;
            text-align: center;
        }

        .tab-item.active .tab-badge {
            background: #ff4d4f;
            color: #fff;
        }

        .tab-content {
            background: #fff;
            padding: 20px;
        }

        .tab-panel {
            display: none;
        }

        .tab-panel.active {
            display: block;
        }

        /* Êï∞ÊçÆÊÄªËßàÂå∫Âüü */
        .overview-section {
            background: linear-gradient(to bottom, #fafafa 0%, #ffffff 100%);
            border: 1px solid #e8e8e8;
            border-radius: 8px;
            padding: 24px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
        }

        .overview-title {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 16px;
            color: #333;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .overview-title::before {
            content: 'üìä';
            font-size: 16px;
        }

        .overview-grid {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 16px;
        }

        .overview-card {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            border: 1px solid #e8e8e8;
            border-radius: 8px;
            padding: 18px 16px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04);
            text-align: left;
        }

        .overview-card:hover {
            border-color: #1890ff;
            box-shadow: 0 4px 16px rgba(24, 144, 255, 0.12);
            transform: translateY(-2px);
        }

        .overview-label {
            font-size: 13px;
            color: #8c8c8c;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .overview-value {
            font-size: 24px;
            font-weight: 700;
            color: #333;
            line-height: 1.2;
            margin-bottom: 8px;
        }

        .overview-change {
            font-size: 22px;
            font-weight: 700;
            color: #262626;
            margin-bottom: 0;
            display: inline-block;
        }

        .overview-unit {
            font-size: 12px;
            color: #8c8c8c;
        }

        .value-compare {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
            color: #8c8c8c;
            margin-top: 6px;
        }

        .value-compare .arrow {
            color: #999;
            font-weight: 600;
            font-size: 14px;
        }

        .value-compare span:first-child {
            color: #999;
        }

        .value-compare span:last-child {
            color: #262626;
            font-weight: 600;
        }

        /* Ê•ºÁõòÁªüËÆ°Ê†∑Âºè */
        .plate-stats {
            display: flex;
            align-items: center;
            justify-content: flex-start;
            gap: 16px;
            margin-top: 8px;
        }

        .plate-item {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            gap: 4px;
        }

        .plate-count {
            font-size: 24px;
            font-weight: 600;
            color: #1890ff;
        }

        .plate-label {
            font-size: 12px;
            color: #8c8c8c;
            white-space: nowrap;
        }

        .plate-divider {
            font-size: 24px;
            color: #d9d9d9;
            font-weight: 300;
        }

        @media (max-width: 1400px) {
            .overview-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (max-width: 1200px) {
            .overview-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* ÂèòÊõ¥Ê∏ÖÂçïÊ†∑Âºè */
        .change-list {
            background: #fff;
            border: 1px solid #e8e8e8;
            border-radius: 4px;
            overflow: hidden;
        }

        .change-item {
            display: flex;
            align-items: center;
            padding: 16px;
            border-bottom: 1px solid #f0f0f0;
            transition: all 0.2s;
        }

        .change-item:hover {
            background: #fafafa;
        }

        .change-item:last-child {
            border-bottom: none;
        }

        .change-number {
            width: 28px;
            height: 28px;
            border-radius: 4px;
            background: #e6f7ff;
            color: #1890ff;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 13px;
            margin-right: 12px;
            flex-shrink: 0;
        }

        /* ‰∫∫ÂëòÂèòÊõ¥ËØ¶ÊÉÖÊ†∑Âºè */
        .person-change-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .person-change-card {
            background: #fff;
            border: 1px solid #e8e8e8;
            border-radius: 4px;
            padding: 16px;
            transition: all 0.3s;
        }

        .person-change-card:hover {
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .person-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-bottom: 12px;
            border-bottom: 1px solid #f0f0f0;
            margin-bottom: 12px;
        }

        .person-info {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .person-name {
            font-size: 16px;
            font-weight: 600;
            color: #333;
        }

        .person-tag {
            padding: 2px 8px;
            border-radius: 2px;
            font-size: 12px;
            font-weight: 500;
            display: inline-block;
            margin-right: 4px;
        }

        .person-tag:last-child {
            margin-right: 0;
        }

        .person-tag.new {
            background: linear-gradient(135deg, #e6f7ff 0%, #bae7ff 100%);
            color: #0050b3;
            border: 1px solid #91d5ff;
            box-shadow: 0 1px 3px rgba(24, 144, 255, 0.12);
        }

        .person-tag.remove {
            background: linear-gradient(135deg, #fff1f0 0%, #ffccc7 100%);
            color: #cf1322;
            border: 1px solid #ffccc7;
            box-shadow: 0 1px 3px rgba(255, 77, 79, 0.12);
            text-decoration: line-through;
            opacity: 0.8;
        }

        .person-tag.modify {
            background: linear-gradient(135deg, #fff7e6 0%, #ffd591 100%);
            color: #d46b08;
            border: 1px solid #ffd591;
            box-shadow: 0 1px 3px rgba(250, 140, 22, 0.12);
        }

        .person-role {
            color: #666;
            font-size: 13px;
        }

        .person-status {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .status-label {
            color: #666;
            font-size: 13px;
        }

        .status-value {
            color: #333;
            font-size: 14px;
            font-weight: 500;
        }

        .person-detail {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .detail-row {
            display: flex;
            align-items: flex-start;
            gap: 12px;
        }

        .detail-label {
            width: 90px;
            color: #666;
            font-size: 13px;
            flex-shrink: 0;
            padding-top: 2px;
        }

        .detail-value {
            flex: 1;
            color: #333;
            font-size: 13px;
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 6px;
        }

        .detail-value .old-value {
            color: #999;
        }

        .detail-value .arrow {
            color: #52c41a;
            font-weight: 600;
        }

        .detail-value .new-value {
            color: #1890ff;
            font-weight: 500;
        }

        .detail-value.final-scope {
            background: #f0f5ff;
            padding: 6px 10px;
            border-radius: 2px;
            color: #1890ff;
            font-weight: 500;
        }

        /* Checkbox Ê†∑Âºè */
        .person-checkbox {
            width: 16px;
            height: 16px;
            cursor: pointer;
            accent-color: #1890ff;
        }

        .person-checkbox:hover {
            transform: scale(1.1);
        }

        /* ÂèòÊõ¥Á±ªÂûãÂõæÊ†á */
        .change-type-icon {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
            white-space: nowrap;
        }

        .change-type-icon.add {
            background: #f6ffed;
            color: #52c41a;
            border: 1px solid #b7eb8f;
        }

        .change-type-icon.remove {
            background: #fff7e6;
            color: #fa8c16;
            border: 1px solid #ffd591;
        }

        .change-type-icon.responsibility {
            background: #e6f7ff;
            color: #1890ff;
            border: 1px solid #91d5ff;
        }

        .change-type-icon.adjust {
            background: #f0f5ff;
            color: #597ef7;
            border: 1px solid #adc6ff;
        }

        /* ËØ¶ÊÉÖÈìæÊé• */
        .detail-link {
            color: #1890ff;
            cursor: pointer;
            text-decoration: underline;
            text-decoration-style: dashed;
            transition: all 0.2s;
        }

        .detail-link:hover {
            color: #40a9ff;
            text-decoration-style: solid;
        }

        /* ËØ¶ÊÉÖÂºπÁ™ó */
        .detail-popup {
            position: absolute;
            background: #fff;
            border: 1px solid #d9d9d9;
            border-radius: 4px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            padding: 12px;
            z-index: 1000;
            min-width: 200px;
            max-width: 300px;
        }

        .detail-popup-title {
            font-weight: 600;
            font-size: 13px;
            color: #333;
            margin-bottom: 8px;
            padding-bottom: 8px;
            border-bottom: 1px solid #e8e8e8;
        }

        .detail-popup-item {
            padding: 4px 0;
            font-size: 12px;
            color: #666;
        }

        .detail-popup-close {
            position: absolute;
            top: 8px;
            right: 8px;
            cursor: pointer;
            color: #999;
            font-size: 16px;
            line-height: 1;
        }

        .detail-popup-close:hover {
            color: #333;
        }

        /* ‰∫∫ÂëòÊêúÁ¥¢Ê†è */
        .person-search-bar {
            display: flex;
            gap: 12px;
            margin-bottom: 20px;
            align-items: center;
            flex-wrap: wrap;
            background: linear-gradient(to right, #f5f7fa 0%, #fafafa 100%);
            padding: 18px;
            border-radius: 8px;
            border: 1px solid #e8e8e8;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.02);
        }

        .person-search-input {
            flex: 1;
            min-width: 220px;
            max-width: 320px;
            height: 38px;
            padding: 0 16px;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            font-size: 14px;
            outline: none;
            transition: all 0.3s;
            background: #fff;
        }

        .person-search-input::placeholder {
            color: #bfbfbf;
        }

        .person-search-input:hover {
            border-color: #b3d8ff;
        }

        .person-search-input:focus {
            border-color: #1890ff;
            box-shadow: 0 0 0 3px rgba(24, 144, 255, 0.12);
        }

        .person-search-btn {
            height: 38px;
            padding: 0 24px;
            background: linear-gradient(135deg, #1890ff 0%, #096dd9 100%);
            color: #fff;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 2px 4px rgba(24, 144, 255, 0.2);
        }

        .person-search-btn:hover {
            background: linear-gradient(135deg, #40a9ff 0%, #1890ff 100%);
            box-shadow: 0 4px 8px rgba(24, 144, 255, 0.3);
            transform: translateY(-1px);
        }

        .person-search-btn:active {
            transform: translateY(0);
        }

        .filter-select {
            height: 38px;
            padding: 0 14px;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            font-size: 14px;
            color: #333;
            background: #fff;
            cursor: pointer;
            outline: none;
            transition: all 0.3s;
            min-width: 140px;
        }

        .filter-select:hover {
            border-color: #b3d8ff;
            background: #f5f9ff;
        }

        .filter-select:focus {
            border-color: #1890ff;
            box-shadow: 0 0 0 3px rgba(24, 144, 255, 0.12);
        }

        .reset-btn {
            height: 38px;
            padding: 0 24px;
            background: #fff;
            color: #666;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
        }

        .reset-btn:hover {
            color: #1890ff;
            border-color: #1890ff;
            background: #f5f9ff;
            transform: translateY(-1px);
        }

        .reset-btn:active {
            transform: translateY(0);
        }

        .export-btn {
            height: 38px;
            padding: 0 24px;
            background: #fff;
            color: #666;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s;
        }

        .export-btn:hover {
            color: #52c41a;
            border-color: #52c41a;
            background: #f6ffed;
            transform: translateY(-1px);
        }

        .export-btn:active {
            transform: translateY(0);
        }

        /* ÂèòÊõ¥Ê¶ÇË¶ÅÂç°Áâá */
        .change-summary-cards {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
            margin-bottom: 24px;
        }

        .summary-card-item {
            background: #fff;
            border: 1px solid #e8e8e8;
            border-radius: 8px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .summary-card-item:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            border-color: #1890ff;
        }

        .summary-card-item.expanded {
            border-color: #1890ff;
        }

        .summary-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .summary-card-title {
            font-size: 16px;
            font-weight: 500;
            color: #333;
        }

        .summary-card-icon {
            font-size: 20px;
            color: #1890ff;
            transition: transform 0.3s;
        }

        .summary-card-item.expanded .summary-card-icon {
            transform: rotate(180deg);
        }

        .summary-card-count {
            font-size: 32px;
            font-weight: 600;
            color: #1890ff;
            margin-bottom: 8px;
        }

        .summary-card-desc {
            font-size: 13px;
            color: #999;
        }

        .summary-card-detail {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .summary-card-item.expanded .summary-card-detail {
            max-height: 500px;
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid #f0f0f0;
        }

        .detail-list-simple {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .detail-list-simple-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 12px;
            background: #f5f5f5;
            border-radius: 4px;
            font-size: 13px;
        }

        .detail-item-left {
            display: flex;
            flex-direction: column;
            gap: 4px;
            flex: 1;
        }

        .detail-item-name {
            color: #333;
            font-weight: 500;
        }

        .detail-item-change {
            font-size: 12px;
            color: #666;
        }

        .detail-item-change .arrow {
            margin: 0 4px;
            color: #999;
        }

        .detail-item-tag {
            padding: 4px 10px;
            border-radius: 2px;
            font-size: 12px;
            white-space: nowrap;
        }

        .detail-item-tag.add {
            background: #e6f7ff;
            color: #1890ff;
        }

        .detail-item-tag.remove {
            background: #fff1f0;
            color: #ff4d4f;
        }

        .detail-item-tag.transfer {
            background: #fff7e6;
            color: #fa8c16;
        }

        /* ‰∫∫ÂëòÂàóË°®ÂÆπÂô® */
        .person-list-container {
            background: #fff;
            border: 1px solid #e8e8e8;
            border-radius: 4px;
            overflow: hidden;
        }

        .person-list {
            background: #fff;
            border: 1px solid #e8e8e8;
            border-radius: 4px;
            overflow: visible;
            min-height: 100px;
        }

        .person-list-header {
            display: flex;
            background: linear-gradient(to bottom, #f5f7fa 0%, #fafafa 100%);
            padding: 14px 16px;
            border-bottom: 2px solid #e8e8e8;
            border-radius: 4px 4px 0 0;
        }

        .header-col {
            font-size: 13px;
            font-weight: 600;
            color: #333;
            flex-shrink: 0;
            text-align: left !important;
            display: flex;
            align-items: center;
            justify-content: flex-start !important;
            padding-left: 0 !important;
            padding-right: 8px !important;
        }
        
        .header-col > * {
            text-align: left !important;
        }

        .person-list-body {
            min-height: 50px;
            max-height: 600px;
            overflow-y: auto;
        }

        .person-list-item {
            border-bottom: 1px solid #f0f0f0;
            display: block !important;
            visibility: visible !important;
            min-height: 40px;
            transition: all 0.2s ease;
        }

        .person-list-item:nth-child(even) {
            background: #fafafa;
        }

        .person-list-item:hover {
            background: #f0f7ff;
            box-shadow: 0 2px 8px rgba(24, 144, 255, 0.06);
        }

        .person-list-item:last-child {
            border-bottom: none;
        }

        .person-item-main {
            display: flex !important;
            padding: 14px 16px;
            transition: background 0.3s;
            align-items: center;
            min-height: 40px;
            visibility: visible !important;
            justify-content: flex-start;
        }

        .person-list-container .person-item-main {
            cursor: pointer;
        }

        .person-item-main:hover {
            background: #f5f5f5;
        }

        .person-list-item.expanded .person-item-main {
            background: #f0f5ff;
        }

        .item-col {
            font-size: 13px !important;
            color: #666 !important;
            flex: 0 0 auto;
            flex-shrink: 0;
            display: flex !important;
            align-items: center;
            justify-content: flex-start !important;
            visibility: visible !important;
            line-height: 1.5 !important;
            text-align: left !important;
            padding-left: 0 !important;
            padding-right: 8px !important;
        }
        
        .item-col > * {
            text-align: left !important;
        }

        .person-name-text {
            font-weight: 600;
            color: #333;
            font-size: 14px;
        }

        .old-val {
            color: #999;
        }

        .arrow {
            color: #52c41a;
            font-weight: 600;
            margin: 0 4px;
        }

        .new-val {
            color: #1890ff;
            font-weight: 500;
        }

        .scope-summary {
            color: #666;
            font-size: 12px;
        }

        .detail-link {
            color: #1890ff;
            font-size: 12px;
            cursor: pointer;
            text-decoration: underline;
        }

        .detail-link:hover {
            color: #40a9ff;
        }

        .scope-warning {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            color: #ff4d4f;
            font-weight: 500;
            position: relative;
            cursor: pointer;
        }

        .scope-warning::before {
            content: "‚ö†";
            font-size: 14px;
        }

        /* TooltipÂÆπÂô® */
        .scope-tooltip {
            position: absolute;
            top: calc(100% + 8px);
            left: 50%;
            transform: translateX(-50%);
            background: white;
            border: 1px solid #e8e8e8;
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            z-index: 1000;
            min-width: 200px;
            display: none;
            white-space: nowrap;
        }

        .scope-warning:hover .scope-tooltip {
            display: block;
        }

        /* TooltipÁÆ≠Â§¥ */
        .scope-tooltip::before {
            content: "";
            position: absolute;
            top: -6px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 6px solid transparent;
            border-right: 6px solid transparent;
            border-bottom: 6px solid #e8e8e8;
        }

        .scope-tooltip::after {
            content: "";
            position: absolute;
            top: -5px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 6px solid transparent;
            border-right: 6px solid transparent;
            border-bottom: 6px solid white;
        }

        /* TooltipÂÜÖÂÆπÊ†∑Âºè */
        .tooltip-section {
            margin-bottom: 8px;
        }

        .tooltip-section:last-child {
            margin-bottom: 0;
        }

        .tooltip-title {
            font-size: 12px;
            color: #999;
            margin-bottom: 6px;
            font-weight: 500;
        }

        .tooltip-item {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 4px 0;
            font-size: 13px;
            color: #333;
        }

        .tooltip-item-icon {
            font-size: 14px;
        }

        .tooltip-item-name {
            color: #1890ff;
            font-weight: 500;
        }

        /* ËØ¶ÊÉÖÂå∫Âüü */
        .person-item-detail {
            display: none;
            padding: 16px 16px 20px 16px;
            background: #f8f8f8;
            border-top: 1px solid #e8e8e8;
        }

        .person-list-item.expanded .person-item-detail {
            display: block;
        }

        .detail-section {
            margin-bottom: 16px;
        }

        .detail-section:last-child {
            margin-bottom: 0;
        }

        /* Â∫óÈì∫ÂíåÊ•ºÁõòÂàÜÈÖçÂπ∂ÊéíÂÆπÂô® */
        .allocation-container {
            display: flex;
            gap: 16px;
            margin-bottom: 16px;
        }

        .allocation-container .detail-section {
            flex: 1;
            margin-bottom: 0;
        }

        @media (max-width: 1200px) {
            .allocation-container {
                flex-direction: column;
            }
        }

        .detail-section-title {
            font-size: 13px;
            font-weight: 600;
            color: #333;
            margin-bottom: 10px;
            padding-left: 8px;
            border-left: 3px solid #1890ff;
        }

        .detail-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .detail-list-item {
            display: flex;
            align-items: center;
            padding: 10px 12px;
            background: #fff;
            border-radius: 4px;
            border: 1px solid #e8e8e8;
        }

        .detail-list-item .item-number {
            width: 24px;
            height: 24px;
            background: #e6f7ff;
            color: #1890ff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 600;
            margin-right: 12px;
            flex-shrink: 0;
        }

        .detail-list-item .item-name {
            flex: 1;
            font-size: 13px;
            color: #333;
        }

        .detail-list-item .item-tag {
            padding: 2px 8px;
            border-radius: 2px;
            font-size: 12px;
            font-weight: 500;
        }

        .detail-list-item .item-tag.new {
            background: #e6f7ff;
            color: #1890ff;
            border: 1px solid #91d5ff;
        }

        .detail-list-item .item-tag.remove {
            background: #fff1f0;
            color: #ff4d4f;
            border: 1px solid #ffccc7;
        }

        /* Êü•ÁúãÊõ¥Â§öÊåâÈíÆ */
        .show-more-btn {
            width: 100%;
            padding: 10px;
            margin-top: 8px;
            background: #fafafa;
            border: 1px dashed #d9d9d9;
            border-radius: 4px;
            color: #1890ff;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
        }

        .show-more-btn:hover {
            background: #e6f7ff;
            border-color: #1890ff;
            border-style: solid;
        }

        .show-more-btn .arrow-icon {
            font-size: 12px;
            transition: transform 0.3s;
        }

        .show-more-btn.expanded .arrow-icon {
            transform: rotate(180deg);
        }

        /* ÈöêËóèÁöÑÂàóË°®È°π */
        .detail-list-item.hidden-item {
            display: none;
        }

        /* ÂèØÁÇπÂáªÁöÑÊï∞ÈáèÂÄº */
        .clickable-value {
            color: #1890ff;
            cursor: pointer;
            text-decoration: underline;
            text-decoration-style: dashed;
            transition: all 0.2s;
            position: relative;
        }

        .clickable-value:hover {
            color: #40a9ff;
            text-decoration-style: solid;
            font-weight: 600;
        }

        .clickable-value::after {
            content: 'üîç';
            font-size: 10px;
            margin-left: 3px;
            opacity: 0.7;
        }

        /* Èó®Â∫óÂèòÂåñËØ¶ÊÉÖÂºπÁ™ó */
        .store-change-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 9999;
            align-items: center;
            justify-content: center;
        }

        .store-change-modal.show {
            display: flex;
        }

        .store-change-modal-content {
            background: #fff;
            border-radius: 8px;
            width: 90%;
            max-width: 800px;
            max-height: 80vh;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            animation: modalSlideIn 0.3s ease-out;
        }

        .store-change-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 24px;
            border-bottom: 2px solid #f0f0f0;
            background: linear-gradient(135deg, #1890ff 0%, #096dd9 100%);
        }

        .store-change-modal-header h3 {
            margin: 0;
            font-size: 18px;
            font-weight: 600;
            color: #fff;
        }

        .store-change-modal-close {
            width: 32px;
            height: 32px;
            border: none;
            background: rgba(255, 255, 255, 0.2);
            color: #fff;
            font-size: 24px;
            border-radius: 6px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            line-height: 1;
        }

        .store-change-modal-close:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .store-change-modal-body {
            padding: 24px;
            max-height: calc(80vh - 80px);
            overflow-y: auto;
        }

        .store-change-summary {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            margin-bottom: 24px;
        }

        .store-change-summary-card {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 8px;
            padding: 16px;
            text-align: center;
        }

        .store-change-summary-card.add {
            background: linear-gradient(135deg, #f6ffed 0%, #d9f7be 100%);
        }

        .store-change-summary-card.remove {
            background: linear-gradient(135deg, #fff1f0 0%, #ffccc7 100%);
        }

        .store-change-summary-card.modify {
            background: linear-gradient(135deg, #fff7e6 0%, #ffd591 100%);
        }

        .store-change-summary-label {
            font-size: 13px;
            color: #666;
            margin-bottom: 8px;
        }

        .store-change-summary-value {
            font-size: 28px;
            font-weight: 600;
            color: #333;
        }

        .store-change-summary-card.add .store-change-summary-value {
            color: #52c41a;
        }

        .store-change-summary-card.remove .store-change-summary-value {
            color: #ff4d4f;
        }

        .store-change-summary-card.modify .store-change-summary-value {
            color: #fa8c16;
        }

        .store-change-section {
            margin-bottom: 20px;
        }

        .store-change-section:last-child {
            margin-bottom: 0;
        }

        .store-change-section-title {
            font-size: 15px;
            font-weight: 600;
            color: #333;
            margin-bottom: 12px;
            padding-left: 10px;
            border-left: 3px solid #1890ff;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .store-change-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .store-change-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 16px;
            background: #fafafa;
            border-radius: 6px;
            border: 1px solid #e8e8e8;
            transition: all 0.2s;
        }

        .store-change-item:hover {
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            border-color: #d9d9d9;
        }

        .store-change-item-left {
            display: flex;
            align-items: center;
            gap: 12px;
            flex: 1;
        }

        .store-change-item-number {
            width: 24px;
            height: 24px;
            background: #e6f7ff;
            color: #1890ff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 600;
            flex-shrink: 0;
        }

        .store-change-item-name {
            font-size: 14px;
            color: #333;
            font-weight: 500;
        }

        .store-change-item-info {
            font-size: 12px;
            color: #999;
            margin-left: auto;
            margin-right: 12px;
        }

        .store-change-item-badge {
            padding: 4px 12px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
        }

        .store-change-item-badge.add {
            background: #f6ffed;
            color: #52c41a;
            border: 1px solid #b7eb8f;
        }

        .store-change-item-badge.remove {
            background: #fff1f0;
            color: #ff4d4f;
            border: 1px solid #ffccc7;
        }

        .store-change-item-badge.modify {
            background: #fff7e6;
            color: #fa8c16;
            border: 1px solid #ffd591;
        }

        .store-change-empty {
            text-align: center;
            padding: 40px;
            color: #999;
            font-size: 14px;
        }

        /* Âõ¥Ê†èËåÉÂõ¥ÂØπÊØîÂºπÁ™óÊ†∑Âºè */
        .fence-compare-modal-content {
            background: #fff;
            border-radius: 8px;
            width: 95%;
            max-width: 1400px;
            max-height: 85vh;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            animation: modalSlideIn 0.3s ease-out;
        }

        .fence-compare-body {
            padding: 20px;
            max-height: calc(85vh - 60px);
            overflow-y: auto;
        }

        .fence-summary-cards {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            margin-bottom: 24px;
        }

        .fence-summary-card {
            background: linear-gradient(135deg, #f5f7fa 0%, #fff 100%);
            border: 1px solid #e8e8e8;
            border-radius: 8px;
            padding: 16px 20px;
            text-align: center;
            transition: all 0.2s;
        }

        .fence-summary-card:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            transform: translateY(-2px);
        }

        .fence-summary-label {
            font-size: 13px;
            color: #999;
            margin-bottom: 8px;
        }

        .fence-summary-value {
            font-size: 22px;
            font-weight: 700;
            color: #333;
        }

        .fence-map-compare {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .fence-map-panel {
            background: #f5f5f5;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .fence-map-header {
            padding: 16px 20px;
            background: linear-gradient(135deg, #1890ff 0%, #096dd9 100%);
            color: white;
        }

        .fence-map-header.before {
            background: linear-gradient(135deg, #ff4d4f 0%, #cf1322 100%);
        }

        .fence-map-header.after {
            background: linear-gradient(135deg, #52c41a 0%, #389e0d 100%);
        }

        .fence-map-title {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 4px;
        }

        .fence-map-subtitle {
            font-size: 13px;
            opacity: 0.9;
        }

        .fence-map-container {
            height: 500px;
            background: #fafafa;
            position: relative;
            overflow: hidden;
        }

        .fence-map-bg {
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(0deg, rgba(0, 0, 0, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 0, 0, 0.03) 1px, transparent 1px);
            background-size: 20px 20px;
            position: relative;
        }

        .fence-boundary {
            position: absolute;
            border: 3px solid #1890ff;
            background: rgba(24, 144, 255, 0.15);
            border-radius: 4px;
            transition: all 0.3s;
        }

        .fence-boundary.removed {
            border-color: #ff4d4f;
            background: rgba(255, 77, 79, 0.1);
            opacity: 0.6;
        }

        .fence-boundary.added {
            border-color: #52c41a;
            background: rgba(82, 196, 26, 0.15);
        }

        .fence-label {
            position: absolute;
            top: 8px;
            left: 8px;
            background: rgba(255, 255, 255, 0.95);
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
            color: #333;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .fence-area-tag {
            position: absolute;
            bottom: 8px;
            right: 8px;
            background: rgba(24, 144, 255, 0.9);
            color: white;
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 11px;
            font-weight: 500;
        }

        .fence-boundary.removed .fence-area-tag {
            background: rgba(255, 77, 79, 0.9);
        }

        .fence-boundary.added .fence-area-tag {
            background: rgba(82, 196, 26, 0.9);
        }

        .fence-poi-marker {
            position: absolute;
            width: 8px;
            height: 8px;
            background: #fa541c;
            border: 2px solid white;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .fence-poi-marker.store {
            background: #1890ff;
        }

        .fence-poi-marker.resblock {
            background: #52c41a;
        }

        /* ËßÜÂõæÂàáÊç¢ÊåâÈíÆ */
        .view-toggle-container {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
            padding: 4px;
            background: #f0f0f0;
            border-radius: 8px;
            width: fit-content;
            margin-left: auto;
            margin-right: auto;
        }

        .view-toggle-btn {
            padding: 8px 20px;
            border: none;
            background: transparent;
            color: #666;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            border-radius: 6px;
            transition: all 0.3s;
        }

        .view-toggle-btn.active {
            background: #fff;
            color: #1890ff;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .view-toggle-btn:hover:not(.active) {
            color: #1890ff;
        }

        /* ÂØπÊØîËßÜÂõæ */
        .compare-view-container {
            display: none;
        }

        .compare-view-container.active {
            display: block;
        }

        .change-view-container {
            display: block;
        }

        .change-view-container.hidden {
            display: none;
        }

        .compare-columns {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
        }

        .compare-column {
            background: #fafafa;
            border-radius: 8px;
            padding: 16px;
            border: 1px solid #e8e8e8;
        }

        .compare-column-header {
            font-size: 14px;
            font-weight: 600;
            color: #333;
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 2px solid #e8e8e8;
        }

        .compare-column-header.before {
            color: #ff4d4f;
        }

        .compare-column-header.after {
            color: #52c41a;
        }

        .compare-person-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
            max-height: 400px;
            overflow-y: auto;
        }

        .compare-person-item {
            padding: 10px 12px;
            background: #fff;
            border-radius: 4px;
            border: 1px solid #e8e8e8;
            font-size: 13px;
            color: #333;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .compare-person-item .person-number {
            width: 20px;
            height: 20px;
            background: #e6f7ff;
            color: #1890ff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            font-weight: 600;
            flex-shrink: 0;
        }

        .compare-person-item.removed {
            text-decoration: line-through;
            background: #ffebee;
            color: #d32f2f;
            opacity: 0.8;
        }

        .compare-person-item.added {
            background: #f6ffed;
        }

        /* ÂØπÊØîËßÜÂõæË°®Ê†ºÊ†∑Âºè */
        .compare-table-container {
            width: 100%;
            overflow-x: auto;
        }

        .compare-table {
            width: 100%;
            border-collapse: collapse;
            background: #fff;
            font-size: 13px;
        }

        .compare-table thead tr {
            background: linear-gradient(135deg, #e6f7ff 0%, #bae7ff 100%);
        }

        .compare-table th {
            padding: 12px 16px;
            text-align: left;
            font-weight: 600;
            color: #333;
            border-bottom: 2px solid #91d5ff;
            white-space: nowrap;
        }

        .compare-table tbody tr {
            border-bottom: 1px solid #f0f0f0;
            transition: all 0.2s;
        }

        .compare-table tbody tr:hover {
            background: #fafafa;
        }

        .compare-table td {
            padding: 12px 16px;
            color: #333;
        }

        .compare-table .change-type-cell {
            text-align: center;
        }

        .change-type-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
        }

        .change-type-badge.add {
            background: #f6ffed;
            color: #52c41a;
            border: 1px solid #b7eb8f;
        }

        .change-type-badge.remove {
            background: #fff1f0;
            color: #ff4d4f;
            border: 1px solid #ffccc7;
        }

        .change-type-badge.modify {
            background: #fff7e6;
            color: #fa8c16;
            border: 1px solid #ffd591;
        }

        .person-list-cell {
            max-width: 300px;
        }

        .person-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
        }

        .person-tag-small {
            padding: 3px 8px;
            background: #f5f5f5;
            border: 1px solid #d9d9d9;
            border-radius: 3px;
            font-size: 12px;
            color: #333;
        }

        .person-tag-small.add {
            background: #f6ffed;
            border-color: #b7eb8f;
            color: #52c41a;
        }

        .person-tag-small.remove {
            background: #fff1f0;
            border-color: #ffccc7;
            color: #ff4d4f;
            text-decoration: line-through;
        }

        .empty-cell {
            color: #999;
            font-style: italic;
        }

        /* Ë°®Ê†ºÂàÜÈ°µÊ†∑Âºè */
        .table-pagination {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 0;
            margin-top: 16px;
            border-top: 1px solid #f0f0f0;
        }

        .pagination-info {
            font-size: 13px;
            color: #666;
        }

        .pagination-controls {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .pagination-btn {
            padding: 6px 12px;
            border: 1px solid #d9d9d9;
            background: #fff;
            color: #333;
            border-radius: 4px;
            cursor: pointer;
            font-size: 13px;
            transition: all 0.2s;
        }

        .pagination-btn:hover:not(:disabled) {
            border-color: #1890ff;
            color: #1890ff;
        }

        .pagination-btn:disabled {
            cursor: not-allowed;
            opacity: 0.5;
        }

        .pagination-page-numbers {
            display: flex;
            gap: 4px;
        }

        .pagination-page-btn {
            min-width: 32px;
            height: 32px;
            padding: 0 8px;
            border: 1px solid #d9d9d9;
            background: #fff;
            color: #333;
            border-radius: 4px;
            cursor: pointer;
            font-size: 13px;
            transition: all 0.2s;
        }

        .pagination-page-btn:hover:not(.active) {
            border-color: #1890ff;
            color: #1890ff;
        }

        .pagination-page-btn.active {
            border-color: #1890ff;
            background: #1890ff;
            color: #fff;
        }

        /* ÂàÜÁªÑÂ±ïÁ§∫Ê†∑Âºè */
        .group-container {
            margin-bottom: 16px;
        }

        .group-header {
            font-size: 14px;
            font-weight: 600;
            color: #1890ff;
            padding: 10px 16px;
            background: #e6f7ff;
            border-left: 3px solid #1890ff;
            border-radius: 4px;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .group-header .group-name {
            flex: 1;
        }

        .group-header .group-count {
            font-size: 12px;
            color: #666;
            background: #fff;
            padding: 2px 8px;
            border-radius: 10px;
        }

        .group-person-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            padding: 0 8px;
        }

        .group-person-tag {
            padding: 6px 12px;
            background: #f5f5f5;
            border: 1px solid #d9d9d9;
            border-radius: 4px;
            font-size: 13px;
            color: #333;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            transition: all 0.2s;
        }

        .group-person-tag:hover {
            background: #e6f7ff;
            border-color: #91d5ff;
        }

        .group-person-tag.add {
            background: #f6ffed;
            border-color: #b7eb8f;
            color: #52c41a;
        }

        .group-person-tag.remove {
            background: #fff1f0;
            border-color: #ffccc7;
            color: #ff4d4f;
            text-decoration: line-through;
            opacity: 0.8;
        }

        .group-person-tag .person-icon {
            font-size: 14px;
        }

        /* ÂèòÊõ¥ÂØπÊØîÂÆπÂô® */
        .change-compare-container {
            display: flex;
            gap: 16px;
        }

        .change-compare-column {
            flex: 1;
            background: #fff;
            border: 1px solid #e8e8e8;
            border-radius: 4px;
            overflow: hidden;
        }

        .change-compare-header {
            background: #fafafa;
            padding: 10px 12px;
            font-size: 13px;
            font-weight: 600;
            color: #333;
            border-bottom: 1px solid #e8e8e8;
            text-align: center;
        }

        .change-compare-body {
            padding: 12px;
        }

        .compare-item {
            padding: 8px 10px;
            margin-bottom: 8px;
            background: #fafafa;
            border-radius: 4px;
            font-size: 13px;
            color: #333;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .compare-item:last-child {
            margin-bottom: 0;
        }

        .compare-item-number {
            width: 20px;
            height: 20px;
            background: #e6f7ff;
            color: #1890ff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            font-weight: 600;
            flex-shrink: 0;
        }

        .change-compare-empty {
            padding: 20px;
            text-align: center;
            color: #999;
            font-size: 13px;
        }

        /* ËµÑÊ∫êÈáèÂèòÂåñÂÄº */
        .resource-change-value {
            font-size: 14px;
            font-weight: 600;
        }

        .resource-change-value.positive {
            color: #52c41a;
        }

        .resource-change-value.negative {
            color: #ff4d4f;
        }

        /* ËµÑÁÆ°ÁªüËÆ°ÊëòË¶Å */
        .person-stats-summary {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
            margin-bottom: 20px;
        }

        .stats-item {
            background: #fff;
            border: 1px solid #e8e8e8;
            border-radius: 8px;
            padding: 20px 24px;
            display: flex;
            flex-direction: column;
            gap: 8px;
            transition: all 0.3s;
        }

        .stats-item:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            border-color: #d9d9d9;
        }

        .stats-label {
            font-size: 14px;
            color: #666;
            font-weight: 400;
        }

        .stats-value {
            font-size: 32px;
            font-weight: 600;
            color: #1890ff;
            line-height: 1;
        }

        .stats-value.highlight-resource {
            color: #1890ff;
        }

        .stats-item.clickable {
            cursor: pointer;
            position: relative;
        }

        .stats-item.clickable:hover {
            transform: translateY(-2px);
            border-color: #1890ff;
        }

        .stats-hint {
            font-size: 12px;
            color: #1890ff;
            margin-left: 8px;
        }

        .stats-item.clickable:hover .stats-hint {
            text-decoration: underline;
        }

        .clickable-count {
            cursor: pointer;
            color: #1890ff;
            transition: all 0.2s;
            padding: 2px 4px;
            border-radius: 2px;
        }

        .clickable-count:hover {
            background: #e6f7ff;
            text-decoration: underline;
        }

        .clickable-count.active {
            background: #1890ff;
            color: #fff;
            font-weight: 600;
        }

        /* Êó†ÂèòÂåñ‰∫∫ÂëòÊ†∑Âºè */
        .person-tag.stable {
            background: #f0f0f0;
            color: #666;
        }

        .stable-val {
            color: #666;
        }

        /* ËµÑÊ∫êÈáèÂØπÊØîÂºπÁ™ó */
        .resource-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            z-index: 9999;
            align-items: center;
            justify-content: center;
        }

        .resource-modal.show {
            display: flex;
        }

        .resource-modal-content {
            background: #fff;
            border-radius: 12px;
            width: 90%;
            max-width: 900px;
            max-height: 85vh;
            overflow-y: auto;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            animation: modalSlideIn 0.3s ease-out;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 24px 30px;
            border-bottom: 2px solid #f0f0f0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 12px 12px 0 0;
        }

        .modal-header h3 {
            margin: 0;
            font-size: 20px;
            font-weight: 600;
            color: #fff;
        }

        .modal-close {
            width: 32px;
            height: 32px;
            border: none;
            background: rgba(255, 255, 255, 0.2);
            color: #fff;
            font-size: 24px;
            border-radius: 6px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            line-height: 1;
        }

        .modal-close:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .modal-body {
            padding: 30px;
        }

        .resource-summary-cards {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
            margin-bottom: 30px;
        }

        .summary-card {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
        }

        .card-label {
            font-size: 13px;
            color: #666;
            margin-bottom: 8px;
        }

        .card-value {
            font-size: 28px;
            font-weight: 600;
            color: #333;
            margin-bottom: 4px;
        }

        .card-person {
            font-size: 12px;
            color: #999;
        }

        .resource-chart-section {
            background: #fafafa;
            border-radius: 10px;
            padding: 20px;
        }

        .resource-chart-section h4 {
            margin: 0 0 20px 0;
            font-size: 16px;
            color: #333;
            font-weight: 600;
        }

        .resource-ranking {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .ranking-item {
            display: grid;
            grid-template-columns: 40px 150px 1fr 80px;
            align-items: center;
            gap: 12px;
            background: #fff;
            padding: 12px 16px;
            border-radius: 8px;
            transition: all 0.2s;
        }

        .ranking-item:hover {
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            transform: translateX(4px);
        }

        .rank-number {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #fff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 14px;
        }

        .ranking-item:nth-child(1) .rank-number {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
        }

        .ranking-item:nth-child(2) .rank-number {
            background: linear-gradient(135deg, #C0C0C0 0%, #808080 100%);
        }

        .ranking-item:nth-child(3) .rank-number {
            background: linear-gradient(135deg, #CD7F32 0%, #8B4513 100%);
        }

        .rank-info {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .rank-name {
            font-size: 14px;
            font-weight: 500;
            color: #333;
        }

        .rank-tag {
            padding: 2px 8px;
            border-radius: 3px;
            font-size: 11px;
            background: #f0f0f0;
            color: #999;
        }

        .rank-tag.changed {
            background: #e6f7ff;
            color: #1890ff;
        }

        .rank-tag.removed {
            background: #ffebee;
            color: #f44336;
            border: 1px solid #ffcdd2;
        }

        .rank-bar-container {
            flex: 1;
            height: 32px;
            background: #f5f5f5;
            border-radius: 6px;
            overflow: hidden;
            position: relative;
        }

        .rank-bar {
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 10px;
            transition: width 0.5s ease-out;
            border-radius: 6px;
        }

        .rank-value {
            color: #fff;
            font-size: 13px;
            font-weight: 600;
        }

        .rank-change {
            font-size: 13px;
            color: #52c41a;
            font-weight: 600;
            text-align: right;
        }

        .rank-change.stable {
            color: #999;
        }

        @media (max-width: 1024px) {
            .resource-summary-cards {
                grid-template-columns: repeat(2, 1fr);
            }

            .ranking-item {
                grid-template-columns: 40px 120px 1fr 70px;
            }
        }

        @media (max-width: 768px) {
            .resource-modal-content {
                width: 95%;
                max-height: 90vh;
            }

            .resource-summary-cards {
                grid-template-columns: 1fr;
            }

            .ranking-item {
                grid-template-columns: 32px 100px 1fr 60px;
                font-size: 12px;
            }
        }

        /* ÂàÜÈ°µÂÆπÂô® */
        .pagination-container {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 24px 20px;
            background: #fff;
            margin-top: 20px;
        }

        .pagination-info {
            font-size: 13px;
            color: #999;
            margin-right: 20px;
        }

        .pagination-info span {
            font-weight: 500;
            color: #666;
        }

        .pagination-controls {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .page-btn {
            min-width: 80px;
            height: 36px;
            padding: 0 16px;
            border: 1px solid #e0e0e0;
            background: #fff;
            color: #666;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s;
            font-weight: 500;
        }

        .page-btn:hover:not(:disabled) {
            background: #1890ff;
            color: #fff;
            border-color: #1890ff;
        }

        .page-btn:disabled {
            color: #d0d0d0;
            cursor: not-allowed;
            background: #f9f9f9;
            border-color: #f0f0f0;
        }

        .page-numbers {
            display: flex;
            gap: 6px;
            margin: 0 8px;
        }

        .page-number {
            min-width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid #e0e0e0;
            background: #fff;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            color: #666;
            transition: all 0.2s;
            font-weight: 500;
        }

        .page-number:hover {
            background: #1890ff;
            color: #fff;
            border-color: #1890ff;
        }

        .page-number.active {
            background: #1890ff;
            color: #fff;
            border-color: #1890ff;
            box-shadow: 0 2px 4px rgba(24, 144, 255, 0.3);
        }

        /* ËµÑÊ∫êÈáèÁªüËÆ° */
        .resource-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 0;
        }

        @media (max-width: 1200px) {
            .resource-stats {
                grid-template-columns: 1fr;
            }
        }

        .resource-stat-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px;
            background: #fff;
            border-radius: 4px;
            border: 1px solid #e8e8e8;
            gap: 8px;
        }

        .resource-stat-item .stat-label {
            font-size: 13px;
            color: #666;
            flex-shrink: 0;
        }

        .resource-stat-item .stat-value {
            font-size: 16px;
            font-weight: 600;
            color: #333;
            flex: 1;
            text-align: center;
        }

        .resource-stat-item .stat-change {
            font-size: 12px;
            font-weight: 500;
            padding: 2px 8px;
            border-radius: 2px;
            flex-shrink: 0;
        }

        .resource-stat-item .stat-change.positive {
            background: #f6ffed;
            color: #52c41a;
        }

        .resource-stat-item .stat-change.negative {
            background: #fff1f0;
            color: #ff4d4f;
        }

        .change-info {
            flex: 1;
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .change-title {
            font-size: 14px;
            font-weight: 500;
            color: #333;
            min-width: 100px;
        }

        .change-detail {
            display: flex;
            align-items: center;
            gap: 10px;
            flex: 1;
        }

        .change-type {
            padding: 2px 8px;
            border-radius: 2px;
            font-size: 12px;
            font-weight: 500;
        }

        .change-type.add {
            background: #f6ffed;
            color: #52c41a;
        }

        .change-type.modify {
            background: #e6f7ff;
            color: #1890ff;
        }

        .change-desc {
            font-size: 13px;
            color: #666;
        }

        .change-value {
            font-size: 14px;
            font-weight: 600;
            color: #1890ff;
            margin-left: auto;
        }

        /* ‰∏§ÂàóÂØπÊØîÂ∏ÉÂ±Ä */
        .comparison-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .comparison-column {
            background: #fff;
        }

        .column-header {
            font-size: 14px;
            color: #333;
            padding: 12px 0;
            text-align: center;
            border-bottom: 1px solid #f0f0f0;
            margin-bottom: 16px;
        }

        /* ÊåáÊ†áÂç°Áâá */
        .metric-card {
            background: #fff;
            border: 1px solid #e8e8e8;
            border-radius: 4px;
            padding: 16px;
            margin-bottom: 12px;
        }

        .card-title {
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 1px solid #f0f0f0;
        }

        .card-title.modified {
            color: #fda33e;
        }

        .card-title.online {
            color: #333;
        }

        .metric-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 6px 0;
            font-size: 13px;
        }

        .metric-label {
            color: #666;
        }

        .metric-value {
            color: #333;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .increase-icon {
            color: #52c41a;
            font-size: 22px;
            font-weight: 700;
            margin-left: 6px;
        }

        .decrease-icon {
            color: #ff4d4f;
            font-size: 22px;
            font-weight: 700;
            margin-left: 6px;
        }

        .neutral-icon {
            color: #999;
            font-size: 22px;
            font-weight: 700;
            margin-left: 6px;
        }

        /* Âú∞ÂõæÂå∫Âüü */
        .map-section {
            margin-bottom: 20px;
        }

        .map-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .map-wrapper {
            position: relative;
            background: #f5f5f5;
            border: 1px solid #e8e8e8;
            border-radius: 4px;
            height: 500px;
            overflow: hidden;
        }

        .map-placeholder {
            width: 100%;
            height: 100%;
            background: #fafafa;
            position: relative;
            background-image: 
                linear-gradient(#e8e8e8 1px, transparent 1px),
                linear-gradient(90deg, #e8e8e8 1px, transparent 1px);
            background-size: 20px 20px;
        }

        /* Âú∞ÂõæÂÜÖÁöÑÁâáÂå∫ÊµÆÂ±Ç */
        .area-popup {
            position: absolute;
            left: 120px;
            top: 120px;
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.15);
            padding: 12px 16px;
            min-width: 200px;
            z-index: 10;
        }

        .area-popup-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .area-popup-title {
            font-size: 14px;
            font-weight: 500;
        }

        .popup-close {
            width: 20px;
            height: 20px;
            border: none;
            background: transparent;
            cursor: pointer;
            font-size: 16px;
            color: #999;
        }

        .area-popup-stats {
            display: flex;
            gap: 20px;
            padding: 8px 0;
            border-bottom: 1px solid #f0f0f0;
            margin-bottom: 8px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-label {
            font-size: 12px;
            color: #999;
            margin-bottom: 4px;
        }

        .stat-value {
            font-size: 18px;
            font-weight: 600;
        }

        .stat-value.primary {
            color: #fda33e;
        }

        .stat-subtitle {
            font-size: 12px;
            color: #666;
            margin-top: 4px;
        }

        /* Âú∞ÂõæÂè≥‰æß‰∫∫ÂëòÂàóË°® */
        .personnel-panel {
            position: absolute;
            right: 12px;
            top: 50px;
            width: 180px;
            max-height: 400px;
            background: #fff;
            border-radius: 4px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            overflow: hidden;
        }

        .panel-tabs {
            display: flex;
            border-bottom: 1px solid #f0f0f0;
        }

        .panel-tab {
            flex: 1;
            padding: 10px;
            text-align: center;
            font-size: 13px;
            color: #666;
            cursor: pointer;
            background: transparent;
            border: none;
            border-bottom: 2px solid transparent;
            transition: all 0.3s;
        }

        .panel-tab.active {
            color: #1890ff;
            border-bottom-color: #1890ff;
        }

        .personnel-list {
            max-height: 350px;
            overflow-y: auto;
            padding: 8px;
        }

        .personnel-group {
            margin-bottom: 12px;
        }

        .group-title {
            font-size: 12px;
            font-weight: 500;
            color: #333;
            padding: 6px 8px;
            background: #f5f5f5;
            border-radius: 2px;
            margin-bottom: 4px;
        }

        .personnel-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 6px 8px;
            font-size: 12px;
            border-radius: 2px;
            transition: background 0.2s;
        }

        .personnel-item:hover {
            background: #f5f5f5;
        }

        .personnel-name {
            display: flex;
            align-items: center;
            gap: 6px;
            color: #666;
        }

        .color-dot {
            width: 8px;
            height: 8px;
            border-radius: 2px;
        }

        .personnel-value {
            font-weight: 500;
            color: #333;
        }

        .empty-text {
            text-align: center;
            padding: 40px 20px;
            color: #999;
            font-size: 13px;
        }

        /* ÂÖ≥Á≥ªË°®Ê†ºÂå∫Âüü */
        .relation-section {
            margin-bottom: 20px;
        }

        .section-title {
            font-size: 14px;
            font-weight: 500;
            color: #333;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .search-bar {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .search-input {
            width: 160px;
            height: 32px;
            padding: 4px 11px;
            border: 1px solid #d9d9d9;
            border-radius: 2px;
            font-size: 14px;
            outline: none;
            transition: all 0.3s;
        }

        .search-input:focus {
            border-color: #40a9ff;
            box-shadow: 0 0 0 2px rgba(24, 144, 255, 0.2);
        }

        .search-btn {
            height: 32px;
            padding: 4px 15px;
            background: #1890ff;
            color: #fff;
            border: none;
            border-radius: 2px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .search-btn:hover {
            background: #40a9ff;
        }

        .table-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .table-wrapper {
            border: 1px solid #e8e8e8;
            border-radius: 4px;
            overflow: hidden;
            background: #fff;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 13px;
        }

        thead {
            background: #fafafa;
        }

        th {
            padding: 12px;
            text-align: left;
            font-weight: 500;
            color: #333;
            border-bottom: 1px solid #e8e8e8;
        }

        td {
            padding: 12px;
            color: #666;
            border-bottom: 1px solid #f0f0f0;
        }

        tbody tr:last-child td {
            border-bottom: none;
        }

        tbody tr:hover {
            background: #fafafa;
        }

        .table-empty {
            padding: 60px 20px;
            text-align: center;
            color: #999;
            font-size: 13px;
        }

        /* ÂàÜÈ°µ */
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 8px;
            padding: 16px;
        }

        .page-btn {
            width: 32px;
            height: 32px;
            border: 1px solid #d9d9d9;
            background: #fff;
            border-radius: 2px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .page-btn:hover {
            border-color: #40a9ff;
            color: #40a9ff;
        }

        .page-btn.active {
            border-color: #1890ff;
            color: #1890ff;
            background: #e6f7ff;
        }

        .page-btn:disabled {
            cursor: not-allowed;
            opacity: 0.5;
        }

        /* ÊªöÂä®Êù° */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        ::-webkit-scrollbar-track {
            background: #f0f0f0;
        }

        ::-webkit-scrollbar-thumb {
            background: #bfbfbf;
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #999;
        }

        /* TooltipÊ†∑Âºè */
        .tooltip-wrapper {
            position: relative;
            display: inline-block;
            cursor: help;
            border-bottom: 1px dashed #1890ff;
        }

        .tooltip-wrapper .tooltip-content {
            visibility: hidden;
            opacity: 0;
            position: absolute;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            background: #333;
            color: #fff;
            padding: 8px 12px;
            border-radius: 4px;
            font-size: 12px;
            white-space: nowrap;
            z-index: 1000;
            transition: opacity 0.2s, visibility 0.2s;
            pointer-events: none;
        }

        .tooltip-wrapper .tooltip-content::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            border: 5px solid transparent;
            border-top-color: #333;
        }

        .tooltip-wrapper:hover .tooltip-content {
            visibility: visible;
            opacity: 1;
        }

        /* Â§öË°åtooltipÊ†∑Âºè */
        .tooltip-content.multiline {
            white-space: normal;
            min-width: 150px;
            max-width: 300px;
            text-align: left;
        }

        .tooltip-content.multiline .tooltip-item {
            display: block;
            padding: 2px 0;
        }

        /* Â∑•ÂÖ∑Ê†èÊ†∑Âºè */
        .list-toolbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 16px;
            background: #fafafa;
            border: 1px solid #e8e8e8;
            border-bottom: none;
            border-radius: 4px 4px 0 0;
        }

        .toolbar-left {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .toolbar-right {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .search-box {
            display: flex;
            align-items: center;
            background: #fff;
            border: 1px solid #d9d9d9;
            border-radius: 4px;
            padding: 4px 12px;
            width: 280px;
        }

        .search-box:focus-within {
            border-color: #1890ff;
            box-shadow: 0 0 0 2px rgba(24, 144, 255, 0.1);
        }

        .search-box input {
            border: none;
            outline: none;
            flex: 1;
            font-size: 14px;
            padding: 4px 8px;
        }

        .search-icon {
            color: #bfbfbf;
            font-size: 14px;
        }

        .filter-group {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .filter-label {
            font-size: 14px;
            color: #666;
        }

        .filter-select {
            padding: 5px 30px 5px 12px;
            border: 1px solid #d9d9d9;
            border-radius: 4px;
            font-size: 14px;
            background: #fff;
            cursor: pointer;
            outline: none;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23666' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 10px center;
        }

        .filter-select:hover {
            border-color: #1890ff;
        }

        .export-btn {
            padding: 6px 16px;
            background: #fff;
            border: 1px solid #d9d9d9;
            border-radius: 4px;
            font-size: 14px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.3s;
        }

        .export-btn:hover {
            color: #1890ff;
            border-color: #1890ff;
        }

        .export-icon {
            font-size: 14px;
        }

        /* ÂàÜÈ°µÊ†∑Âºè */
        .pagination-wrapper {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px;
            background: #fafafa;
            border: 1px solid #e8e8e8;
            border-top: none;
            border-radius: 0 0 4px 4px;
        }

        .pagination-info {
            font-size: 14px;
            color: #666;
        }

        .pagination-controls {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .page-size-selector {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-right: 16px;
        }

        .page-size-selector select {
            padding: 4px 30px 4px 8px;
            border: 1px solid #d9d9d9;
            border-radius: 4px;
            font-size: 14px;
            cursor: pointer;
            outline: none;
            appearance: none;
            background: #fff;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23666' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 8px center;
        }

        .pagination-btn {
            padding: 4px 12px;
            border: 1px solid #d9d9d9;
            background: #fff;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
            min-width: 32px;
            text-align: center;
        }

        .pagination-btn:hover:not(:disabled) {
            color: #1890ff;
            border-color: #1890ff;
        }

        .pagination-btn:disabled {
            cursor: not-allowed;
            opacity: 0.4;
        }

        .pagination-btn.active {
            color: #fff;
            background: #1890ff;
            border-color: #1890ff;
        }

        .page-jump {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-left: 16px;
        }

        .page-jump input {
            width: 50px;
            padding: 4px 8px;
            border: 1px solid #d9d9d9;
            border-radius: 4px;
            text-align: center;
            font-size: 14px;
            outline: none;
        }

        .page-jump input:focus {
            border-color: #1890ff;
        }

        .page-jump-btn {
            padding: 4px 12px;
            background: #fff;
            border: 1px solid #d9d9d9;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
        }

        .page-jump-btn:hover {
            color: #1890ff;
            border-color: #1890ff;
        }

        /* ÂàóË°®ÂÆπÂô®Ë∞ÉÊï¥ */
        .list-container {
            background: #fff;
        }

        .person-list {
            border-radius: 0;
            border-top: none;
            border-bottom: none;
        }

        /* Êó†Êï∞ÊçÆÁä∂ÊÄÅ */
        .no-data {
            text-align: center;
            padding: 40px;
            color: #999;
            font-size: 14px;
        }

        .no-data-icon {
            font-size: 48px;
            margin-bottom: 12px;
            opacity: 0.3;
        }
    </style>
</head>
<body>
    <div class="modal-overlay"></div>
    <div class="modal-container">
        <!-- Â§¥ÈÉ® -->
        <div class="modal-header">
            <div class="modal-title">Êúù‰∏úÂ§ßÂå∫-Êúù‰∏ú1</div>
            <button class="close-btn" onclick="window.history.back()">√ó</button>
        </div>

        <!-- ÂÜÖÂÆπ -->
        <div class="modal-body">
            <!-- Êï∞ÊçÆÊÄªËßà -->
            <div class="overview-section">
                <div class="overview-title">Êï∞ÊçÆÊÄªËßà</div>
                <div class="overview-grid">
                    <!-- ÂèòÊõ¥ÁâáÂå∫Êï∞Èáè -->
                    <div class="overview-card">
                        <div class="overview-label">ÂèòÊõ¥ÁâáÂå∫Êï∞Èáè</div>
                        <div class="overview-value">2</div>
                        <div class="overview-unit">Êúù‰∏ú1„ÄÅÊúù‰∏ú2</div>
                    </div>
                    
                    <!-- ‰Ωú‰∏öÁõòÊï∞Èáè -->
                    <div class="overview-card">
                        <div class="overview-label">Ê•ºÁõòÊï∞Èáè</div>
                        <div class="plate-stats">
                            <div class="plate-item">
                                <div class="plate-count">79</div>
                                <div class="plate-label">ÂèØ‰Ωú‰∏öÁõò</div>
                            </div>
                            <div class="plate-divider">|</div>
                            <div class="plate-item">
                                <div class="plate-count">79</div>
                                <div class="plate-label">‰∏çÂèØ‰Ωú‰∏öÁõò</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ËµÑÊ∫ê‰ΩøÁî®ÂèòÂåñ -->
                    <div class="overview-card">
                        <div class="overview-label">ËµÑÊ∫ê‰ΩøÁî®</div>
                        <div class="overview-change">159.0 <span class="decrease-icon">‚Üò</span></div>
                        <div class="value-compare">
                            <span>241.83</span>
                            <span class="arrow">‚Üí</span>
                            <span>159.0</span>
                        </div>
                    </div>
                    
                    <!-- ËµÑÊ∫êÈáèÂèòÂåñ -->
                    <div class="overview-card">
                        <div class="overview-label">ËµÑÊ∫êÈáè</div>
                        <div class="overview-change">351.47 <span class="neutral-icon">‚Üí</span></div>
                        <div class="value-compare">
                            <span>351.47</span>
                            <span class="arrow">‚Üí</span>
                            <span>351.47</span>
                        </div>
                    </div>
                    
                    <!-- ËµÑÊ∫êÂà©Áî®ÁéáÂèòÂåñ -->
                    <div class="overview-card">
                        <div class="overview-label">ËµÑÊ∫êÂà©Áî®Áéá</div>
                        <div class="overview-change">69.42% <span class="increase-icon">‚Üó</span></div>
                        <div class="value-compare">
                            <span>0.0%</span>
                            <span class="arrow">‚Üí</span>
                            <span>69.42%</span>
                        </div>
                    </div>
                    
                    <!-- ‰∫∫ÂùáËµÑÊ∫êÈáèÂèòÂåñ -->
                    <div class="overview-card">
                        <div class="overview-label">‰∫∫ÂùáËµÑÊ∫êÈáè</div>
                        <div class="overview-change">7.87 <span class="increase-icon">‚Üó</span></div>
                        <div class="value-compare">
                            <span>0.0</span>
                            <span class="arrow">‚Üí</span>
                            <span>7.87</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- TabÂàáÊç¢ÂØºËà™ -->
            <div class="tab-header" style="background: #fff; border: 1px solid #e8e8e8; border-radius: 4px; margin-bottom: 16px;">
                <button class="tab-item active" data-tab="regionchange">
                    <span class="tab-icon">üó∫Ô∏è</span>
                    <span>Â§ßÂå∫ÂèòÊõ¥ËØ¶ÊÉÖ</span>
                    <span class="tab-badge">5</span>
                </button>
                <button class="tab-item" data-tab="changelist">
                    <span class="tab-icon">üë•</span>
                    <span>‰∫∫ÂëòÂèòÊõ¥ËØ¶ÊÉÖ</span>
                    <span class="tab-badge">45</span>
                </button>
                <button class="tab-item" data-tab="storechange">
                    <span class="tab-icon">üè™</span>
                    <span>Èó®Â∫óÂèòÊõ¥ËØ¶ÊÉÖ</span>
                    <span class="tab-badge">8</span>
                </button>
                <button class="tab-item" data-tab="resblockchange">
                    <span class="tab-icon">üè¢</span>
                    <span>Ê•ºÁõòÂèòÊõ¥ËØ¶ÊÉÖ</span>
                    <span class="tab-badge">12</span>
                </button>
                <button class="tab-item" data-tab="overview">
                    <span class="tab-icon">üìä</span>
                    <span>Êï¥‰ΩìÊï∞ÊçÆÂØπÊØî</span>
                    <span class="tab-badge">2</span>
                </button>
            </div>

            <!-- TabÂÜÖÂÆπÂå∫Âüü -->
            <div class="tab-content">

            <!-- TabÈù¢Êùø1: Êï¥‰ΩìÊï∞ÊçÆÂØπÊØî -->
            <div class="tab-panel" id="overview">
            <div class="comparison-container">
                <!-- Â∑¶‰æßÔºöÂΩìÂâçÁöÑ‰øÆÊîπ -->
                <div class="comparison-column">
                    <div class="column-header">Êúù‰∏úÂ§ßÂå∫ÔºàÂΩìÂâçÁöÑ‰øÆÊîπÔºâ</div>
                    
                    <!-- Êúù‰∏úÂ§ßÂå∫Âç°Áâá -->
                    <div class="metric-card">
                        <div class="card-title modified">Êúù‰∏úÂ§ßÂå∫ÔºàÊúâ‰øÆÊîπÔºâ</div>
                        <div class="metric-row">
                            <span class="metric-label">ËµÑÊ∫ê‰ΩøÁî®:</span>
                            <span class="metric-value">
                                <span class="old-val">0.0</span>
                                <span class="arrow">‚Üí</span>
                                <span class="new-val">244.01</span>
                            </span>
                        </div>
                        <div class="metric-row">
                            <span class="metric-label">ËµÑÊ∫êÈáèÂèòÂåñ:</span>
                            <span class="metric-value">
                                <span class="old-val">351.47</span>
                                <span class="arrow">‚Üí</span>
                                <span class="new-val">351.47</span>
                            </span>
                        </div>
                        <div class="metric-row">
                            <span class="metric-label">ËµÑÊ∫êÂà©Áî®Áéá:</span>
                            <span class="metric-value">
                                <span class="old-val">0.0%</span>
                                <span class="arrow">‚Üí</span>
                                <span class="new-val">69.42%</span>
                            </span>
                        </div>
                        <div class="metric-row">
                            <span class="metric-label">‰∫∫ÂùáËµÑÊ∫êÈáè:</span>
                            <span class="metric-value">
                                <span class="old-val">0.0</span>
                                <span class="arrow">‚Üí</span>
                                <span class="new-val">7.87</span>
                            </span>
                        </div>
                    </div>

                    <!-- Êúù‰∏ú1Âç°Áâá -->
                    <div class="metric-card">
                        <div class="card-title modified">Êúù‰∏ú1ÔºàÊúâ‰øÆÊîπÔºâ</div>
                        <div class="metric-row">
                            <span class="metric-label">ÁâáÂå∫ÈÖç‰∫∫Êï∞Èáè:</span>
                            <span class="metric-value">
                                <span class="old-val">0</span>
                                <span class="arrow">‚Üí</span>
                                <span class="new-val">35</span>
                            </span>
                        </div>
                        <div class="metric-row">
                            <span class="metric-label">Ê•ºÁõòÈÖç‰∫∫Êï∞Èáè:</span>
                            <span class="metric-value">
                                <span class="old-val">0</span>
                                <span class="arrow">‚Üí</span>
                                <span class="new-val">14</span>
                            </span>
                        </div>
                        <div class="metric-row">
                            <span class="metric-label">Èó®Â∫óÈÖç‰∫∫Êï∞Èáè:</span>
                            <span class="metric-value">
                                <span class="old-val">0</span>
                                <span class="arrow">‚Üí</span>
                                <span class="new-val">21</span>
                            </span>
                        </div>
                        <div class="metric-row">
                            <span class="metric-label">Ê•ºÁõòÊï∞ÈáèÂèòÂåñ:</span>
                            <span class="metric-value">
                                <span class="old-val">79</span>
                                <span class="arrow">‚Üí</span>
                                <span class="new-val">79</span>
                            </span>
                        </div>
                        <div class="metric-row">
                            <span class="metric-label">Èó®Â∫óÊï∞ÈáèÂèòÂåñ:</span>
                            <span class="metric-value">
                                <span class="old-val">6</span>
                                <span class="arrow">‚Üí</span>
                                <span class="new-val">6</span>
                            </span>
                        </div>
                    </div>
                </div>

                <!-- Âè≥‰æßÔºöÁ∫ø‰∏äÂø´ÁÖß -->
                <div class="comparison-column">
                    <div class="column-header">Êúù‰∏úÂ§ßÂå∫ÔºàÁ∫ø‰∏äÂø´ÁÖßÔºâ</div>
                    
                    <!-- Êúù‰∏úÂ§ßÂå∫Âç°Áâá -->
                    <div class="metric-card">
                        <div class="card-title online">Êúù‰∏úÂ§ßÂå∫</div>
                        <div class="metric-row">
                            <span class="metric-label">ËµÑÊ∫ê‰ΩøÁî®:</span>
                            <span class="metric-value">0.0</span>
                        </div>
                        <div class="metric-row">
                            <span class="metric-label">ËµÑÊ∫êÈáèÂèòÂåñ:</span>
                            <span class="metric-value">351.47</span>
                        </div>
                        <div class="metric-row">
                            <span class="metric-label">ËµÑÊ∫êÂà©Áî®Áéá:</span>
                            <span class="metric-value">0.0%</span>
                        </div>
                        <div class="metric-row">
                            <span class="metric-label">‰∫∫ÂùáËµÑÊ∫êÈáè:</span>
                            <span class="metric-value">0.0</span>
                        </div>
                    </div>

                    <!-- Êúù‰∏ú1Âç°Áâá -->
                    <div class="metric-card">
                        <div class="card-title online">Êúù‰∏ú1</div>
                        <div class="metric-row">
                            <span class="metric-label">ÁâáÂå∫ÈÖç‰∫∫Êï∞Èáè:</span>
                            <span class="metric-value">0</span>
                        </div>
                        <div class="metric-row">
                            <span class="metric-label">Ê•ºÁõòÈÖç‰∫∫Êï∞Èáè:</span>
                            <span class="metric-value">0</span>
                        </div>
                        <div class="metric-row">
                            <span class="metric-label">Èó®Â∫óÈÖç‰∫∫Êï∞Èáè:</span>
                            <span class="metric-value">0</span>
                        </div>
                        <div class="metric-row">
                            <span class="metric-label">Ê•ºÁõòÊï∞ÈáèÂèòÂåñ:</span>
                            <span class="metric-value">79</span>
                        </div>
                        <div class="metric-row">
                            <span class="metric-label">Èó®Â∫óÊï∞ÈáèÂèòÂåñ:</span>
                            <span class="metric-value">6</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Âú∞ÂõæÂØπÊØîÂå∫ÂüüÔºàTabÈù¢Êùø1ÁöÑ‰∏ÄÈÉ®ÂàÜÔºâ -->
            <div class="map-section">
                <div class="map-container">
                    <!-- Â∑¶‰æßÂú∞Âõæ -->
                    <div class="map-wrapper">
                        <div class="map-placeholder">
                            <!-- ÁâáÂå∫ÂºπÁ™ó -->
                            <div class="area-popup">
                                <div class="area-popup-header">
                                    <span class="area-popup-title">Êúù‰∏ú1</span>
                                    <button class="popup-close">√ó</button>
                                </div>
                                <div class="area-popup-stats">
                                    <div class="stat-item">
                                        <div class="stat-label">ËµÑÊ∫êÈáè</div>
                                        <div class="stat-value primary">154.56</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-label">Âà©Áî®Áéá</div>
                                        <div class="stat-value primary">66.24%</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-label">ÈÖç‰∫∫</div>
                                        <div class="stat-value">6</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-label">Ê•ºÁõòÊï∞</div>
                                        <div class="stat-value">79</div>
                                    </div>
                                </div>
                            </div>

                            <!-- ‰∫∫ÂëòÂàóË°® -->
                            <div class="personnel-panel">
                                <div class="panel-tabs">
                                    <button class="panel-tab active">Ë¥£‰ªªËåÉÂõ¥</button>
                                    <button class="panel-tab">Âú®ÁÆ°ËåÉÂõ¥</button>
                                </div>
                                <div class="personnel-list">
                                    <div class="personnel-group">
                                        <div class="group-title">Êúù‰∏ú1</div>
                                        <div class="personnel-item">
                                            <span class="personnel-name">
                                                <span class="color-dot" style="background: #f97a09;"></span>
                                                ÈÇìÊôìÂÄ©
                                            </span>
                                            <span class="personnel-value">16.5</span>
                                        </div>
                                        <div class="personnel-item">
                                            <span class="personnel-name">
                                                <span class="color-dot" style="background: #d4428c;"></span>
                                                Áîò‰∫ëË¥û
                                            </span>
                                            <span class="personnel-value">11.92</span>
                                        </div>
                                        <div class="personnel-item">
                                            <span class="personnel-name">
                                                <span class="color-dot" style="background: #6b5bef;"></span>
                                                Èí±Âª∑Âèã
                                            </span>
                                            <span class="personnel-value">11</span>
                                        </div>
                                        <div class="personnel-item">
                                            <span class="personnel-name">
                                                <span class="color-dot" style="background: #ffbd4a;"></span>
                                                È´òÊ∞∏Ë¥¢
                                            </span>
                                            <span class="personnel-value">10.92</span>
                                        </div>
                                        <div class="personnel-item">
                                            <span class="personnel-name">
                                                <span class="color-dot" style="background: #a85de8;"></span>
                                                ÁôΩÈ£û
                                            </span>
                                            <span class="personnel-value">10.83</span>
                                        </div>
                                        <div class="personnel-item">
                                            <span class="personnel-name">
                                                <span class="color-dot" style="background: #4ac0d9;"></span>
                                                ÂæêÂßóÂßó
                                            </span>
                                            <span class="personnel-value">10.74</span>
                                        </div>
                                        <div class="personnel-item">
                                            <span class="personnel-name">
                                                <span class="color-dot" style="background: #eb5843;"></span>
                                                ÂàòÈõ™Âπ≥
                                            </span>
                                            <span class="personnel-value">10.41</span>
                                        </div>
                                        <div class="personnel-item">
                                            <span class="personnel-name">
                                                <span class="color-dot" style="background: #9d6bff;"></span>
                                                ÁéãÊôì‰ºü
                                            </span>
                                            <span class="personnel-value">10.40</span>
                                        </div>
                                        <div class="personnel-item">
                                            <span class="personnel-name">
                                                <span class="color-dot" style="background: #5cd3b2;"></span>
                                                È´òÊôìÊ†ã
                                            </span>
                                            <span class="personnel-value">10.08</span>
                                        </div>
                                        <div class="personnel-item">
                                            <span class="personnel-name">
                                                <span class="color-dot" style="background: #ff7eaa;"></span>
                                                ÂêëÁõàÈúû
                                            </span>
                                            <span class="personnel-value">9.99</span>
                                        </div>
                                        <div class="personnel-item">
                                            <span class="personnel-name">
                                                <span class="color-dot" style="background: #ff0000;"></span>
                                                ÊùéÂº∫
                                            </span>
                                            <span class="personnel-value">9.92</span>
                                        </div>
                                        <div class="personnel-item">
                                            <span class="personnel-name">
                                                <span class="color-dot" style="background: #00ff00;"></span>
                                                ÂàòÊñ∞‰ºü
                                            </span>
                                            <span class="personnel-value">9.67</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Âè≥‰æßÂú∞Âõæ -->
                    <div class="map-wrapper">
                        <div class="map-placeholder">
                            <!-- ÁâáÂå∫ÂºπÁ™ó -->
                            <div class="area-popup" style="right: 200px;">
                                <div class="area-popup-header">
                                    <span class="area-popup-title">Êúù‰∏ú1</span>
                                    <button class="popup-close">√ó</button>
                                </div>
                                <div class="area-popup-stats">
                                    <div class="stat-item">
                                        <div class="stat-label">ËµÑÊ∫êÈáè</div>
                                        <div class="stat-value">154.56</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-label">Âà©Áî®Áéá</div>
                                        <div class="stat-value">0%</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-label">ÈÖç‰∫∫</div>
                                        <div class="stat-value">0</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-label">Ê•ºÁõòÊï∞</div>
                                        <div class="stat-value">79</div>
                                    </div>
                                </div>
                            </div>

                            <!-- ‰∫∫ÂëòÂàóË°® - Á©∫Áä∂ÊÄÅ -->
                            <div class="personnel-panel">
                                <div class="panel-tabs">
                                    <button class="panel-tab active">Ë¥£‰ªªËåÉÂõ¥</button>
                                    <button class="panel-tab">Âú®ÁÆ°ËåÉÂõ¥</button>
                                </div>
                                <div class="empty-text">ÊöÇÊó†Êï∞ÊçÆ</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ‰∫∫Â∫óÂÖ≥Á≥ª -->
            <div class="relation-section">
                <div class="section-title">
                    <span>‰∫∫Â∫óÂÖ≥Á≥ªÔºàÊúù‰∏ú1Ôºâ</span>
                    <div class="search-bar">
                        <input type="text" class="search-input" placeholder="ËæìÂÖ•Èó®Â∫óÂêçÁß∞ÊêúÁ¥¢">
                        <input type="text" class="search-input" placeholder="ÁªèËê•‰∫∫">
                        <button class="search-btn">Êü•ËØ¢</button>
                    </div>
                </div>
                <div class="table-container">
                    <!-- Â∑¶‰æßË°®Ê†º -->
                    <div class="table-wrapper">
                        <table>
                            <thead>
                                <tr>
                                    <th>Èó®Â∫ó</th>
                                    <th>‰∏äÊúàÊé®Êàø</th>
                                    <th>ËΩ¨Êî∂Áéá</th>
                                    <th>Ê∏óÈÄèÁéá</th>
                                    <th>ÂêçÂåñÈáè</th>
                                    <th>ÂàÜÈÖç‰∫∫Âëò</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>ÂÆùÁ¶èËãë‰∏âÊñπÂ∫ó</td>
                                    <td>43</td>
                                    <td>19%</td>
                                    <td>73%</td>
                                    <td>12</td>
                                    <td>Ê¥õÈò≥Â•á„ÄÅÂìà‰ΩêÂ•á„ÄÅÈÇìÊôìÂÄ©„ÄÅÊùéÁø†Èúû„ÄÅÈí±Âª∑Âèã„ÄÅÈÇµÂª∫Âπ≥„ÄÅÂº†Âª∫Ê•†„ÄÅÂº†ÂÖÉÊ≥ì„ÄÅÂº†ÂÆèËΩ©</td>
                                </tr>
                                <tr>
                                    <td>ÈÉäÂå∫ÂüéÂª∫ÂåóÁ´ôÂüé</td>
                                    <td>35</td>
                                    <td>29%</td>
                                    <td>67%</td>
                                    <td>5</td>
                                    <td>ÁôΩÈ£û„ÄÅÊùéÂº∫„ÄÅÈÇìÊôìÂÄ©„ÄÅÈí±Âª∑Âèã„ÄÅÈí±Âª∑Âèã„ÄÅÂæêÂßóÂßó„ÄÅ‰ªªÂª∫Èúû„ÄÅÂº†ÂÖÉÊ≥ì„ÄÅÂº†ÈõÖÂì≤</td>
                                </tr>
                                <tr>
                                    <td>ÂÆùÁ¶èËä±Âõ≠ÂçóÂè£Â∫ó</td>
                                    <td>63</td>
                                    <td>17%</td>
                                    <td>61%</td>
                                    <td>4</td>
                                    <td>Ê¥õÈò≥Â•á„ÄÅÂìà‰ΩêÂ•á„ÄÅÈÇìÊôìÂÄ©„ÄÅÈÉ≠ÊôìÁ£ä„ÄÅÈí±Âª∑Âèã„ÄÅÁéãËµõÈúû„ÄÅÂæêÂßóÂßó„ÄÅÂæêÂßó„ÄÅÂº†ÂÖÉÊ≥ì„ÄÅÈôàÂÆù</td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="pagination">
                            <button class="page-btn" disabled>‚Äπ</button>
                            <button class="page-btn active">1</button>
                            <button class="page-btn">‚Ä∫</button>
                        </div>
                    </div>

                    <!-- Âè≥‰æßË°®Ê†º - Á©∫Áä∂ÊÄÅ -->
                    <div class="table-wrapper">
                        <table>
                            <thead>
                                <tr>
                                    <th>Èó®Â∫ó</th>
                                    <th>‰∏äÊúàÊé®Êàø</th>
                                    <th>ËΩ¨Êî∂Áéá</th>
                                    <th>Ê∏óÈÄèÁéá</th>
                                    <th>ÂêçÂåñÈáè</th>
                                    <th>ÂàÜÈÖç‰∫∫Âëò</th>
                                </tr>
                            </thead>
                        </table>
                        <div class="table-empty">ÊöÇÊó†Êï∞ÊçÆ</div>
                    </div>
                </div>
            </div>

            <!-- ‰∫∫ÁõòÂÖ≥Á≥ª -->
            <div class="relation-section">
                <div class="section-title">
                    <span>‰∫∫ÁõòÂÖ≥Á≥ªÔºàÊúù‰∏ú1Ôºâ</span>
                    <div class="search-bar">
                        <input type="text" class="search-input" placeholder="ËæìÂÖ•Â∞èÂå∫ÂêçÁß∞ÊêúÁ¥¢">
                        <input type="text" class="search-input" placeholder="ÁªèËê•‰∫∫">
                        <button class="search-btn">Êü•ËØ¢</button>
                    </div>
                </div>
                <div class="table-container">
                    <!-- Â∑¶‰æßË°®Ê†º -->
                    <div class="table-wrapper">
                        <table>
                            <thead>
                                <tr>
                                    <th>Â∞èÂå∫</th>
                                    <th>‰∏äÊúàÊî∂Êàø</th>
                                    <th>ÂéªÂåñ</th>
                                    <th>Âú®ÁÆ°</th>
                                    <th>Á±ªÂûã</th>
                                    <th>ÂàÜÈÖç‰∫∫Âëò</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>ÁîµÂª∫Áõõ‰∏ñ‰∏âÊúü</td>
                                    <td>1</td>
                                    <td>1</td>
                                    <td>41</td>
                                    <td>ÈõÜ‰∏≠Â±ÇÁõò</td>
                                    <td>Âìà‰ΩêÂ•á</td>
                                </tr>
                                <tr>
                                    <td>Â••Ëé±ÂòâÂõ≠</td>
                                    <td>2</td>
                                    <td>4</td>
                                    <td>30</td>
                                    <td>ÈõÜ‰∏≠Â±ÇÁõò</td>
                                    <td>Âìà‰ΩêÂ•á</td>
                                </tr>
                                <tr>
                                    <td>Âí∏Á¶èÂòâÂõ≠</td>
                                    <td>1</td>
                                    <td>1</td>
                                    <td>19</td>
                                    <td>Âá∫ÁßüÂ±ÇÁõò</td>
                                    <td>Âìà‰ΩêÂ•á</td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="pagination">
                            <button class="page-btn" disabled>‚Äπ</button>
                            <button class="page-btn active">1</button>
                            <button class="page-btn">‚Ä∫</button>
                        </div>
                    </div>

                    <!-- Âè≥‰æßË°®Ê†º - Á©∫Áä∂ÊÄÅ -->
                    <div class="table-wrapper">
                        <table>
                            <thead>
                                <tr>
                                    <th>Â∞èÂå∫</th>
                                    <th>‰∏äÊúàÊî∂Êàø</th>
                                    <th>ÂéªÂåñ</th>
                                    <th>Âú®ÁÆ°</th>
                                    <th>Á±ªÂûã</th>
                                    <th>ÂàÜÈÖç‰∫∫Âëò</th>
                                </tr>
                            </thead>
                        </table>
                        <div class="table-empty">ÊöÇÊó†Êï∞ÊçÆ</div>
                    </div>
                </div>
            </div>
            </div>

            <!-- TabÈù¢Êùø2: Â§ßÂå∫ÂèòÊõ¥ËØ¶ÊÉÖ -->
            <div class="tab-panel active" id="regionchange">
                        <!-- ÊêúÁ¥¢Ê†è -->
                        <div class="person-search-bar">
                            <input type="text" id="regionSearchInput" class="person-search-input" placeholder="ËæìÂÖ•ÁâáÂå∫ÂêçÁß∞ÊêúÁ¥¢...">
                            
                            <select id="regionChangeTypeFilter" class="filter-select">
                                <option value="">ÂÖ®ÈÉ®ÂèòÊõ¥Á±ªÂûã</option>
                                <option value="Êñ∞Â¢û">Êñ∞Â¢û</option>
                                <option value="‰øÆÊîπ">‰øÆÊîπ</option>
                                <option value="Âà†Èô§">Âà†Èô§</option>
                                <option value="Êó†ÂèòÂåñ">Êó†ÂèòÂåñ</option>
                            </select>
                            
                            <button class="person-search-btn" onclick="searchAndFilterRegions()">ÊêúÁ¥¢</button>
                            <button class="reset-btn" onclick="resetRegionFilters()">ÈáçÁΩÆ</button>
                            <button class="export-btn" onclick="exportRegionList()">ÂØºÂá∫</button>
                        </div>

                        <!-- ÁâáÂå∫ÂèòÊõ¥ÂàóË°® -->
                        <div class="person-list-container">
                            <div class="person-list">
                                <!-- ÂàóË°®Â§¥ÈÉ® -->
                                <div class="person-list-header">
                                    <div class="header-col" style="width: 12%;">ÁâáÂå∫ÂêçÁß∞</div>
                                    <div class="header-col" style="width: 8%;">ÂèòÊõ¥Á±ªÂûã</div>
                                    <div class="header-col" style="width: 10%;">ÁâáÂå∫ÈÖç‰∫∫ÂèòÂåñ</div>
                                    <div class="header-col" style="width: 10%;">Ê•ºÁõòÈÖç‰∫∫ÂèòÂåñ</div>
                                    <div class="header-col" style="width: 10%;">Èó®Â∫óÈÖç‰∫∫ÂèòÂåñ</div>
                                    <div class="header-col" style="width: 10%;">Ê•ºÁõòÊï∞ÈáèÂèòÂåñ</div>
                                    <div class="header-col" style="width: 10%;">Èó®Â∫óÊï∞ÈáèÂèòÂåñ</div>
                                    <div class="header-col" style="width: 12%;">Âõ¥Ê†èËåÉÂõ¥ÂèòÂåñ</div>
                                    <div class="header-col" style="width: 18%;">ËµÑÊ∫êÈáèÂèòÂåñ</div>
                                </div>
                                
                                <!-- ÂàóË°®‰Ωì -->
                                <div class="person-list-body" id="regionListBody">
                                    <!-- ÁâáÂå∫1: Êúù‰∏ú1 -->
                                    <div class="person-list-item" data-region-name="Êúù‰∏ú1" data-change-type="Êñ∞Â¢û">
                                        <div class="person-item-main">
                                            <div class="item-col" style="width: 12%;" onclick="togglePersonDetail(this)">
                                                <span class="person-name-text">Êúù‰∏ú1</span>
                                            </div>
                                            <div class="item-col" style="width: 8%;" onclick="togglePersonDetail(this)">
                                                <span class="person-tag new">Êñ∞Â¢û</span>
                                            </div>
                                            <div class="item-col" style="width: 10%;">
                                                <span class="clickable-value" onclick="showRegionPersonModal('Êúù‰∏ú1', event)">
                                                    <span class="old-val">0</span>
                                                    <span class="arrow">‚Üí</span>
                                                    <span class="new-val">35‰∫∫</span>
                                                </span>
                                            </div>
                                            <div class="item-col" style="width: 10%;">
                                                <span class="clickable-value" onclick="showResblockPersonModal('Êúù‰∏ú1', event)">
                                                    <span class="old-val">0</span>
                                                    <span class="arrow">‚Üí</span>
                                                    <span class="new-val">14‰∫∫</span>
                                                </span>
                                            </div>
                                            <div class="item-col" style="width: 10%;">
                                                <span class="clickable-value" onclick="showStorePersonModal('Êúù‰∏ú1', event)">
                                                    <span class="old-val">0</span>
                                                    <span class="arrow">‚Üí</span>
                                                    <span class="new-val">21‰∫∫</span>
                                                </span>
                                            </div>
                                            <div class="item-col" style="width: 10%;">
                                                <span class="clickable-value" onclick="showResblockCountModal('Êúù‰∏ú1', event)">
                                                    <span class="old-val">0</span>
                                                    <span class="arrow">‚Üí</span>
                                                    <span class="new-val">79‰∏™</span>
                                                </span>
                                            </div>
                                            <div class="item-col" style="width: 10%;">
                                                <span class="clickable-value" onclick="showStoreChangeModal('Êúù‰∏ú1', event)">
                                                    <span class="old-val">0</span>
                                                    <span class="arrow">‚Üí</span>
                                                    <span class="new-val">6ÂÆ∂</span>
                                                </span>
                                            </div>
                                            <div class="item-col" style="width: 12%;">
                                                <span class="clickable-value" onclick="showFenceChangeModal('Êúù‰∏ú1', event)">
                                                    <span class="old-val">0.0km¬≤</span>
                                                    <span class="arrow">‚Üí</span>
                                                    <span class="new-val" style="color: #52c41a;">85.6km¬≤</span>
                                                </span>
                                            </div>
                                            <div class="item-col" style="width: 18%;" onclick="togglePersonDetail(this)">
                                                <span class="old-val">0.0</span>
                                                <span class="arrow">‚Üí</span>
                                                <span class="new-val">154.56</span>
                                            </div>
                                        </div>
                                        <div class="person-item-detail">
                                            <!-- ‰∫∫ÂëòÂàÜÈÖçËØ¶ÊÉÖ -->
                                            <div class="detail-section">
                                                <div class="detail-section-title">ÁâáÂå∫‰∫∫ÂëòÂàÜÈÖçÔºà35‰∫∫Ôºâ</div>
                                                <div class="detail-list" id="personList1">
                                                    <div class="detail-list-item">
                                                        <span class="item-number">1</span>
                                                        <span class="item-name">ÈÇìÊôìÂÄ©</span>
                                                        <span class="item-tag new">Êñ∞Â¢û</span>
                                                    </div>
                                                    <div class="detail-list-item">
                                                        <span class="item-number">2</span>
                                                        <span class="item-name">Áîò‰∫ëË¥û</span>
                                                        <span class="item-tag new">Êñ∞Â¢û</span>
                                                    </div>
                                                    <div class="detail-list-item">
                                                        <span class="item-number">3</span>
                                                        <span class="item-name">Èí±Âª∑Âèã</span>
                                                        <span class="item-tag new">Êñ∞Â¢û</span>
                                                    </div>
                                                    <div class="detail-list-item">
                                                        <span class="item-number">4</span>
                                                        <span class="item-name">È´òÊ∞∏Ë¥¢</span>
                                                        <span class="item-tag new">Êñ∞Â¢û</span>
                                                    </div>
                                                    <div class="detail-list-item">
                                                        <span class="item-number">5</span>
                                                        <span class="item-name">ÁôΩÈ£û</span>
                                                        <span class="item-tag new">Êñ∞Â¢û</span>
                                                    </div>
                                                    <!-- ÈöêËóèÁöÑÈ°π -->
                                                    <div class="detail-list-item hidden-item">
                                                        <span class="item-number">6</span>
                                                        <span class="item-name">ÂæêÂßóÂßó</span>
                                                        <span class="item-tag new">Êñ∞Â¢û</span>
                                                    </div>
                                                    <div class="detail-list-item hidden-item">
                                                        <span class="item-number">7</span>
                                                        <span class="item-name">ÂàòÈõ™Âπ≥</span>
                                                        <span class="item-tag new">Êñ∞Â¢û</span>
                                                    </div>
                                                    <div class="detail-list-item hidden-item">
                                                        <span class="item-number">8</span>
                                                        <span class="item-name">ÁéãÊôì‰ºü</span>
                                                        <span class="item-tag new">Êñ∞Â¢û</span>
                                                    </div>
                                                    <div class="detail-list-item hidden-item">
                                                        <span class="item-number">9</span>
                                                        <span class="item-name">È´òÊôìÊ†ã</span>
                                                        <span class="item-tag new">Êñ∞Â¢û</span>
                                                    </div>
                                                    <div class="detail-list-item hidden-item">
                                                        <span class="item-number">10</span>
                                                        <span class="item-name">ÂêëÁõàÈúû</span>
                                                        <span class="item-tag new">Êñ∞Â¢û</span>
                                                    </div>
                                                </div>
                                                <button class="show-more-btn" onclick="toggleShowMore('personList1', this)">
                                                    <span>Êü•ÁúãÂÖ®ÈÉ® 30 ‰∫∫</span>
                                                    <span class="arrow-icon">‚ñº</span>
                                                </button>
                                            </div>

                                            <div class="allocation-container">
                                                <!-- Èó®Â∫óÂàÜÈÖçËØ¶ÊÉÖ -->
                                                <div class="detail-section">
                                                    <div class="detail-section-title">Èó®Â∫óÂàÜÈÖçÔºà6ÂÆ∂Ôºâ</div>
                                                    <div class="detail-list" id="storeList1">
                                                        <div class="detail-list-item">
                                                            <span class="item-number">1</span>
                                                            <span class="item-name">ÂÆùÁ¶èËãë‰∏âÊñπÂ∫ó</span>
                                                            <span class="item-tag new">Êñ∞Â¢û</span>
                                                        </div>
                                                        <div class="detail-list-item">
                                                            <span class="item-number">2</span>
                                                            <span class="item-name">ÈÉäÂå∫ÂüéÂª∫ÂåóÁ´ôÂüé</span>
                                                            <span class="item-tag new">Êñ∞Â¢û</span>
                                                        </div>
                                                        <div class="detail-list-item">
                                                            <span class="item-number">3</span>
                                                            <span class="item-name">ÂÆùÁ¶èËä±Âõ≠ÂçóÂè£Â∫ó</span>
                                                            <span class="item-tag new">Êñ∞Â¢û</span>
                                                        </div>
                                                        <div class="detail-list-item hidden-item">
                                                            <span class="item-number">4</span>
                                                            <span class="item-name">ÊúùÈò≥Â∫óA</span>
                                                            <span class="item-tag new">Êñ∞Â¢û</span>
                                                        </div>
                                                        <div class="detail-list-item hidden-item">
                                                            <span class="item-number">5</span>
                                                            <span class="item-name">ÊúùÈò≥Â∫óB</span>
                                                            <span class="item-tag new">Êñ∞Â¢û</span>
                                                        </div>
                                                        <div class="detail-list-item hidden-item">
                                                            <span class="item-number">6</span>
                                                            <span class="item-name">ÊúùÈò≥Â∫óC</span>
                                                            <span class="item-tag new">Êñ∞Â¢û</span>
                                                        </div>
                                                    </div>
                                                    <button class="show-more-btn" onclick="toggleShowMore('storeList1', this)">
                                                        <span>Êü•ÁúãÂÖ®ÈÉ® 3 ÂÆ∂</span>
                                                        <span class="arrow-icon">‚ñº</span>
                                                    </button>
                                                </div>
                                                
                                                <!-- Ê•ºÁõòÂàÜÈÖçËØ¶ÊÉÖ -->
                                                <div class="detail-section">
                                                    <div class="detail-section-title">Ê•ºÁõòÂàÜÈÖçÔºà79‰∏™Ôºâ</div>
                                                    <div class="detail-list" id="resblockList1">
                                                        <div class="detail-list-item">
                                                            <span class="item-number">1</span>
                                                            <span class="item-name">ÁîµÂª∫Áõõ‰∏ñ‰∏âÊúü</span>
                                                            <span class="item-tag new">Êñ∞Â¢û</span>
                                                        </div>
                                                        <div class="detail-list-item">
                                                            <span class="item-number">2</span>
                                                            <span class="item-name">Â••Ëé±ÂòâÂõ≠</span>
                                                            <span class="item-tag new">Êñ∞Â¢û</span>
                                                        </div>
                                                        <div class="detail-list-item">
                                                            <span class="item-number">3</span>
                                                            <span class="item-name">Âí∏Á¶èÂòâÂõ≠</span>
                                                            <span class="item-tag new">Êñ∞Â¢û</span>
                                                        </div>
                                                        <div class="detail-list-item hidden-item">
                                                            <span class="item-number">4</span>
                                                            <span class="item-name">ÊòüÊ≤≥Êπæ</span>
                                                            <span class="item-tag new">Êñ∞Â¢û</span>
                                                        </div>
                                                        <div class="detail-list-item hidden-item">
                                                            <span class="item-number">5</span>
                                                            <span class="item-name">‰∏áÁßëÂüé</span>
                                                            <span class="item-tag new">Êñ∞Â¢û</span>
                                                        </div>
                                                        <div class="detail-list-item hidden-item">
                                                            <span class="item-number">6</span>
                                                            <span class="item-name">‰øùÂà©Ëä±Âõ≠</span>
                                                            <span class="item-tag new">Êñ∞Â¢û</span>
                                                        </div>
                                                        <div class="detail-list-item hidden-item">
                                                            <span class="item-number">7</span>
                                                            <span class="item-name">‰∏≠Êµ∑ÂõΩÈôÖ</span>
                                                            <span class="item-tag new">Êñ∞Â¢û</span>
                                                        </div>
                                                        <div class="detail-list-item hidden-item">
                                                            <span class="item-number">8</span>
                                                            <span class="item-name">ÁªøÂú∞‰∏≠ÂøÉ</span>
                                                            <span class="item-tag new">Êñ∞Â¢û</span>
                                                        </div>
                                                    </div>
                                                    <button class="show-more-btn" onclick="toggleShowMore('resblockList1', this)">
                                                        <span>Êü•ÁúãÂÖ®ÈÉ® 76 ‰∏™</span>
                                                        <span class="arrow-icon">‚ñº</span>
                                                    </button>
                                                </div>
                                            </div>

                                            <!-- ‰∫∫Â∫óÂÖ≥Á≥ªÂèòÂåñ -->
                                            <div class="detail-section">
                                                <div class="detail-section-title">‰∫∫Â∫óÂÖ≥Á≥ªÂèòÂåñ</div>
                                                <div class="change-compare-container">
                                                    <div class="change-compare-column">
                                                        <div class="change-compare-header">Ë∞ÉÊï¥ÂâçÔºà0Êù°Ôºâ</div>
                                                        <div class="change-compare-body">
                                                            <div class="change-compare-empty">ÊöÇÊó†Êï∞ÊçÆ</div>
                                                        </div>
                                                    </div>
                                                    <div class="change-compare-column">
                                                        <div class="change-compare-header">Ë∞ÉÊï¥ÂêéÔºà21Êù°Ôºâ</div>
                                                        <div class="change-compare-body">
                                                            <div class="compare-item">
                                                                <span class="compare-item-number">1</span>
                                                                <span>ÈÇìÊôìÂÄ© - ÂÆùÁ¶èËãë‰∏âÊñπÂ∫ó</span>
                                                            </div>
                                                            <div class="compare-item">
                                                                <span class="compare-item-number">2</span>
                                                                <span>Èí±Âª∑Âèã - ÂÆùÁ¶èËãë‰∏âÊñπÂ∫ó</span>
                                                            </div>
                                                            <div class="compare-item">
                                                                <span class="compare-item-number">3</span>
                                                                <span>ÁôΩÈ£û - ÈÉäÂå∫ÂüéÂª∫ÂåóÁ´ôÂüé</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- ‰∫∫ÁõòÂÖ≥Á≥ªÂèòÂåñ -->
                                            <div class="detail-section">
                                                <div class="detail-section-title">‰∫∫ÁõòÂÖ≥Á≥ªÂèòÂåñ</div>
                                                <div class="change-compare-container">
                                                    <div class="change-compare-column">
                                                        <div class="change-compare-header">Ë∞ÉÊï¥ÂâçÔºà0Êù°Ôºâ</div>
                                                        <div class="change-compare-body">
                                                            <div class="change-compare-empty">ÊöÇÊó†Êï∞ÊçÆ</div>
                                                        </div>
                                                    </div>
                                                    <div class="change-compare-column">
                                                        <div class="change-compare-header">Ë∞ÉÊï¥ÂêéÔºà14Êù°Ôºâ</div>
                                                        <div class="change-compare-body">
                                                            <div class="compare-item">
                                                                <span class="compare-item-number">1</span>
                                                                <span>ÈÇìÊôìÂÄ© - ÁîµÂª∫Áõõ‰∏ñ‰∏âÊúü</span>
                                                            </div>
                                                            <div class="compare-item">
                                                                <span class="compare-item-number">2</span>
                                                                <span>ÈÇìÊôìÂÄ© - Â••Ëé±ÂòâÂõ≠</span>
                                                            </div>
                                                            <div class="compare-item">
                                                                <span class="compare-item-number">3</span>
                                                                <span>Áîò‰∫ëË¥û - Âí∏Á¶èÂòâÂõ≠</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- ÁâáÂå∫2: Êúù‰∏ú2 -->
                                    <div class="person-list-item" data-region-name="Êúù‰∏ú2" data-change-type="Êñ∞Â¢û">
                                        <div class="person-item-main">
                                            <div class="item-col" style="width: 12%;" onclick="togglePersonDetail(this)">
                                                <span class="person-name-text">Êúù‰∏ú2</span>
                                            </div>
                                            <div class="item-col" style="width: 8%;" onclick="togglePersonDetail(this)">
                                                <span class="person-tag new">Êñ∞Â¢û</span>
                                            </div>
                                            <div class="item-col" style="width: 10%;">
                                                <span class="clickable-value" onclick="showRegionPersonModal('Êúù‰∏ú2', event)">
                                                    <span class="old-val">0</span>
                                                    <span class="arrow">‚Üí</span>
                                                    <span class="new-val">28‰∫∫</span>
                                                </span>
                                            </div>
                                            <div class="item-col" style="width: 10%;">
                                                <span class="clickable-value" onclick="showResblockPersonModal('Êúù‰∏ú2', event)">
                                                    <span class="old-val">0</span>
                                                    <span class="arrow">‚Üí</span>
                                                    <span class="new-val">10‰∫∫</span>
                                                </span>
                                            </div>
                                            <div class="item-col" style="width: 10%;">
                                                <span class="clickable-value" onclick="showStorePersonModal('Êúù‰∏ú2', event)">
                                                    <span class="old-val">0</span>
                                                    <span class="arrow">‚Üí</span>
                                                    <span class="new-val">18‰∫∫</span>
                                                </span>
                                            </div>
                                            <div class="item-col" style="width: 10%;">
                                                <span class="clickable-value" onclick="showResblockCountModal('Êúù‰∏ú2', event)">
                                                    <span class="old-val">0</span>
                                                    <span class="arrow">‚Üí</span>
                                                    <span class="new-val">65‰∏™</span>
                                                </span>
                                            </div>
                                            <div class="item-col" style="width: 10%;">
                                                <span class="clickable-value" onclick="showStoreChangeModal('Êúù‰∏ú2', event)">
                                                    <span class="old-val">0</span>
                                                    <span class="arrow">‚Üí</span>
                                                    <span class="new-val">5ÂÆ∂</span>
                                                </span>
                                            </div>
                                            <div class="item-col" style="width: 12%;">
                                                <span class="clickable-value" onclick="showFenceChangeModal('Êúù‰∏ú2', event)">
                                                    <span class="old-val">0.0km¬≤</span>
                                                    <span class="arrow">‚Üí</span>
                                                    <span class="new-val" style="color: #52c41a;">45.3km¬≤</span>
                                                </span>
                                            </div>
                                            <div class="item-col" style="width: 18%;" onclick="togglePersonDetail(this)">
                                                <span class="old-val">0.0</span>
                                                <span class="arrow">‚Üí</span>
                                                <span class="new-val">196.91</span>
                                            </div>
                                        </div>
                                        <div class="person-item-detail">
                                            <!-- ‰∫∫ÂëòÂàÜÈÖçËØ¶ÊÉÖ -->
                                            <div class="detail-section">
                                                <div class="detail-section-title">ÁâáÂå∫‰∫∫ÂëòÂàÜÈÖçÔºà28‰∫∫Ôºâ</div>
                                                <div class="detail-list">
                                                    <div class="detail-list-item">
                                                        <span class="item-number">1</span>
                                                        <span class="item-name">Êú±ÂÆ∂Á∫¨</span>
                                                        <span class="item-tag new">Êñ∞Â¢û</span>
                                                    </div>
                                                    <div class="detail-list-item">
                                                        <span class="item-number">2</span>
                                                        <span class="item-name">Âº†Ê•†</span>
                                                        <span class="item-tag new">Êñ∞Â¢û</span>
                                                    </div>
                                                    <div class="detail-list-item">
                                                        <span class="item-number">3</span>
                                                        <span class="item-name">ËµµÂπøË∂Ö</span>
                                                        <span class="item-tag new">Êñ∞Â¢û</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="allocation-container">
                                                <!-- Èó®Â∫óÂàÜÈÖçËØ¶ÊÉÖ -->
                                                <div class="detail-section">
                                                    <div class="detail-section-title">Èó®Â∫óÂàÜÈÖçÔºà5ÂÆ∂Ôºâ</div>
                                                    <div class="detail-list">
                                                        <div class="detail-list-item">
                                                            <span class="item-number">1</span>
                                                            <span class="item-name">Êúù‰∏úÂ∫óA</span>
                                                            <span class="item-tag new">Êñ∞Â¢û</span>
                                                        </div>
                                                        <div class="detail-list-item">
                                                            <span class="item-number">2</span>
                                                            <span class="item-name">Êúù‰∏úÂ∫óB</span>
                                                            <span class="item-tag new">Êñ∞Â¢û</span>
                                                        </div>
                                                        <div class="detail-list-item">
                                                            <span class="item-number">3</span>
                                                            <span class="item-name">Êúù‰∏úÂ∫óC</span>
                                                            <span class="item-tag new">Êñ∞Â¢û</span>
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                                <!-- Ê•ºÁõòÂàÜÈÖçËØ¶ÊÉÖ -->
                                                <div class="detail-section">
                                                    <div class="detail-section-title">Ê•ºÁõòÂàÜÈÖçÔºà65‰∏™Ôºâ</div>
                                                    <div class="detail-list">
                                                        <div class="detail-list-item">
                                                            <span class="item-number">1</span>
                                                            <span class="item-name">‰∏úÊπñÊπæ</span>
                                                            <span class="item-tag new">Êñ∞Â¢û</span>
                                                        </div>
                                                        <div class="detail-list-item">
                                                            <span class="item-number">2</span>
                                                            <span class="item-name">Èò≥ÂÖâËä±Âõ≠</span>
                                                            <span class="item-tag new">Êñ∞Â¢û</span>
                                                        </div>
                                                        <div class="detail-list-item">
                                                            <span class="item-number">3</span>
                                                            <span class="item-name">ÁªøÊ¥≤ÂÆ∂Âõ≠</span>
                                                            <span class="item-tag new">Êñ∞Â¢û</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- ‰∫∫Â∫óÂÖ≥Á≥ªÂèòÂåñ -->
                                            <div class="detail-section">
                                                <div class="detail-section-title">‰∫∫Â∫óÂÖ≥Á≥ªÂèòÂåñ</div>
                                                <div class="change-compare-container">
                                                    <div class="change-compare-column">
                                                        <div class="change-compare-header">Ë∞ÉÊï¥ÂâçÔºà0Êù°Ôºâ</div>
                                                        <div class="change-compare-body">
                                                            <div class="change-compare-empty">ÊöÇÊó†Êï∞ÊçÆ</div>
                                                        </div>
                                                    </div>
                                                    <div class="change-compare-column">
                                                        <div class="change-compare-header">Ë∞ÉÊï¥ÂêéÔºà18Êù°Ôºâ</div>
                                                        <div class="change-compare-body">
                                                            <div class="compare-item">
                                                                <span class="compare-item-number">1</span>
                                                                <span>Êú±ÂÆ∂Á∫¨ - Êúù‰∏úÂ∫óA</span>
                                                            </div>
                                                            <div class="compare-item">
                                                                <span class="compare-item-number">2</span>
                                                                <span>Êú±ÂÆ∂Á∫¨ - Êúù‰∏úÂ∫óB</span>
                                                            </div>
                                                            <div class="compare-item">
                                                                <span class="compare-item-number">3</span>
                                                                <span>Âº†Ê•† - Êúù‰∏úÂ∫óC</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- ‰∫∫ÁõòÂÖ≥Á≥ªÂèòÂåñ -->
                                            <div class="detail-section">
                                                <div class="detail-section-title">‰∫∫ÁõòÂÖ≥Á≥ªÂèòÂåñ</div>
                                                <div class="change-compare-container">
                                                    <div class="change-compare-column">
                                                        <div class="change-compare-header">Ë∞ÉÊï¥ÂâçÔºà0Êù°Ôºâ</div>
                                                        <div class="change-compare-body">
                                                            <div class="change-compare-empty">ÊöÇÊó†Êï∞ÊçÆ</div>
                                                        </div>
                                                    </div>
                                                    <div class="change-compare-column">
                                                        <div class="change-compare-header">Ë∞ÉÊï¥ÂêéÔºà10Êù°Ôºâ</div>
                                                        <div class="change-compare-body">
                                                            <div class="compare-item">
                                                                <span class="compare-item-number">1</span>
                                                                <span>Êú±ÂÆ∂Á∫¨ - ‰∏úÊπñÊπæ</span>
                                                            </div>
                                                            <div class="compare-item">
                                                                <span class="compare-item-number">2</span>
                                                                <span>Êú±ÂÆ∂Á∫¨ - Èò≥ÂÖâËä±Âõ≠</span>
                                                            </div>
                                                            <div class="compare-item">
                                                                <span class="compare-item-number">3</span>
                                                                <span>Âº†Ê•† - ÁªøÊ¥≤ÂÆ∂Âõ≠</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- ÁâáÂå∫3: ÊúùÂçóÁâáÂå∫ÔºàÈáçÂëΩÂêç‰∏∫ÊúùÂçó‰ºòÈÄâÁâáÂå∫Ôºâ -->
                                    <div class="person-list-item" data-region-name="ÊúùÂçó‰ºòÈÄâÁâáÂå∫" data-change-type="Êñ∞Â¢û,ÁßªÈô§">
                                        <div class="person-item-main">
                                            <div class="item-col" style="width: 12%;" onclick="togglePersonDetail(this)">
                                                <span class="old-val" style="text-decoration: line-through; opacity: 0.6;">ÊúùÂçóÁâáÂå∫</span>
                                                <span class="arrow" style="margin: 0 4px;">‚Üí</span>
                                                <span class="person-name-text">ÊúùÂçó‰ºòÈÄâÁâáÂå∫</span>
                                            </div>
                                            <div class="item-col" style="width: 8%;" onclick="togglePersonDetail(this)">
                                                <span class="person-tag new">Êñ∞Â¢û</span>
                                                <span class="person-tag remove">ÁßªÈô§</span>
                                            </div>
                                            <div class="item-col" style="width: 10%;">
                                                <span class="clickable-value" onclick="showRegionPersonModal('ÊúùÂçó‰ºòÈÄâÁâáÂå∫', event)">
                                                    <span class="old-val">20</span>
                                                    <span class="arrow">‚Üí</span>
                                                    <span class="new-val">25‰∫∫</span>
                                                </span>
                                            </div>
                                            <div class="item-col" style="width: 10%;">
                                                <span class="clickable-value" onclick="showResblockPersonModal('ÊúùÂçó‰ºòÈÄâÁâáÂå∫', event)">
                                                    <span class="old-val">8</span>
                                                    <span class="arrow">‚Üí</span>
                                                    <span class="new-val">10‰∫∫</span>
                                                </span>
                                            </div>
                                            <div class="item-col" style="width: 10%;">
                                                <span class="clickable-value" onclick="showStorePersonModal('ÊúùÂçó‰ºòÈÄâÁâáÂå∫', event)">
                                                    <span class="old-val">12</span>
                                                    <span class="arrow">‚Üí</span>
                                                    <span class="new-val">15‰∫∫</span>
                                                </span>
                                            </div>
                                            <div class="item-col" style="width: 10%;">
                                                <span class="clickable-value" onclick="showResblockCountModal('ÊúùÂçó‰ºòÈÄâÁâáÂå∫', event)">
                                                    <span class="old-val">50‰∏™</span>
                                                    <span class="arrow">‚Üí</span>
                                                    <span class="new-val">58‰∏™</span>
                                                </span>
                                            </div>
                                            <div class="item-col" style="width: 10%;">
                                                <span class="clickable-value" onclick="showStoreChangeModal('ÊúùÂçó‰ºòÈÄâÁâáÂå∫', event)">
                                                    <span class="old-val">4ÂÆ∂</span>
                                                    <span class="arrow">‚Üí</span>
                                                    <span class="new-val">5ÂÆ∂</span>
                                                </span>
                                            </div>
                                            <div class="item-col" style="width: 12%;">
                                                <span class="clickable-value" onclick="showFenceChangeModal('ÊúùÂçó‰ºòÈÄâÁâáÂå∫', event)">
                                                    <span class="old-val">32.5km¬≤</span>
                                                    <span class="arrow">‚Üí</span>
                                                    <span class="new-val" style="color: #52c41a;">48.7km¬≤</span>
                                                </span>
                                            </div>
                                            <div class="item-col" style="width: 18%;" onclick="togglePersonDetail(this)">
                                                <span class="old-val">128.5</span>
                                                <span class="arrow">‚Üí</span>
                                                <span class="new-val">165.8</span>
                                            </div>
                                        </div>
                                        <div class="person-item-detail">
                                            <!-- ÁâáÂå∫ÂêçÁß∞ÂèòÂåñËØ¥Êòé -->
                                            <div class="detail-section" style="background: #fff7e6; padding: 12px; border-radius: 4px; margin-bottom: 16px; border-left: 3px solid #fa8c16;">
                                                <div style="display: flex; align-items: center; gap: 8px;">
                                                    <span style="font-size: 16px;">üìù</span>
                                                    <span style="font-weight: 600; color: #fa8c16;">ÁâáÂå∫ÂêçÁß∞ÂèòÊõ¥</span>
                                                </div>
                                                <div style="margin-top: 8px; font-size: 13px; color: #666;">
                                                    ÂéüÂêçÁß∞Ôºö<span style="text-decoration: line-through; opacity: 0.6;">ÊúùÂçóÁâáÂå∫</span>
                                                    <span class="arrow" style="margin: 0 8px;">‚Üí</span>
                                                    Êñ∞ÂêçÁß∞Ôºö<span style="color: #fa8c16; font-weight: 600;">ÊúùÂçó‰ºòÈÄâÁâáÂå∫</span>
                                                </div>
                                            </div>

                                            <!-- ‰∫∫ÂëòÂàÜÈÖçËØ¶ÊÉÖ -->
                                            <div class="detail-section">
                                                <div class="detail-section-title">ÁâáÂå∫‰∫∫ÂëòÂàÜÈÖçÔºà25‰∫∫ÔºåÊñ∞Â¢û5‰∫∫Ôºâ</div>
                                                <div class="detail-list">
                                                    <div class="detail-list-item">
                                                        <span class="item-number">1</span>
                                                        <span class="item-name">ÁéãÊôì‰ºü</span>
                                                        <span class="item-tag new">Êñ∞Â¢û</span>
                                                    </div>
                                                    <div class="detail-list-item">
                                                        <span class="item-number">2</span>
                                                        <span class="item-name">ÂàòÈõ™Âπ≥</span>
                                                        <span class="item-tag new">Êñ∞Â¢û</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="allocation-container">
                                                <!-- Èó®Â∫óÂàÜÈÖçËØ¶ÊÉÖ -->
                                                <div class="detail-section">
                                                    <div class="detail-section-title">Èó®Â∫óÂàÜÈÖçÔºà5ÂÆ∂ÔºåÊñ∞Â¢û1ÂÆ∂Ôºâ</div>
                                                    <div class="detail-list">
                                                        <div class="detail-list-item">
                                                            <span class="item-number">1</span>
                                                            <span class="item-name">ÂçóËãëÂ∫ó</span>
                                                            <span class="item-tag new">Êñ∞Â¢û</span>
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                                <!-- Ê•ºÁõòÂàÜÈÖçËØ¶ÊÉÖ -->
                                                <div class="detail-section">
                                                    <div class="detail-section-title">Ê•ºÁõòÂàÜÈÖçÔºà58‰∏™ÔºåÊñ∞Â¢û8‰∏™Ôºâ</div>
                                                    <div class="detail-list">
                                                        <div class="detail-list-item">
                                                            <span class="item-number">1</span>
                                                            <span class="item-name">ÂçóËãëÂ∞èÂå∫</span>
                                                            <span class="item-tag new">Êñ∞Â¢û</span>
                                                        </div>
                                                        <div class="detail-list-item">
                                                            <span class="item-number">2</span>
                                                            <span class="item-name">ÂçóÂüéÂÖ¨ÂØì</span>
                                                            <span class="item-tag new">Êñ∞Â¢û</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- ‰∫∫Â∫óÂÖ≥Á≥ªÂèòÂåñ -->
                                            <div class="detail-section">
                                                <div class="detail-section-title">‰∫∫Â∫óÂÖ≥Á≥ªÂèòÂåñ</div>
                                                <div class="change-compare-container">
                                                    <div class="change-compare-column">
                                                        <div class="change-compare-header">Ë∞ÉÊï¥ÂâçÔºà12Êù°Ôºâ</div>
                                                        <div class="change-compare-body">
                                                            <div class="compare-item">
                                                                <span class="compare-item-number">1</span>
                                                                <span>Èí±Âª∑Âèã - ÂçóÂüéÂ∫ó</span>
                                                            </div>
                                                            <div class="compare-item">
                                                                <span class="compare-item-number">2</span>
                                                                <span>È´òÊ∞∏Ë¥¢ - ÂçóÈó®Â∫ó</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="change-compare-column">
                                                        <div class="change-compare-header">Ë∞ÉÊï¥ÂêéÔºà15Êù°Ôºâ</div>
                                                        <div class="change-compare-body">
                                                            <div class="compare-item">
                                                                <span class="compare-item-number">1</span>
                                                                <span>Èí±Âª∑Âèã - ÂçóÂüéÂ∫ó</span>
                                                            </div>
                                                            <div class="compare-item">
                                                                <span class="compare-item-number">2</span>
                                                                <span>È´òÊ∞∏Ë¥¢ - ÂçóÈó®Â∫ó</span>
                                                            </div>
                                                            <div class="compare-item" style="background: #e6f7ff;">
                                                                <span class="compare-item-number" style="background: #1890ff; color: white;">3</span>
                                                                <span>ÁéãÊôì‰ºü - ÂçóËãëÂ∫ó</span>
                                                                <span style="margin-left: 8px; color: #52c41a; font-size: 12px;">Êñ∞Â¢û</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- ‰∫∫ÁõòÂÖ≥Á≥ªÂèòÂåñ -->
                                            <div class="detail-section">
                                                <div class="detail-section-title">‰∫∫ÁõòÂÖ≥Á≥ªÂèòÂåñ</div>
                                                <div class="change-compare-container">
                                                    <div class="change-compare-column">
                                                        <div class="change-compare-header">Ë∞ÉÊï¥ÂâçÔºà8Êù°Ôºâ</div>
                                                        <div class="change-compare-body">
                                                            <div class="compare-item">
                                                                <span class="compare-item-number">1</span>
                                                                <span>Èí±Âª∑Âèã - ÂçóÂüéËä±Âõ≠</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="change-compare-column">
                                                        <div class="change-compare-header">Ë∞ÉÊï¥ÂêéÔºà10Êù°Ôºâ</div>
                                                        <div class="change-compare-body">
                                                            <div class="compare-item">
                                                                <span class="compare-item-number">1</span>
                                                                <span>Èí±Âª∑Âèã - ÂçóÂüéËä±Âõ≠</span>
                                                            </div>
                                                            <div class="compare-item" style="background: #e6f7ff;">
                                                                <span class="compare-item-number" style="background: #1890ff; color: white;">2</span>
                                                                <span>ÁéãÊôì‰ºü - ÂçóËãëÂ∞èÂå∫</span>
                                                                <span style="margin-left: 8px; color: #52c41a; font-size: 12px;">Êñ∞Â¢û</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- ÁâáÂå∫4: ÊúùË•øÁâáÂå∫ÔºàÂ∑≤Âà†Èô§Ôºâ -->
                                    <div class="person-list-item" data-region-name="ÊúùË•øÁâáÂå∫" data-change-type="Âà†Èô§">
                                        <div class="person-item-main">
                                            <div class="item-col" style="width: 12%;" onclick="togglePersonDetail(this)">
                                                <span class="person-name-text" style="text-decoration: line-through; opacity: 0.6;">ÊúùË•øÁâáÂå∫</span>
                                            </div>
                                            <div class="item-col" style="width: 8%;" onclick="togglePersonDetail(this)">
                                                <span class="person-tag remove">Âà†Èô§</span>
                                            </div>
                                            <div class="item-col" style="width: 10%;">
                                                <span class="clickable-value" onclick="showRegionPersonModal('ÊúùË•øÁâáÂå∫', event)">
                                                    <span class="old-val">18‰∫∫</span>
                                                    <span class="arrow">‚Üí</span>
                                                    <span class="new-val" style="color: #ff4d4f;">0</span>
                                                </span>
                                            </div>
                                            <div class="item-col" style="width: 10%;">
                                                <span class="clickable-value" onclick="showResblockPersonModal('ÊúùË•øÁâáÂå∫', event)">
                                                    <span class="old-val">6‰∫∫</span>
                                                    <span class="arrow">‚Üí</span>
                                                    <span class="new-val" style="color: #ff4d4f;">0</span>
                                                </span>
                                            </div>
                                            <div class="item-col" style="width: 10%;">
                                                <span class="clickable-value" onclick="showStorePersonModal('ÊúùË•øÁâáÂå∫', event)">
                                                    <span class="old-val">12‰∫∫</span>
                                                    <span class="arrow">‚Üí</span>
                                                    <span class="new-val" style="color: #ff4d4f;">0</span>
                                                </span>
                                            </div>
                                            <div class="item-col" style="width: 10%;">
                                                <span class="clickable-value" onclick="showResblockCountModal('ÊúùË•øÁâáÂå∫', event)">
                                                    <span class="old-val">42‰∏™</span>
                                                    <span class="arrow">‚Üí</span>
                                                    <span class="new-val" style="color: #ff4d4f;">0</span>
                                                </span>
                                            </div>
                                            <div class="item-col" style="width: 10%;">
                                                <span class="clickable-value" onclick="showStoreChangeModal('ÊúùË•øÁâáÂå∫', event)">
                                                    <span class="old-val">3ÂÆ∂</span>
                                                    <span class="arrow">‚Üí</span>
                                                    <span class="new-val" style="color: #ff4d4f;">0</span>
                                                </span>
                                            </div>
                                            <div class="item-col" style="width: 12%;">
                                                <span class="clickable-value" onclick="showFenceChangeModal('ÊúùË•øÁâáÂå∫', event)">
                                                    <span class="old-val">55.8km¬≤</span>
                                                    <span class="arrow">‚Üí</span>
                                                    <span class="new-val" style="color: #ff4d4f;">0.0km¬≤</span>
                                                </span>
                                            </div>
                                            <div class="item-col" style="width: 18%;" onclick="togglePersonDetail(this)">
                                                <span class="old-val">95.2</span>
                                                <span class="arrow">‚Üí</span>
                                                <span class="new-val" style="color: #ff4d4f;">0.0</span>
                                            </div>
                                        </div>
                                        <div class="person-item-detail">
                                            <!-- ÁâáÂå∫Âà†Èô§ËØ¥Êòé -->
                                            <div class="detail-section" style="background: #fff1f0; padding: 12px; border-radius: 4px; margin-bottom: 16px; border-left: 3px solid #ff4d4f;">
                                                <div style="display: flex; align-items: center; gap: 8px;">
                                                    <span style="font-size: 16px;">‚ö†Ô∏è</span>
                                                    <span style="font-weight: 600; color: #ff4d4f;">ÁâáÂå∫Â∑≤Âà†Èô§</span>
                                                </div>
                                                <div style="margin-top: 8px; font-size: 13px; color: #666;">
                                                    ËØ•ÁâáÂå∫Â∑≤Ë¢´Âà†Èô§ÔºåÊâÄÊúâ‰∫∫Âëò„ÄÅÈó®Â∫ó„ÄÅÊ•ºÁõòÂÖ≥Á≥ªÂ∑≤Ëß£Èô§„ÄÇÂéüÊúâËµÑÊ∫êÂ∑≤ËΩ¨ÁßªËá≥ÂÖ∂‰ªñÁâáÂå∫„ÄÇ
                                                </div>
                                            </div>

                                            <!-- ÂéüÊúâ‰∫∫ÂëòÂàÜÈÖç -->
                                            <div class="detail-section">
                                                <div class="detail-section-title">ÂéüÁâáÂå∫‰∫∫ÂëòÔºà18‰∫∫ÔºåÂ∑≤ÂÖ®ÈÉ®ÁßªÈô§Ôºâ</div>
                                                <div class="detail-list">
                                                    <div class="detail-list-item">
                                                        <span class="item-number">1</span>
                                                        <span class="item-name">ËµµÂπøË∂Ö</span>
                                                        <span class="item-tag remove">ÁßªÈô§</span>
                                                        <span style="margin-left: 8px; font-size: 12px; color: #1890ff;">‚Üí ËΩ¨Ëá≥Êúù‰∏ú2</span>
                                                    </div>
                                                    <div class="detail-list-item">
                                                        <span class="item-number">2</span>
                                                        <span class="item-name">ÊùéÂº∫</span>
                                                        <span class="item-tag remove">ÁßªÈô§</span>
                                                        <span style="margin-left: 8px; font-size: 12px; color: #1890ff;">‚Üí ËΩ¨Ëá≥Êúù‰∏ú1</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="allocation-container">
                                                <!-- ÂéüÈó®Â∫óÂàÜÈÖç -->
                                                <div class="detail-section">
                                                    <div class="detail-section-title">ÂéüÈó®Â∫óÂàÜÈÖçÔºà3ÂÆ∂ÔºåÂ∑≤ÂÖ®ÈÉ®ÁßªÈô§Ôºâ</div>
                                                    <div class="detail-list">
                                                        <div class="detail-list-item">
                                                            <span class="item-number">1</span>
                                                            <span class="item-name">ÊúùË•øÂ∫ó</span>
                                                            <span class="item-tag remove">ÁßªÈô§</span>
                                                            <span style="margin-left: 8px; font-size: 12px; color: #1890ff;">‚Üí ËΩ¨Ëá≥Êúù‰∏ú2</span>
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                                <!-- ÂéüÊ•ºÁõòÂàÜÈÖç -->
                                                <div class="detail-section">
                                                    <div class="detail-section-title">ÂéüÊ•ºÁõòÂàÜÈÖçÔºà42‰∏™ÔºåÂ∑≤ÂÖ®ÈÉ®ÁßªÈô§Ôºâ</div>
                                                    <div class="detail-list">
                                                        <div class="detail-list-item">
                                                            <span class="item-number">1</span>
                                                            <span class="item-name">Ë•øËãëÂ∞èÂå∫</span>
                                                            <span class="item-tag remove">ÁßªÈô§</span>
                                                            <span style="margin-left: 8px; font-size: 12px; color: #1890ff;">‚Üí ËΩ¨Ëá≥Êúù‰∏ú2</span>
                                                        </div>
                                                        <div class="detail-list-item">
                                                            <span class="item-number">2</span>
                                                            <span class="item-name">Ë•øÂüéËä±Âõ≠</span>
                                                            <span class="item-tag remove">ÁßªÈô§</span>
                                                            <span style="margin-left: 8px; color: #1890ff;">‚Üí ËΩ¨Ëá≥ÊúùÂçó‰ºòÈÄâ</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- ‰∫∫Â∫óÂÖ≥Á≥ªÂèòÂåñ -->
                                            <div class="detail-section">
                                                <div class="detail-section-title">‰∫∫Â∫óÂÖ≥Á≥ªÂèòÂåñÔºàÂ∑≤ÂÖ®ÈÉ®ÁßªÈô§Ôºâ</div>
                                                <div class="change-compare-container">
                                                    <div class="change-compare-column">
                                                        <div class="change-compare-header">Ë∞ÉÊï¥ÂâçÔºà12Êù°Ôºâ</div>
                                                        <div class="change-compare-body">
                                                            <div class="compare-item">
                                                                <span class="compare-item-number">1</span>
                                                                <span>ËµµÂπøË∂Ö - ÊúùË•øÂ∫ó</span>
                                                            </div>
                                                            <div class="compare-item">
                                                                <span class="compare-item-number">2</span>
                                                                <span>ÊùéÂº∫ - ÊúùË•øÂ∫ó</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="change-compare-column">
                                                        <div class="change-compare-header" style="background: #fff1f0; color: #ff4d4f;">Ë∞ÉÊï¥ÂêéÔºà0Êù°Ôºâ</div>
                                                        <div class="change-compare-body">
                                                            <div class="change-compare-empty" style="color: #ff4d4f;">ÊâÄÊúâÂÖ≥Á≥ªÂ∑≤Ëß£Èô§</div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- ‰∫∫ÁõòÂÖ≥Á≥ªÂèòÂåñ -->
                                            <div class="detail-section">
                                                <div class="detail-section-title">‰∫∫ÁõòÂÖ≥Á≥ªÂèòÂåñÔºàÂ∑≤ÂÖ®ÈÉ®ÁßªÈô§Ôºâ</div>
                                                <div class="change-compare-container">
                                                    <div class="change-compare-column">
                                                        <div class="change-compare-header">Ë∞ÉÊï¥ÂâçÔºà6Êù°Ôºâ</div>
                                                        <div class="change-compare-body">
                                                            <div class="compare-item">
                                                                <span class="compare-item-number">1</span>
                                                                <span>ËµµÂπøË∂Ö - Ë•øËãëÂ∞èÂå∫</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="change-compare-column">
                                                        <div class="change-compare-header" style="background: #fff1f0; color: #ff4d4f;">Ë∞ÉÊï¥ÂêéÔºà0Êù°Ôºâ</div>
                                                        <div class="change-compare-body">
                                                            <div class="change-compare-empty" style="color: #ff4d4f;">ÊâÄÊúâÂÖ≥Á≥ªÂ∑≤Ëß£Èô§</div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- ÁâáÂå∫5: ÊúùÂåóÁâáÂå∫ÔºàÊó†ÂèòÂåñÔºâ -->
                                    <div class="person-list-item" data-region-name="ÊúùÂåóÁâáÂå∫" data-change-type="Êó†ÂèòÂåñ">
                                        <div class="person-item-main">
                                            <div class="item-col" style="width: 12%;" onclick="togglePersonDetail(this)">
                                                <span class="person-name-text">ÊúùÂåóÁâáÂå∫</span>
                                            </div>
                                            <div class="item-col" style="width: 8%;" onclick="togglePersonDetail(this)">
                                                <span class="person-tag" style="background: #f0f0f0; color: #666; border: 1px solid #d9d9d9;">Êó†ÂèòÂåñ</span>
                                            </div>
                                            <div class="item-col" style="width: 10%;">
                                                <span class="clickable-value" onclick="showRegionPersonModal('ÊúùÂåóÁâáÂå∫', event)">
                                                    <span class="old-val">15‰∫∫</span>
                                                    <span class="arrow">‚Üí</span>
                                                    <span class="new-val">15‰∫∫</span>
                                                </span>
                                            </div>
                                            <div class="item-col" style="width: 10%;">
                                                <span class="clickable-value" onclick="showResblockPersonModal('ÊúùÂåóÁâáÂå∫', event)">
                                                    <span class="old-val">5‰∫∫</span>
                                                    <span class="arrow">‚Üí</span>
                                                    <span class="new-val">5‰∫∫</span>
                                                </span>
                                            </div>
                                            <div class="item-col" style="width: 10%;">
                                                <span class="clickable-value" onclick="showStorePersonModal('ÊúùÂåóÁâáÂå∫', event)">
                                                    <span class="old-val">10‰∫∫</span>
                                                    <span class="arrow">‚Üí</span>
                                                    <span class="new-val">10‰∫∫</span>
                                                </span>
                                            </div>
                                            <div class="item-col" style="width: 10%;">
                                                <span class="clickable-value" onclick="showResblockCountModal('ÊúùÂåóÁâáÂå∫', event)">
                                                    <span class="old-val">35‰∏™</span>
                                                    <span class="arrow">‚Üí</span>
                                                    <span class="new-val">35‰∏™</span>
                                                </span>
                                            </div>
                                            <div class="item-col" style="width: 10%;">
                                                <span class="clickable-value" onclick="showStoreChangeModal('ÊúùÂåóÁâáÂå∫', event)">
                                                    <span class="old-val">4ÂÆ∂</span>
                                                    <span class="arrow">‚Üí</span>
                                                    <span class="new-val">4ÂÆ∂</span>
                                                </span>
                                            </div>
                                            <div class="item-col" style="width: 12%;">
                                                <span class="clickable-value" onclick="showFenceChangeModal('ÊúùÂåóÁâáÂå∫', event)">
                                                    <span class="old-val">62.3km¬≤</span>
                                                    <span class="arrow">‚Üí</span>
                                                    <span class="new-val">62.3km¬≤</span>
                                                </span>
                                            </div>
                                            <div class="item-col" style="width: 18%;" onclick="togglePersonDetail(this)">
                                                <span class="old-val">125.3</span>
                                                <span class="arrow">‚Üí</span>
                                                <span class="new-val">125.3</span>
                                            </div>
                                        </div>
                                        <div class="person-item-detail">
                                            <!-- Êó†ÂèòÂåñËØ¥Êòé -->
                                            <div class="detail-section" style="background: #f5f5f5; padding: 12px; border-radius: 4px; margin-bottom: 16px; border-left: 3px solid #999;">
                                                <div style="display: flex; align-items: center; gap: 8px;">
                                                    <span style="font-size: 16px;">‚ÑπÔ∏è</span>
                                                    <span style="font-weight: 600; color: #666;">ËØ•ÁâáÂå∫Êó†ÂèòÂåñ</span>
                                                </div>
                                                <div style="margin-top: 8px; font-size: 13px; color: #666;">
                                                    ËØ•ÁâáÂå∫ÁöÑ‰∫∫Âëò„ÄÅÈó®Â∫ó„ÄÅÊ•ºÁõòÈÖçÁΩÆÂùá‰øùÊåÅ‰∏çÂèò„ÄÇ
                                                </div>
                                            </div>

                                            <!-- ‰∫∫ÂëòÂàÜÈÖçËØ¶ÊÉÖ -->
                                            <div class="detail-section">
                                                <div class="detail-section-title">ÁâáÂå∫‰∫∫ÂëòÂàÜÈÖçÔºà15‰∫∫Ôºâ</div>
                                                <div class="detail-list">
                                                    <div class="detail-list-item">
                                                        <span class="item-number">1</span>
                                                        <span class="item-name">ÁéãÂ§ßÈî§</span>
                                                        <span class="item-tag" style="background: #f0f0f0; color: #666;">Êó†ÂèòÂåñ</span>
                                                    </div>
                                                    <div class="detail-list-item">
                                                        <span class="item-number">2</span>
                                                        <span class="item-name">ÊùéÂ∞èÊòé</span>
                                                        <span class="item-tag" style="background: #f0f0f0; color: #666;">Êó†ÂèòÂåñ</span>
                                                    </div>
                                                    <div class="detail-list-item">
                                                        <span class="item-number">3</span>
                                                        <span class="item-name">Âº†‰∏â</span>
                                                        <span class="item-tag" style="background: #f0f0f0; color: #666;">Êó†ÂèòÂåñ</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="allocation-container">
                                                <!-- Èó®Â∫óÂàÜÈÖçËØ¶ÊÉÖ -->
                                                <div class="detail-section">
                                                    <div class="detail-section-title">Èó®Â∫óÂàÜÈÖçÔºà4ÂÆ∂Ôºâ</div>
                                                    <div class="detail-list">
                                                        <div class="detail-list-item">
                                                            <span class="item-number">1</span>
                                                            <span class="item-name">ÊúùÂåóÂ∫óA</span>
                                                            <span class="item-tag" style="background: #f0f0f0; color: #666;">Êó†ÂèòÂåñ</span>
                                                        </div>
                                                        <div class="detail-list-item">
                                                            <span class="item-number">2</span>
                                                            <span class="item-name">ÊúùÂåóÂ∫óB</span>
                                                            <span class="item-tag" style="background: #f0f0f0; color: #666;">Êó†ÂèòÂåñ</span>
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                                <!-- Ê•ºÁõòÂàÜÈÖçËØ¶ÊÉÖ -->
                                                <div class="detail-section">
                                                    <div class="detail-section-title">Ê•ºÁõòÂàÜÈÖçÔºà35‰∏™Ôºâ</div>
                                                    <div class="detail-list">
                                                        <div class="detail-list-item">
                                                            <span class="item-number">1</span>
                                                            <span class="item-name">ÂåóËãëÊñ∞Âüé</span>
                                                            <span class="item-tag" style="background: #f0f0f0; color: #666;">Êó†ÂèòÂåñ</span>
                                                        </div>
                                                        <div class="detail-list-item">
                                                            <span class="item-number">2</span>
                                                            <span class="item-name">ÂåóÂüéËä±Âõ≠</span>
                                                            <span class="item-tag" style="background: #f0f0f0; color: #666;">Êó†ÂèòÂåñ</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- ÂàÜÈ°µÊéß‰ª∂ -->
                                <div class="pagination-container">
                                    <div class="pagination-info">
                                        ÊòæÁ§∫ <span id="regionPageStartNum">1</span>-<span id="regionPageEndNum">5</span> Êù°Ôºå
                                        ÂÖ± <span id="regionTotalNum">5</span> Êù°
                                    </div>
                                    <div class="pagination-controls">
                                        <button class="page-btn" id="regionPrevPageBtn" disabled>‰∏ä‰∏ÄÈ°µ</button>
                                        <div class="page-numbers" id="regionPageNumbers">
                                            <div class="page-number active">1</div>
                                        </div>
                                        <button class="page-btn" id="regionNextPageBtn" disabled>‰∏ã‰∏ÄÈ°µ</button>
                                    </div>
                                </div>
                            </div>
                        </div>
            </div>

            <!-- TabÈù¢Êùø3: ‰∫∫ÂëòÂèòÊõ¥ËØ¶ÊÉÖ -->
            <div class="tab-panel" id="changelist">
                        <!-- ÊêúÁ¥¢Ê†è -->
                        <div class="person-search-bar">
                            <input type="text" id="personSearchInput" class="person-search-input" placeholder="ËæìÂÖ•ÂßìÂêçÊêúÁ¥¢...">
                            
                            <select id="changeTypeFilter" class="filter-select">
                                <option value="">ÂÖ®ÈÉ®ÂèòÊõ¥Á±ªÂûã</option>
                                <option value="Êñ∞Â¢û">Êñ∞Â¢û</option>
                                <option value="ÁßªÈô§">ÁßªÈô§</option>
                                <option value="Êó†ÂèòÂåñ">Êó†ÂèòÂåñ</option>
                            </select>
                            
                            <select id="districtFilter" class="filter-select">
                                <option value="">ÂÖ®ÈÉ®ÁâáÂå∫</option>
                                <option value="Êúù‰∏ú1">Êúù‰∏ú1</option>
                                <option value="Êúù‰∏ú2">Êúù‰∏ú2</option>
                            </select>
                            
                            <select id="radiusFilter" class="filter-select">
                                <option value="">ÂÖ®ÈÉ®‰Ωú‰∏öÂçäÂæÑ</option>
                                <option value="0-3">0-3km</option>
                                <option value="3-5">3-5km</option>
                                <option value="5+">5km‰ª•‰∏ä</option>
                            </select>
                            
                            <button class="person-search-btn" onclick="searchAndFilterPersons()">ÊêúÁ¥¢</button>
                            <button class="reset-btn" onclick="resetPersonFilters()">ÈáçÁΩÆ</button>
                            <button class="export-btn" onclick="exportPersonList()">ÂØºÂá∫</button>
                        </div>

                        <!-- ËµÑÁÆ°ÁªüËÆ° -->
                        <div class="person-stats-summary">
                            <div class="stats-item">
                                <span class="stats-label">Êú¨Ê¨°ÂèòÊõ¥ËµÑÁÆ°Êï∞ / ÊÄªËµÑÁÆ°Êï∞</span>
                                <span class="stats-value" id="totalPersonCount">
                                    <span class="clickable-count" onclick="filterPersonList('changed')" title="ÁÇπÂáªÊü•ÁúãÊú¨Ê¨°ÂèòÊõ¥‰∫∫Âëò">45</span>
                                    <span> / </span>
                                    <span class="clickable-count" onclick="filterPersonList('all')" title="ÁÇπÂáªÊü•ÁúãÊâÄÊúâ‰∫∫Âëò">45‰∫∫</span>
                                </span>
                            </div>
                            <div class="stats-item clickable" onclick="showResourceComparison()">
                                <span class="stats-label">Â§ßÂå∫ËµÑÊ∫êÈáè <span class="stats-hint">Êü•ÁúãËØ¶ÊÉÖ</span></span>
                                <span class="stats-value highlight-resource" id="totalResourceAmount">3,245.8</span>
                            </div>
                        </div>

                        <!-- ËµÑÊ∫êÈáèÂØπÊØîÂºπÁ™ó -->
                        <div class="resource-modal" id="resourceModal" onclick="closeResourceModal(event)">
                            <div class="resource-modal-content" onclick="event.stopPropagation()">
                                <div class="modal-header">
                                    <h3>Â§ßÂå∫ËµÑÊ∫êÈáèÂàÜÂ∏ÉÂØπÊØî</h3>
                                    <button class="modal-close" onclick="closeResourceModal()">&times;</button>
                                </div>
                                <div class="modal-body">
                                    <div class="resource-summary-cards">
                                        <div class="summary-card">
                                            <div class="card-label">Â§ßÂå∫ÊÄªËµÑÊ∫êÈáè</div>
                                            <div class="card-value">3,245.8</div>
                                        </div>
                                        <div class="summary-card">
                                            <div class="card-label">‰∫∫ÂùáËµÑÊ∫êÈáè</div>
                                            <div class="card-value">72.1</div>
                                        </div>
                                        <div class="summary-card">
                                            <div class="card-label">ÊúÄÈ´ò</div>
                                            <div class="card-value">85.6</div>
                                            <div class="card-person">Èí±Âª∑Âèã</div>
                                        </div>
                                        <div class="summary-card">
                                            <div class="card-label">ÊúÄ‰Ωé</div>
                                            <div class="card-value">35.2</div>
                                            <div class="card-person">Áîò‰∫ëË¥û</div>
                                        </div>
                                    </div>
                                    
                                    <div class="resource-chart-section">
                                        <h4>ËµÑÊ∫êÈáèÊéíÂêçÔºàÂÖ®ÈÉ®‰∫∫ÂëòÔºâ</h4>
                                        <div class="resource-ranking">
                                            <div class="ranking-item">
                                                <div class="rank-number">1</div>
                                                <div class="rank-info">
                                                    <span class="rank-name">Èí±Âª∑Âèã</span>
                                                    <span class="rank-tag changed">Ë∞ÉÊï¥</span>
                                                </div>
                                                <div class="rank-bar-container">
                                                    <div class="rank-bar" style="width: 100%; background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);">
                                                        <span class="rank-value">85.6</span>
                                                    </div>
                                                </div>
                                                <div class="rank-change">+15.3</div>
                                            </div>
                                            <div class="ranking-item">
                                                <div class="rank-number">2</div>
                                                <div class="rank-info">
                                                    <span class="rank-name">ËµµÂπøË∂Ö</span>
                                                    <span class="rank-tag changed">Ë∞ÉÊï¥</span>
                                                </div>
                                                <div class="rank-bar-container">
                                                    <div class="rank-bar" style="width: 92%; background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);">
                                                        <span class="rank-value">78.9</span>
                                                    </div>
                                                </div>
                                                <div class="rank-change">+13.7</div>
                                            </div>
                                            <div class="ranking-item">
                                                <div class="rank-number">3</div>
                                                <div class="rank-info">
                                                    <span class="rank-name">Êú±ÂÆ∂Á∫¨</span>
                                                    <span class="rank-tag changed">Êñ∞Â¢û</span>
                                                </div>
                                                <div class="rank-bar-container">
                                                    <div class="rank-bar" style="width: 84%; background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);">
                                                        <span class="rank-value">72.3</span>
                                                    </div>
                                                </div>
                                                <div class="rank-change">+72.3</div>
                                            </div>
                                            <div class="ranking-item">
                                                <div class="rank-number">4</div>
                                                <div class="rank-info">
                                                    <span class="rank-name">ÈÇìÊôìÂÄ©</span>
                                                    <span class="rank-tag changed">Êñ∞Â¢û</span>
                                                </div>
                                                <div class="rank-bar-container">
                                                    <div class="rank-bar" style="width: 80%; background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);">
                                                        <span class="rank-value">68.5</span>
                                                    </div>
                                                </div>
                                                <div class="rank-change">+68.5</div>
                                            </div>
                                            <div class="ranking-item">
                                                <div class="rank-number">5</div>
                                                <div class="rank-info">
                                                    <span class="rank-name">ÊùéÊòé</span>
                                                    <span class="rank-tag">Êó†ÂèòÂåñ</span>
                                                </div>
                                                <div class="rank-bar-container">
                                                    <div class="rank-bar" style="width: 77%; background: #e0e0e0;">
                                                        <span class="rank-value">65.8</span>
                                                    </div>
                                                </div>
                                                <div class="rank-change stable">--</div>
                                            </div>
                                            <div class="ranking-item">
                                                <div class="rank-number">6</div>
                                                <div class="rank-info">
                                                    <span class="rank-name">ÁéãËä≥</span>
                                                    <span class="rank-tag">Êó†ÂèòÂåñ</span>
                                                </div>
                                                <div class="rank-bar-container">
                                                    <div class="rank-bar" style="width: 61%; background: #e0e0e0;">
                                                        <span class="rank-value">52.3</span>
                                                    </div>
                                                </div>
                                                <div class="rank-change stable">--</div>
                                            </div>
                                            <div class="ranking-item">
                                                <div class="rank-number">7</div>
                                                <div class="rank-info">
                                                    <span class="rank-name">ÂàòÂº∫</span>
                                                    <span class="rank-tag">Êó†ÂèòÂåñ</span>
                                                </div>
                                                <div class="rank-bar-container">
                                                    <div class="rank-bar" style="width: 57%; background: #e0e0e0;">
                                                        <span class="rank-value">48.5</span>
                                                    </div>
                                                </div>
                                                <div class="rank-change stable">--</div>
                                            </div>
                                            <div class="ranking-item">
                                                <div class="rank-number">8</div>
                                                <div class="rank-info">
                                                    <span class="rank-name">Âº†Ê•†</span>
                                                    <span class="rank-tag changed">Êñ∞Â¢û</span>
                                                </div>
                                                <div class="rank-bar-container">
                                                    <div class="rank-bar" style="width: 45%; background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);">
                                                        <span class="rank-value">38.6</span>
                                                    </div>
                                                </div>
                                                <div class="rank-change">+38.6</div>
                                            </div>
                                            <div class="ranking-item">
                                                <div class="rank-number">9</div>
                                                <div class="rank-info">
                                                    <span class="rank-name">Áîò‰∫ëË¥û</span>
                                                    <span class="rank-tag changed">Êñ∞Â¢û</span>
                                                </div>
                                                <div class="rank-bar-container">
                                                    <div class="rank-bar" style="width: 41%; background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);">
                                                        <span class="rank-value">35.2</span>
                                                    </div>
                                                </div>
                                                <div class="rank-change">+35.2</div>
                                            </div>
                                            
                                            <!-- Â∑≤ÁßªÈô§‰∫∫ÂëòÔºàÊòæÁ§∫‰∏ä‰∏ÄÊúüËµÑÊ∫êÈáèÔºâ -->
                                            <div class="ranking-item">
                                                <div class="rank-number">10</div>
                                                <div class="rank-info">
                                                    <span class="rank-name">Èôà‰ºü</span>
                                                    <span class="rank-tag removed">ÁßªÈô§</span>
                                                </div>
                                                <div class="rank-bar-container">
                                                    <div class="rank-bar" style="width: 70%; background: #ffebee; border: 1px dashed #f44336;">
                                                        <span class="rank-value" style="color: #666;">60.5</span>
                                                    </div>
                                                </div>
                                                <div class="rank-change stable" style="color: #999;">‰∏äÊúü</div>
                                            </div>
                                            <div class="ranking-item">
                                                <div class="rank-number">11</div>
                                                <div class="rank-info">
                                                    <span class="rank-name">Âë®Ê¥ã</span>
                                                    <span class="rank-tag removed">ÁßªÈô§</span>
                                                </div>
                                                <div class="rank-bar-container">
                                                    <div class="rank-bar" style="width: 54%; background: #ffebee; border: 1px dashed #f44336;">
                                                        <span class="rank-value" style="color: #666;">46.3</span>
                                                    </div>
                                                </div>
                                                <div class="rank-change stable" style="color: #999;">‰∏äÊúü</div>
                                            </div>
                                            <div class="ranking-item">
                                                <div class="rank-number">12</div>
                                                <div class="rank-info">
                                                    <span class="rank-name">ÊûóÊ∂õ</span>
                                                    <span class="rank-tag removed">ÁßªÈô§</span>
                                                </div>
                                                <div class="rank-bar-container">
                                                    <div class="rank-bar" style="width: 38%; background: #ffebee; border: 1px dashed #f44336;">
                                                        <span class="rank-value" style="color: #666;">32.8</span>
                                                    </div>
                                                </div>
                                                <div class="rank-change stable" style="color: #999;">‰∏äÊúü</div>
                                            </div>
                                        </div>
                                        
                                        <!-- ÊéíÂêçÂàÜÈ°µÊéß‰ª∂ -->
                                        <div class="pagination-container" style="margin-top: 16px; padding: 16px 0;">
                                            <div class="pagination-info">
                                                ÊòæÁ§∫ <span id="rankPageStartNum">1</span>-<span id="rankPageEndNum">10</span> Êù°Ôºå
                                                ÂÖ± <span id="rankTotalNum">12</span> Êù°
                                            </div>
                                            <div class="pagination-controls">
                                                <button class="page-btn" id="rankPrevPageBtn" onclick="goToRankPage(rankCurrentPage - 1)">‰∏ä‰∏ÄÈ°µ</button>
                                                <div class="page-numbers" id="rankPageNumbers"></div>
                                                <button class="page-btn" id="rankNextPageBtn" onclick="goToRankPage(rankCurrentPage + 1)">‰∏ã‰∏ÄÈ°µ</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- ‰∫∫ÂëòÂèòÊõ¥ÂàóË°® -->
                        <div class="person-list-container">
                            <div class="person-list-header">
                                <div class="header-col" style="width: 50px; text-align: center;">
                                    <input type="checkbox" id="selectAll" class="person-checkbox" onclick="toggleSelectAll()" title="ÂÖ®ÈÄâ">
                                </div>
                                <div class="header-col" style="width: 13%">ÂßìÂêç</div>
                                <div class="header-col" style="width: 9%">ÂèòÊõ¥Á±ªÂûã</div>
                                <div class="header-col" style="width: 9%">ÁâáÂå∫</div>
                                <div class="header-col" style="width: 14%">‰Ωú‰∏öÂçäÂæÑÂèòÂåñ</div>
                                <div class="header-col" style="width: 14%">Âå∫ÂüüÂèòÂåñ</div>
                                <div class="header-col" style="width: 11%">ËµÑÊ∫êÈáèÂèòÂåñ</div>
                                <div class="header-col" style="width: 12%">ÊúÄÁªàËåÉÂõ¥</div>
                                <div class="header-col" style="width: 5%">Êìç‰Ωú</div>
                            </div>
                            <div class="person-list-body" id="personListBody">
                                <!-- ‰∫∫Âëò1: ÈÇìÊôìÂÄ© -->
                                <div class="person-list-item changed" data-name="ÈÇìÊôìÂÄ©">
                                    <div class="person-item-main">
                                        <div class="item-col" style="width: 50px; text-align: center;">
                                            <input type="checkbox" class="person-checkbox row-checkbox" onclick="event.stopPropagation()">
                                        </div>
                                        <div class="item-col" style="width: 13%" onclick="togglePersonDetail(this)">
                                            <span class="person-name-text">ÈÇìÊôìÂÄ©</span>
                                        </div>
                                        <div class="item-col" style="width: 9%" onclick="togglePersonDetail(this)">
                                            <span class="person-tag new">Êñ∞Â¢û</span>
                                        </div>
                                        <div class="item-col" style="width: 9%" onclick="togglePersonDetail(this)">Êúù‰∏ú1</div>
                                        <div class="item-col" style="width: 14%" onclick="togglePersonDetail(this)">
                                            <span class="old-val">Êó†</span>
                                            <span class="arrow">‚Üí</span>
                                            <span class="new-val">3.2km</span>
                                        </div>
                                        <div class="item-col" style="width: 14%" onclick="togglePersonDetail(this)">
                                            <span class="old-val">Êó†</span>
                                            <span class="arrow">‚Üí</span>
                                            <span class="new-val">Êúù‰∏ú1ÁâáÂå∫</span>
                                        </div>
                                        <div class="item-col" style="width: 11%" onclick="togglePersonDetail(this)">
                                            <span class="old-val">0.0</span>
                                            <span class="arrow">‚Üí</span>
                                            <span class="new-val">68.5</span>
                                        </div>
                                        <div class="item-col" style="width: 12%" onclick="togglePersonDetail(this)">
                                            <span class="scope-summary">2Â∫ó | 2Áõò | 3.2km</span>
                                        </div>
                                        <div class="item-col" style="width: 5%" onclick="togglePersonDetail(this)">
                                            <span class="detail-link">ËØ¶ÊÉÖ</span>
                                        </div>
                                    </div>
                                    <div class="person-item-detail">
                                        <!-- ËµÑÊ∫êÈáèÁªüËÆ° -->
                                        <div class="detail-section">
                                            <div class="detail-section-title">Ë∞ÉÊï¥ÂêéÁöÑËµÑÊ∫êÈáèÁªüËÆ°</div>
                                            <div class="resource-stats">
                                                <div class="resource-stat-item">
                                                    <span class="stat-label">ÊàøÊ∫êÊï∞Èáè:</span>
                                                    <span class="stat-value">45Â•ó</span>
                                                    <span class="stat-change positive">+45</span>
                                                </div>
                                                <div class="resource-stat-item">
                                                    <span class="stat-label">Âú®ÁÆ°ËµÑÊ∫ê:</span>
                                                    <span class="stat-value">68.5</span>
                                                    <span class="stat-change positive">+68.5</span>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="allocation-container">
                                            <div class="detail-section">
                                                <div class="detail-section-title">Â∫óÈì∫ÂàÜÈÖçÔºà2ÂÆ∂Ôºâ</div>
                                                <div class="detail-list">
                                                    <div class="detail-list-item">
                                                        <span class="item-number">1</span>
                                                        <span class="item-name">ÊúùÈò≥Â∫óA</span>
                                                        <span class="item-tag new">Êñ∞Â¢û</span>
                                                    </div>
                                                    <div class="detail-list-item">
                                                        <span class="item-number">2</span>
                                                        <span class="item-name">ÊúùÈò≥Â∫óB</span>
                                                        <span class="item-tag new">Êñ∞Â¢û</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="detail-section">
                                                <div class="detail-section-title">Ê•ºÁõòÂàÜÈÖçÔºà2‰∏™Ôºâ</div>
                                                <div class="detail-list">
                                                    <div class="detail-list-item">
                                                        <span class="item-number">1</span>
                                                        <span class="item-name">ÁîµÂª∫Áõõ‰∏ñ‰∏âÊúü</span>
                                                        <span class="item-tag new">Êñ∞Â¢û</span>
                                                    </div>
                                                    <div class="detail-list-item">
                                                        <span class="item-number">2</span>
                                                        <span class="item-name">Â••Ëé±ÂòâÂõ≠</span>
                                                        <span class="item-tag new">Êñ∞Â¢û</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- ‰∫∫Âëò2: Áîò‰∫ëË¥û -->
                                <div class="person-list-item changed" data-name="Áîò‰∫ëË¥û">
                                    <div class="person-item-main">
                                        <div class="item-col" style="width: 50px; text-align: center;">
                                            <input type="checkbox" class="person-checkbox row-checkbox" onclick="event.stopPropagation()">
                                        </div>
                                        <div class="item-col" style="width: 13%" onclick="togglePersonDetail(this)">
                                            <span class="person-name-text">Áîò‰∫ëË¥û</span>
                                        </div>
                                        <div class="item-col" style="width: 9%" onclick="togglePersonDetail(this)">
                                            <span class="person-tag new">Êñ∞Â¢û</span>
                                        </div>
                                        <div class="item-col" style="width: 9%" onclick="togglePersonDetail(this)">Êúù‰∏ú1</div>
                                        <div class="item-col" style="width: 14%" onclick="togglePersonDetail(this)">
                                            <span class="old-val">Êó†</span>
                                            <span class="arrow">‚Üí</span>
                                            <span class="new-val">2.8km</span>
                                        </div>
                                        <div class="item-col" style="width: 14%" onclick="togglePersonDetail(this)">
                                            <span class="old-val">Êó†</span>
                                            <span class="arrow">‚Üí</span>
                                            <span class="new-val">Êúù‰∏ú1ÁâáÂå∫</span>
                                        </div>
                                        <div class="item-col" style="width: 11%" onclick="togglePersonDetail(this)">
                                            <span class="old-val">0.0</span>
                                            <span class="arrow">‚Üí</span>
                                            <span class="new-val">35.2</span>
                                        </div>
                                        <div class="item-col" style="width: 12%" onclick="togglePersonDetail(this)">
                                            <span class="scope-summary">1Â∫ó | 1Áõò | 2.8km</span>
                                        </div>
                                        <div class="item-col" style="width: 5%" onclick="togglePersonDetail(this)">
                                            <span class="detail-link">ËØ¶ÊÉÖ</span>
                                        </div>
                                    </div>
                                    <div class="person-item-detail">
                                        <!-- ËµÑÊ∫êÈáèÁªüËÆ° -->
                                        <div class="detail-section">
                                            <div class="detail-section-title">Ë∞ÉÊï¥ÂêéÁöÑËµÑÊ∫êÈáèÁªüËÆ°</div>
                                            <div class="resource-stats">
                                                <div class="resource-stat-item">
                                                    <span class="stat-label">ÊàøÊ∫êÊï∞Èáè:</span>
                                                    <span class="stat-value">23Â•ó</span>
                                                    <span class="stat-change positive">+23</span>
                                                </div>
                                                <div class="resource-stat-item">
                                                    <span class="stat-label">Âú®ÁÆ°ËµÑÊ∫ê:</span>
                                                    <span class="stat-value">35.2</span>
                                                    <span class="stat-change positive">+35.2</span>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="allocation-container">
                                            <div class="detail-section">
                                                <div class="detail-section-title">Â∫óÈì∫ÂàÜÈÖçÔºà1ÂÆ∂Ôºâ</div>
                                                <div class="detail-list">
                                                    <div class="detail-list-item">
                                                        <span class="item-number">1</span>
                                                        <span class="item-name">ÊúùÈò≥Â∫óC</span>
                                                        <span class="item-tag new">Êñ∞Â¢û</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="detail-section">
                                                <div class="detail-section-title">Ê•ºÁõòÂàÜÈÖçÔºà1‰∏™Ôºâ</div>
                                                <div class="detail-list">
                                                    <div class="detail-list-item">
                                                        <span class="item-number">1</span>
                                                        <span class="item-name">Âí∏Á¶èÂòâÂõ≠</span>
                                                        <span class="item-tag new">Êñ∞Â¢û</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- ‰∫∫Âëò3: Èí±Âª∑Âèã -->
                                <div class="person-list-item changed" data-name="Èí±Âª∑Âèã">
                                    <div class="person-item-main">
                                        <div class="item-col" style="width: 50px; text-align: center;">
                                            <input type="checkbox" class="person-checkbox row-checkbox" onclick="event.stopPropagation()">
                                        </div>
                                        <div class="item-col" style="width: 13%" onclick="togglePersonDetail(this)">
                                            <span class="person-name-text">Èí±Âª∑Âèã</span>
                                        </div>
                                        <div class="item-col" style="width: 9%" onclick="togglePersonDetail(this)">
                                            <span class="person-tag remove">ÁßªÈô§</span>
                                            <span class="person-tag new">Êñ∞Â¢û</span>
                                        </div>
                                        <div class="item-col" style="width: 9%" onclick="togglePersonDetail(this)">Êúù‰∏ú1</div>
                                        <div class="item-col" style="width: 14%" onclick="togglePersonDetail(this)">
                                            <span class="old-val">2.5km</span>
                                            <span class="arrow">‚Üí</span>
                                            <span class="new-val">4.1km</span>
                                        </div>
                                        <div class="item-col" style="width: 14%" onclick="togglePersonDetail(this)">
                                            <span class="old-val">ÊúùÂçóÁâáÂå∫</span>
                                            <span class="arrow">‚Üí</span>
                                            <span class="new-val">Êúù‰∏ú1ÁâáÂå∫</span>
                                        </div>
                                        <div class="item-col" style="width: 11%" onclick="togglePersonDetail(this)">
                                            <span class="old-val">70.3</span>
                                            <span class="arrow">‚Üí</span>
                                            <span class="new-val">85.6</span>
                                        </div>
                                        <div class="item-col" style="width: 12%" onclick="togglePersonDetail(this)">
                                            <span class="scope-summary">2Â∫ó | 3Áõò | 4.1km</span>
                                        </div>
                                        <div class="item-col" style="width: 5%" onclick="togglePersonDetail(this)">
                                            <span class="detail-link">ËØ¶ÊÉÖ</span>
                                        </div>
                                    </div>
                                    <div class="person-item-detail">
                                        <!-- ËµÑÊ∫êÈáèÁªüËÆ° -->
                                        <div class="detail-section">
                                            <div class="detail-section-title">Ë∞ÉÊï¥ÂêéÁöÑËµÑÊ∫êÈáèÁªüËÆ°</div>
                                            <div class="resource-stats">
                                                <div class="resource-stat-item">
                                                    <span class="stat-label">ÊàøÊ∫êÊï∞Èáè:</span>
                                                    <span class="stat-value">58Â•ó</span>
                                                    <span class="stat-change positive">+12</span>
                                                </div>
                                                <div class="resource-stat-item">
                                                    <span class="stat-label">Âú®ÁÆ°ËµÑÊ∫ê:</span>
                                                    <span class="stat-value">85.6</span>
                                                    <span class="stat-change positive">+15.3</span>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="allocation-container">
                                            <div class="detail-section">
                                                <div class="detail-section-title">Â∫óÈì∫ÂàÜÈÖçÔºà2ÂÆ∂Ôºâ</div>
                                                <div class="detail-list">
                                                    <div class="detail-list-item">
                                                        <span class="item-number">1</span>
                                                        <span class="item-name">ÊúùÂçóÂ∫ó</span>
                                                        <span class="item-tag remove">ÁßªÈô§</span>
                                                    </div>
                                                    <div class="detail-list-item">
                                                        <span class="item-number">2</span>
                                                        <span class="item-name">ÊúùÈò≥Â∫óA</span>
                                                        <span class="item-tag new">Êñ∞Â¢û</span>
                                                    </div>
                                                    <div class="detail-list-item">
                                                        <span class="item-number">3</span>
                                                        <span class="item-name">ÊúùÈò≥Â∫óD</span>
                                                        <span class="item-tag new">Êñ∞Â¢û</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="detail-section">
                                                <div class="detail-section-title">Ê•ºÁõòÂàÜÈÖçÔºà3‰∏™Ôºâ</div>
                                                <div class="detail-list">
                                                    <div class="detail-list-item">
                                                        <span class="item-number">1</span>
                                                        <span class="item-name">ÂçóËãëÂ∞èÂå∫</span>
                                                        <span class="item-tag remove">ÁßªÈô§</span>
                                                    </div>
                                                    <div class="detail-list-item">
                                                        <span class="item-number">2</span>
                                                        <span class="item-name">ÁîµÂª∫Áõõ‰∏ñ‰∏âÊúü</span>
                                                        <span class="item-tag new">Êñ∞Â¢û</span>
                                                    </div>
                                                    <div class="detail-list-item">
                                                        <span class="item-number">3</span>
                                                        <span class="item-name">Â••Ëé±ÂòâÂõ≠</span>
                                                        <span class="item-tag new">Êñ∞Â¢û</span>
                                                    </div>
                                                    <div class="detail-list-item">
                                                        <span class="item-number">4</span>
                                                        <span class="item-name">Âí∏Á¶èÂòâÂõ≠</span>
                                                        <span class="item-tag new">Êñ∞Â¢û</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- ‰∫∫Âëò4: Êú±ÂÆ∂Á∫¨ -->
                                <div class="person-list-item changed" data-name="Êú±ÂÆ∂Á∫¨">
                                    <div class="person-item-main">
                                        <div class="item-col" style="width: 50px; text-align: center;">
                                            <input type="checkbox" class="person-checkbox row-checkbox" onclick="event.stopPropagation()">
                                        </div>
                                        <div class="item-col" style="width: 13%" onclick="togglePersonDetail(this)">
                                            <span class="person-name-text">Êú±ÂÆ∂Á∫¨</span>
                                        </div>
                                        <div class="item-col" style="width: 9%" onclick="togglePersonDetail(this)">
                                            <span class="person-tag new">Êñ∞Â¢û</span>
                                        </div>
                                        <div class="item-col" style="width: 9%" onclick="togglePersonDetail(this)">Êúù‰∏ú2</div>
                                        <div class="item-col" style="width: 14%" onclick="togglePersonDetail(this)">
                                            <span class="old-val">Êó†</span>
                                            <span class="arrow">‚Üí</span>
                                            <span class="new-val">5.5km</span>
                                        </div>
                                        <div class="item-col" style="width: 14%" onclick="togglePersonDetail(this)">
                                            <span class="old-val">Êó†</span>
                                            <span class="arrow">‚Üí</span>
                                            <span class="new-val">Êúù‰∏ú2ÁâáÂå∫</span>
                                        </div>
                                        <div class="item-col" style="width: 11%" onclick="togglePersonDetail(this)">
                                            <span class="old-val">0.0</span>
                                            <span class="arrow">‚Üí</span>
                                            <span class="new-val">72.3</span>
                                        </div>
                                        <div class="item-col" style="width: 12%" onclick="togglePersonDetail(this)">
                                            <div class="scope-summary">2Â∫ó | 2Áõò | 5.5km</div>
                                            <div class="scope-warning">Ë∂Ö5km
                                                <div class="scope-tooltip">
                                                    <div class="tooltip-section">
                                                        <div class="tooltip-title">Ê•ºÁõòËØ¶ÊÉÖ</div>
                                                        <div class="tooltip-item">
                                                            <span class="tooltip-item-icon">üè¢</span>
                                                            <span class="tooltip-item-name">‰∏úÊπñÊπæ</span>
                                                        </div>
                                                        <div class="tooltip-item">
                                                            <span class="tooltip-item-icon">üè¢</span>
                                                            <span class="tooltip-item-name">Èò≥ÂÖâËä±Âõ≠</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="item-col" style="width: 5%">
                                            <span class="detail-link">ËØ¶ÊÉÖ</span>
                                        </div>
                                    </div>
                                    <div class="person-item-detail">
                                        <!-- ËµÑÊ∫êÈáèÁªüËÆ° -->
                                        <div class="detail-section">
                                            <div class="detail-section-title">Ë∞ÉÊï¥ÂêéÁöÑËµÑÊ∫êÈáèÁªüËÆ°</div>
                                            <div class="resource-stats">
                                                <div class="resource-stat-item">
                                                    <span class="stat-label">ÊàøÊ∫êÊï∞Èáè:</span>
                                                    <span class="stat-value">52Â•ó</span>
                                                    <span class="stat-change positive">+52</span>
                                                </div>
                                                <div class="resource-stat-item">
                                                    <span class="stat-label">Âú®ÁÆ°ËµÑÊ∫ê:</span>
                                                    <span class="stat-value">72.3</span>
                                                    <span class="stat-change positive">+72.3</span>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="allocation-container">
                                            <div class="detail-section">
                                                <div class="detail-section-title">Â∫óÈì∫ÂàÜÈÖçÔºà2ÂÆ∂Ôºâ</div>
                                                <div class="detail-list">
                                                    <div class="detail-list-item">
                                                        <span class="item-number">1</span>
                                                        <span class="item-name">Êúù‰∏úÂ∫óA</span>
                                                        <span class="item-tag new">Êñ∞Â¢û</span>
                                                    </div>
                                                    <div class="detail-list-item">
                                                        <span class="item-number">2</span>
                                                        <span class="item-name">Êúù‰∏úÂ∫óB</span>
                                                        <span class="item-tag new">Êñ∞Â¢û</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="detail-section">
                                                <div class="detail-section-title">Ê•ºÁõòÂàÜÈÖçÔºà2‰∏™Ôºâ</div>
                                                <div class="detail-list">
                                                    <div class="detail-list-item">
                                                        <span class="item-number">1</span>
                                                        <span class="item-name">‰∏úÊπñÊπæ</span>
                                                        <span class="item-tag new">Êñ∞Â¢û</span>
                                                    </div>
                                                    <div class="detail-list-item">
                                                        <span class="item-number">2</span>
                                                        <span class="item-name">Èò≥ÂÖâËä±Âõ≠</span>
                                                        <span class="item-tag new">Êñ∞Â¢û</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- ‰∫∫Âëò5: Âº†Ê•† -->
                                <div class="person-list-item changed" data-name="Âº†Ê•†">
                                    <div class="person-item-main">
                                        <div class="item-col" style="width: 50px; text-align: center;">
                                            <input type="checkbox" class="person-checkbox row-checkbox" onclick="event.stopPropagation()">
                                        </div>
                                        <div class="item-col" style="width: 13%" onclick="togglePersonDetail(this)">
                                            <span class="person-name-text">Âº†Ê•†</span>
                                        </div>
                                        <div class="item-col" style="width: 9%" onclick="togglePersonDetail(this)">
                                            <span class="person-tag new">Êñ∞Â¢û</span>
                                        </div>
                                        <div class="item-col" style="width: 9%" onclick="togglePersonDetail(this)">Êúù‰∏ú2</div>
                                        <div class="item-col" style="width: 14%" onclick="togglePersonDetail(this)">
                                            <span class="old-val">Êó†</span>
                                            <span class="arrow">‚Üí</span>
                                            <span class="new-val">2.9km</span>
                                        </div>
                                        <div class="item-col" style="width: 14%" onclick="togglePersonDetail(this)">
                                            <span class="old-val">Êó†</span>
                                            <span class="arrow">‚Üí</span>
                                            <span class="new-val">Êúù‰∏ú2ÁâáÂå∫</span>
                                        </div>
                                        <div class="item-col" style="width: 11%" onclick="togglePersonDetail(this)">
                                            <span class="old-val">0.0</span>
                                            <span class="arrow">‚Üí</span>
                                            <span class="new-val">38.6</span>
                                        </div>
                                        <div class="item-col" style="width: 12%" onclick="togglePersonDetail(this)">
                                            <span class="scope-summary">1Â∫ó | 1Áõò | 2.9km</span>
                                        </div>
                                        <div class="item-col" style="width: 5%">
                                            <span class="detail-link">ËØ¶ÊÉÖ</span>
                                        </div>
                                    </div>
                                    <div class="person-item-detail">
                                        <!-- ËµÑÊ∫êÈáèÁªüËÆ° -->
                                        <div class="detail-section">
                                            <div class="detail-section-title">Ë∞ÉÊï¥ÂêéÁöÑËµÑÊ∫êÈáèÁªüËÆ°</div>
                                            <div class="resource-stats">
                                                <div class="resource-stat-item">
                                                    <span class="stat-label">ÊàøÊ∫êÊï∞Èáè:</span>
                                                    <span class="stat-value">28Â•ó</span>
                                                    <span class="stat-change positive">+28</span>
                                                </div>
                                                <div class="resource-stat-item">
                                                    <span class="stat-label">Âú®ÁÆ°ËµÑÊ∫ê:</span>
                                                    <span class="stat-value">38.6</span>
                                                    <span class="stat-change positive">+38.6</span>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="allocation-container">
                                            <div class="detail-section">
                                                <div class="detail-section-title">Â∫óÈì∫ÂàÜÈÖçÔºà1ÂÆ∂Ôºâ</div>
                                                <div class="detail-list">
                                                    <div class="detail-list-item">
                                                        <span class="item-number">1</span>
                                                        <span class="item-name">Êúù‰∏úÂ∫óC</span>
                                                        <span class="item-tag new">Êñ∞Â¢û</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="detail-section">
                                                <div class="detail-section-title">Ê•ºÁõòÂàÜÈÖçÔºà1‰∏™Ôºâ</div>
                                                <div class="detail-list">
                                                    <div class="detail-list-item">
                                                        <span class="item-number">1</span>
                                                        <span class="item-name">ÁªøÊ¥≤ÂÆ∂Âõ≠</span>
                                                        <span class="item-tag new">Êñ∞Â¢û</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- ‰∫∫Âëò6: ËµµÂπøË∂Ö -->
                                <div class="person-list-item changed" data-name="ËµµÂπøË∂Ö">
                                    <div class="person-item-main">
                                        <div class="item-col" style="width: 50px; text-align: center;">
                                            <input type="checkbox" class="person-checkbox row-checkbox" onclick="event.stopPropagation()">
                                        </div>
                                        <div class="item-col" style="width: 13%" onclick="togglePersonDetail(this)">
                                            <span class="person-name-text">ËµµÂπøË∂Ö</span>
                                        </div>
                                        <div class="item-col" style="width: 9%" onclick="togglePersonDetail(this)">
                                            <span class="person-tag remove">ÁßªÈô§</span>
                                            <span class="person-tag new">Êñ∞Â¢û</span>
                                        </div>
                                        <div class="item-col" style="width: 9%" onclick="togglePersonDetail(this)">Êúù‰∏ú2</div>
                                        <div class="item-col" style="width: 14%" onclick="togglePersonDetail(this)">
                                            <span class="old-val">3.0km</span>
                                            <span class="arrow">‚Üí</span>
                                            <span class="new-val">3.8km</span>
                                        </div>
                                        <div class="item-col" style="width: 14%" onclick="togglePersonDetail(this)">
                                            <span class="old-val">ÊúùË•øÁâáÂå∫</span>
                                            <span class="arrow">‚Üí</span>
                                            <span class="new-val">Êúù‰∏ú2ÁâáÂå∫</span>
                                        </div>
                                        <div class="item-col" style="width: 11%" onclick="togglePersonDetail(this)">
                                            <span class="old-val">65.2</span>
                                            <span class="arrow">‚Üí</span>
                                            <span class="new-val">78.9</span>
                                        </div>
                                        <div class="item-col" style="width: 12%" onclick="togglePersonDetail(this)">
                                            <span class="scope-summary">2Â∫ó | 2Áõò | 3.8km</span>
                                        </div>
                                        <div class="item-col" style="width: 5%">
                                            <span class="detail-link">ËØ¶ÊÉÖ</span>
                                        </div>
                                    </div>
                                    <div class="person-item-detail">
                                        <!-- ËµÑÊ∫êÈáèÁªüËÆ° -->
                                        <div class="detail-section">
                                            <div class="detail-section-title">Ë∞ÉÊï¥ÂêéÁöÑËµÑÊ∫êÈáèÁªüËÆ°</div>
                                            <div class="resource-stats">
                                                <div class="resource-stat-item">
                                                    <span class="stat-label">ÊàøÊ∫êÊï∞Èáè:</span>
                                                    <span class="stat-value">58Â•ó</span>
                                                    <span class="stat-change positive">+12</span>
                                                </div>
                                                <div class="resource-stat-item">
                                                    <span class="stat-label">Âú®ÁÆ°ËµÑÊ∫ê:</span>
                                                    <span class="stat-value">78.9</span>
                                                    <span class="stat-change positive">+13.7</span>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="allocation-container">
                                            <div class="detail-section">
                                                <div class="detail-section-title">Â∫óÈì∫ÂàÜÈÖçÔºà2ÂÆ∂Ôºâ</div>
                                                <div class="detail-list">
                                                    <div class="detail-list-item">
                                                        <span class="item-number">1</span>
                                                        <span class="item-name">ÊúùË•øÂ∫ó</span>
                                                        <span class="item-tag remove">ÁßªÈô§</span>
                                                    </div>
                                                    <div class="detail-list-item">
                                                        <span class="item-number">2</span>
                                                        <span class="item-name">Êúù‰∏úÂ∫óA</span>
                                                        <span class="item-tag new">Êñ∞Â¢û</span>
                                                    </div>
                                                    <div class="detail-list-item">
                                                        <span class="item-number">3</span>
                                                        <span class="item-name">Êúù‰∏úÂ∫óD</span>
                                                        <span class="item-tag new">Êñ∞Â¢û</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="detail-section">
                                                <div class="detail-section-title">Ê•ºÁõòÂàÜÈÖçÔºà2‰∏™Ôºâ</div>
                                                <div class="detail-list">
                                                    <div class="detail-list-item">
                                                        <span class="item-number">1</span>
                                                        <span class="item-name">Ë•øËãëÂ∞èÂå∫</span>
                                                        <span class="item-tag remove">ÁßªÈô§</span>
                                                    </div>
                                                    <div class="detail-list-item">
                                                        <span class="item-number">2</span>
                                                        <span class="item-name">‰∏úÊπñÊπæ</span>
                                                        <span class="item-tag new">Êñ∞Â¢û</span>
                                                    </div>
                                                    <div class="detail-list-item">
                                                        <span class="item-number">3</span>
                                                        <span class="item-name">Èò≥ÂÖâËä±Âõ≠</span>
                                                        <span class="item-tag new">Êñ∞Â¢û</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Êó†ÂèòÂåñ‰∫∫Âëò (Á§∫‰æãÊï∞ÊçÆÔºåÂÆûÈôÖÈúÄË¶ÅÊõ¥Â§ö) -->
                                <div class="person-list-item unchanged" data-name="ÊùéÊòé" style="display: none;">
                                    <div class="person-item-main">
                                        <div class="item-col" style="width: 50px; text-align: center;">
                                            <input type="checkbox" class="person-checkbox row-checkbox" onclick="event.stopPropagation()">
                                        </div>
                                        <div class="item-col" style="width: 13%" onclick="togglePersonDetail(this)">
                                            <span class="person-name-text">ÊùéÊòé</span>
                                        </div>
                                        <div class="item-col" style="width: 9%" onclick="togglePersonDetail(this)">
                                            <span class="person-tag stable">Êó†ÂèòÂåñ</span>
                                        </div>
                                        <div class="item-col" style="width: 9%" onclick="togglePersonDetail(this)">Êúù‰∏ú1</div>
                                        <div class="item-col" style="width: 14%">
                                            <span class="stable-val">3.5km</span>
                                        </div>
                                        <div class="item-col" style="width: 14%">
                                            <span class="stable-val">Êúù‰∏ú1ÁâáÂå∫</span>
                                        </div>
                                        <div class="item-col" style="width: 11%">
                                            <span class="stable-val">65.8</span>
                                        </div>
                                        <div class="item-col" style="width: 12%" onclick="togglePersonDetail(this)">
                                            <span class="scope-summary">2Â∫ó | 3Áõò | 3.5km</span>
                                        </div>
                                        <div class="item-col" style="width: 5%">
                                            <span class="detail-link" style="opacity: 0.3;">--</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="person-list-item unchanged" data-name="ÁéãËä≥" style="display: none;">
                                    <div class="person-item-main">
                                        <div class="item-col" style="width: 50px; text-align: center;">
                                            <input type="checkbox" class="person-checkbox row-checkbox" onclick="event.stopPropagation()">
                                        </div>
                                        <div class="item-col" style="width: 13%" onclick="togglePersonDetail(this)">
                                            <span class="person-name-text">ÁéãËä≥</span>
                                        </div>
                                        <div class="item-col" style="width: 9%" onclick="togglePersonDetail(this)">
                                            <span class="person-tag stable">Êó†ÂèòÂåñ</span>
                                        </div>
                                        <div class="item-col" style="width: 9%" onclick="togglePersonDetail(this)">Êúù‰∏ú2</div>
                                        <div class="item-col" style="width: 14%">
                                            <span class="stable-val">2.8km</span>
                                        </div>
                                        <div class="item-col" style="width: 14%">
                                            <span class="stable-val">Êúù‰∏ú2ÁâáÂå∫</span>
                                        </div>
                                        <div class="item-col" style="width: 11%">
                                            <span class="stable-val">52.3</span>
                                        </div>
                                        <div class="item-col" style="width: 12%" onclick="togglePersonDetail(this)">
                                            <span class="scope-summary">1Â∫ó | 2Áõò | 2.8km</span>
                                        </div>
                                        <div class="item-col" style="width: 5%">
                                            <span class="detail-link" style="opacity: 0.3;">--</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="person-list-item unchanged" data-name="ÂàòÂº∫" style="display: none;">
                                    <div class="person-item-main">
                                        <div class="item-col" style="width: 50px; text-align: center;">
                                            <input type="checkbox" class="person-checkbox row-checkbox" onclick="event.stopPropagation()">
                                        </div>
                                        <div class="item-col" style="width: 13%" onclick="togglePersonDetail(this)">
                                            <span class="person-name-text">ÂàòÂº∫</span>
                                        </div>
                                        <div class="item-col" style="width: 9%" onclick="togglePersonDetail(this)">
                                            <span class="person-tag stable">Êó†ÂèòÂåñ</span>
                                        </div>
                                        <div class="item-col" style="width: 9%" onclick="togglePersonDetail(this)">Êúù‰∏ú1</div>
                                        <div class="item-col" style="width: 14%">
                                            <span class="stable-val">4.2km</span>
                                        </div>
                                        <div class="item-col" style="width: 14%">
                                            <span class="stable-val">Êúù‰∏ú1ÁâáÂå∫</span>
                                        </div>
                                        <div class="item-col" style="width: 11%">
                                            <span class="stable-val">48.5</span>
                                        </div>
                                        <div class="item-col" style="width: 12%" onclick="togglePersonDetail(this)">
                                            <span class="scope-summary">2Â∫ó | 2Áõò | 4.2km</span>
                                        </div>
                                        <div class="item-col" style="width: 5%">
                                            <span class="detail-link" style="opacity: 0.3;">--</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- ÂàÜÈ°µÊéß‰ª∂ -->
                            <div class="pagination-container">
                                <div class="pagination-info">
                                    Á¨¨ <span id="pageStartNum">1</span>-<span id="pageEndNum">6</span> È°πÔºåÂÖ± <span id="totalNum">45</span> È°π
                                </div>
                                <div class="pagination-controls">
                                    <button class="page-btn" id="prevPageBtn" onclick="goToPage(currentPage - 1)">‰∏ä‰∏ÄÈ°µ</button>
                                    <span class="page-numbers" id="pageNumbers"></span>
                                    <button class="page-btn" id="nextPageBtn" onclick="goToPage(currentPage + 1)">‰∏ã‰∏ÄÈ°µ</button>
                                </div>
                            </div>
                        </div>
                        <div class="person-change-list" style="display:none;">
                            <!-- ‰∫∫Âëò1 -->
                            <div class="person-change-card">
                                <div class="person-header">
                                    <div class="person-info">
                                        <span class="person-name">ÈÇìÊôìÂÄ©</span>
                                        <span class="person-tag new">Êñ∞Â¢û</span>
                                        <span class="person-role">ÁâáÂå∫: Êúù‰∏ú1</span>
                                    </div>
                                    <div class="person-status">
                                        <span class="status-label">‰Ωú‰∏öÂçäÂæÑ:</span>
                                        <span class="status-value">Êó† ‚Üí 3.2km</span>
                                    </div>
                                </div>
                                <div class="person-detail">
                                    <div class="detail-row">
                                        <div class="detail-label">Âå∫ÂüüÂàÜÈÖç:</div>
                                        <div class="detail-value">
                                            <span class="old-value">Êó†</span>
                                            <span class="arrow">‚Üí</span>
                                            <span class="new-value">Êúù‰∏ú1ÁâáÂå∫</span>
                                        </div>
                                    </div>
                                    <div class="detail-row">
                                        <div class="detail-label">Â∫óÈì∫ÂàÜÈÖç:</div>
                                        <div class="detail-value">
                                            <span class="old-value">Êó†</span>
                                            <span class="arrow">‚Üí</span>
                                            <span class="new-value">ÊúùÈò≥Â∫óA„ÄÅÊúùÈò≥Â∫óBÔºà2ÂÆ∂Ôºâ</span>
                                        </div>
                                    </div>
                                    <div class="detail-row">
                                        <div class="detail-label">Ê•ºÁõòÂàÜÈÖç:</div>
                                        <div class="detail-value">
                                            <span class="old-value">Êó†</span>
                                            <span class="arrow">‚Üí</span>
                                            <span class="new-value">ÁîµÂª∫Áõõ‰∏ñ‰∏âÊúü„ÄÅÂ••Ëé±ÂòâÂõ≠Ôºà2‰∏™Ôºâ</span>
                                        </div>
                                    </div>
                                    <div class="detail-row">
                                        <div class="detail-label">ÊúÄÁªà‰Ωú‰∏öËåÉÂõ¥:</div>
                                        <div class="detail-value final-scope">
                                            Êúù‰∏ú1ÁâáÂå∫ | 2ÂÆ∂Èó®Â∫ó | <span class="tooltip-wrapper">2‰∏™Ê•ºÁõò<span class="tooltip-content">ÁîµÂª∫Áõõ‰∏ñ‰∏âÊúü„ÄÅÂ••Ëé±ÂòâÂõ≠</span></span> | Ë¶ÜÁõñ3.2kmËåÉÂõ¥
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- ‰∫∫Âëò2 -->
                            <div class="person-change-card">
                                <div class="person-header">
                                    <div class="person-info">
                                        <span class="person-name">Áîò‰∫ëË¥û</span>
                                        <span class="person-tag new">Êñ∞Â¢û</span>
                                        <span class="person-role">ÁâáÂå∫: Êúù‰∏ú1</span>
                                    </div>
                                    <div class="person-status">
                                        <span class="status-label">‰Ωú‰∏öÂçäÂæÑ:</span>
                                        <span class="status-value">Êó† ‚Üí 2.8km</span>
                                    </div>
                                </div>
                                <div class="person-detail">
                                    <div class="detail-row">
                                        <div class="detail-label">Âå∫ÂüüÂàÜÈÖç:</div>
                                        <div class="detail-value">
                                            <span class="old-value">Êó†</span>
                                            <span class="arrow">‚Üí</span>
                                            <span class="new-value">Êúù‰∏ú1ÁâáÂå∫</span>
                                        </div>
                                    </div>
                                    <div class="detail-row">
                                        <div class="detail-label">Â∫óÈì∫ÂàÜÈÖç:</div>
                                        <div class="detail-value">
                                            <span class="old-value">Êó†</span>
                                            <span class="arrow">‚Üí</span>
                                            <span class="new-value">ÊúùÈò≥Â∫óCÔºà1ÂÆ∂Ôºâ</span>
                                        </div>
                                    </div>
                                    <div class="detail-row">
                                        <div class="detail-label">Ê•ºÁõòÂàÜÈÖç:</div>
                                        <div class="detail-value">
                                            <span class="old-value">Êó†</span>
                                            <span class="arrow">‚Üí</span>
                                            <span class="new-value">Âí∏Á¶èÂòâÂõ≠Ôºà1‰∏™Ôºâ</span>
                                        </div>
                                    </div>
                                    <div class="detail-row">
                                        <div class="detail-label">ÊúÄÁªà‰Ωú‰∏öËåÉÂõ¥:</div>
                                        <div class="detail-value final-scope">
                                            Êúù‰∏ú1ÁâáÂå∫ | 1ÂÆ∂Èó®Â∫ó | <span class="tooltip-wrapper">1‰∏™Ê•ºÁõò<span class="tooltip-content">Âí∏Á¶èÂòâÂõ≠</span></span> | Ë¶ÜÁõñ2.8kmËåÉÂõ¥
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- ‰∫∫Âëò3 -->
                            <div class="person-change-card">
                                <div class="person-header">
                                    <div class="person-info">
                                        <span class="person-name">Èí±Âª∑Âèã</span>
                                        <span class="person-tag new">Êñ∞Â¢û</span>
                                        <span class="person-tag remove">ÁßªÈô§</span>
                                        <span class="person-role">ÁâáÂå∫: Êúù‰∏ú1</span>
                                    </div>
                                    <div class="person-status">
                                        <span class="status-label">‰Ωú‰∏öÂçäÂæÑ:</span>
                                        <span class="status-value">2.5km ‚Üí 4.1km</span>
                                    </div>
                                </div>
                                <div class="person-detail">
                                    <div class="detail-row">
                                        <div class="detail-label">Âå∫ÂüüÂàÜÈÖç:</div>
                                        <div class="detail-value">
                                            <span class="old-value">ÊúùÂçóÁâáÂå∫</span>
                                            <span class="arrow">‚Üí</span>
                                            <span class="new-value">Êúù‰∏ú1ÁâáÂå∫</span>
                                        </div>
                                    </div>
                                    <div class="detail-row">
                                        <div class="detail-label">Â∫óÈì∫ÂàÜÈÖç:</div>
                                        <div class="detail-value">
                                            <span class="old-value">ÊúùÂçóÂ∫óÔºà1ÂÆ∂Ôºâ</span>
                                            <span class="arrow">‚Üí</span>
                                            <span class="new-value">ÊúùÈò≥Â∫óA„ÄÅÊúùÈò≥Â∫óDÔºà2ÂÆ∂Ôºâ</span>
                                        </div>
                                    </div>
                                    <div class="detail-row">
                                        <div class="detail-label">Ê•ºÁõòÂàÜÈÖç:</div>
                                        <div class="detail-value">
                                            <span class="old-value">ÂçóËãëÂ∞èÂå∫Ôºà1‰∏™Ôºâ</span>
                                            <span class="arrow">‚Üí</span>
                                            <span class="new-value">ÁîµÂª∫Áõõ‰∏ñ‰∏âÊúü„ÄÅÂ••Ëé±ÂòâÂõ≠„ÄÅÂí∏Á¶èÂòâÂõ≠Ôºà3‰∏™Ôºâ</span>
                                        </div>
                                    </div>
                                    <div class="detail-row">
                                        <div class="detail-label">ÊúÄÁªà‰Ωú‰∏öËåÉÂõ¥:</div>
                                        <div class="detail-value final-scope">
                                            Êúù‰∏ú1ÁâáÂå∫ | 2ÂÆ∂Èó®Â∫ó | <span class="tooltip-wrapper">3‰∏™Ê•ºÁõò<span class="tooltip-content">ÁîµÂª∫Áõõ‰∏ñ‰∏âÊúü„ÄÅÂ••Ëé±ÂòâÂõ≠„ÄÅÂí∏Á¶èÂòâÂõ≠</span></span> | Ë¶ÜÁõñ4.1kmËåÉÂõ¥
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- ‰∫∫Âëò4 -->
                            <div class="person-change-card">
                                <div class="person-header">
                                    <div class="person-info">
                                        <span class="person-name">Êú±ÂÆ∂Á∫¨</span>
                                        <span class="person-tag new">Êñ∞Â¢û</span>
                                        <span class="person-role">ÁâáÂå∫: Êúù‰∏ú2</span>
                                    </div>
                                    <div class="person-status">
                                        <span class="status-label">‰Ωú‰∏öÂçäÂæÑ:</span>
                                        <span class="status-value">Êó† ‚Üí 3.5km</span>
                                    </div>
                                </div>
                                <div class="person-detail">
                                    <div class="detail-row">
                                        <div class="detail-label">Âå∫ÂüüÂàÜÈÖç:</div>
                                        <div class="detail-value">
                                            <span class="old-value">Êó†</span>
                                            <span class="arrow">‚Üí</span>
                                            <span class="new-value">Êúù‰∏ú2ÁâáÂå∫</span>
                                        </div>
                                    </div>
                                    <div class="detail-row">
                                        <div class="detail-label">Â∫óÈì∫ÂàÜÈÖç:</div>
                                        <div class="detail-value">
                                            <span class="old-value">Êó†</span>
                                            <span class="arrow">‚Üí</span>
                                            <span class="new-value">Êúù‰∏úÂ∫óA„ÄÅÊúù‰∏úÂ∫óBÔºà2ÂÆ∂Ôºâ</span>
                                        </div>
                                    </div>
                                    <div class="detail-row">
                                        <div class="detail-label">Ê•ºÁõòÂàÜÈÖç:</div>
                                        <div class="detail-value">
                                            <span class="old-value">Êó†</span>
                                            <span class="arrow">‚Üí</span>
                                            <span class="new-value">‰∏úÊπñÊπæ„ÄÅÈò≥ÂÖâËä±Âõ≠Ôºà2‰∏™Ôºâ</span>
                                        </div>
                                    </div>
                                    <div class="detail-row">
                                        <div class="detail-label">ÊúÄÁªà‰Ωú‰∏öËåÉÂõ¥:</div>
                                        <div class="detail-value final-scope">
                                            Êúù‰∏ú2ÁâáÂå∫ | 2ÂÆ∂Èó®Â∫ó | <span class="tooltip-wrapper">2‰∏™Ê•ºÁõò<span class="tooltip-content">‰∏úÊπñÊπæ„ÄÅÈò≥ÂÖâËä±Âõ≠</span></span> | Ë¶ÜÁõñ3.5kmËåÉÂõ¥
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
            </div>

            <!-- TabÈù¢Êùø3: Èó®Â∫óÂèòÊõ¥ËØ¶ÊÉÖ -->
            <div class="tab-panel" id="storechange">
                        <!-- ÊêúÁ¥¢Ê†è -->
                        <div class="person-search-bar">
                            <input type="text" id="storeSearchInput" class="person-search-input" placeholder="ËæìÂÖ•Èó®Â∫óÂêçÁß∞ÊêúÁ¥¢...">
                            
                            <select id="storeChangeTypeFilter" class="filter-select">
                                <option value="">ÂÖ®ÈÉ®ÂèòÊõ¥Á±ªÂûã</option>
                                <option value="Êñ∞Â¢û">Êñ∞Â¢û</option>
                                <option value="ÁßªÈô§">ÁßªÈô§</option>
                                <option value="Êó†ÂèòÂåñ">Êó†ÂèòÂåñ</option>
                            </select>
                            
                            <select id="storeDistrictFilter" class="filter-select">
                                <option value="">ÂÖ®ÈÉ®ÁâáÂå∫</option>
                                <option value="Êúõ‰∫¨">Êúõ‰∫¨</option>
                                <option value="CBD">CBD</option>
                            </select>
                            
                            <button class="person-search-btn" onclick="searchAndFilterStores()">ÊêúÁ¥¢</button>
                            <button class="reset-btn" onclick="resetStoreFilters()">ÈáçÁΩÆ</button>
                            <button class="export-btn" onclick="exportStoreList()">ÂØºÂá∫</button>
                        </div>

                <!-- Èó®Â∫óÂàóË°® -->
                <div class="person-list" style="display: block !important; visibility: visible !important;">
                    <!-- Èó®Â∫óÂàóË°®Â§¥ÈÉ® -->
                    <div class="person-list-header" style="background: #fafafa;">
                        <div class="header-col" style="width: 5%;">
                            <input type="checkbox" id="selectAllStores" class="person-checkbox" onclick="toggleSelectAllStores()" title="ÂÖ®ÈÄâ">
                        </div>
                        <div class="header-col" style="width: 18%;">Èó®Â∫óÂêçÁß∞</div>
                        <div class="header-col" style="width: 15%;">ÂèòÊõ¥Á±ªÂûã</div>
                        <div class="header-col" style="width: 19%;">ÊâÄÂ±ûÁâáÂå∫</div>
                        <div class="header-col" style="width: 20%;">ÂéüË¥üË¥£‰∫∫</div>
                        <div class="header-col" style="width: 20%;">Êñ∞Ë¥üË¥£‰∫∫</div>
                    </div>
                    
                    <!-- Èó®Â∫óÂàóË°®‰Ωì -->
                    <div class="person-list-body" id="storeListBody" style="display: block !important; min-height: 100px;">
                    <!-- Èó®Â∫óÂàóË°®È°π 1: Êúõ‰∫¨Â∫ó -->
                    <div class="person-list-item store-item" data-store-name="Êúõ‰∫¨Â∫ó" data-change-type="Êñ∞Â¢û,ÁßªÈô§" data-district="Êúõ‰∫¨" style="display: block !important; min-height: 40px !important;">
                        <div class="person-item-main" style="display: flex !important;">
                            <div class="item-col" style="width: 5%;">
                                <input type="checkbox" class="person-checkbox row-checkbox-store" onclick="event.stopPropagation()">
                            </div>
                            <div class="item-col" style="width: 18%;">üè™ Êúõ‰∫¨Â∫ó</div>
                            <div class="item-col" style="width: 15%;">
                                <span class="person-tag new">Êñ∞Â¢û</span>
                                <span class="person-tag remove">ÁßªÈô§</span>
                            </div>
                            <div class="item-col" style="width: 19%;">Êúõ‰∫¨</div>
                            <div class="item-col" style="width: 20%;">
                                <span class="person-tag">ÊùéÂõõ</span>
                            </div>
                            <div class="item-col" style="width: 20%;">
                                <span class="person-tag remove">ÊùéÂõõ</span>
                                <span class="person-tag new">Âº†‰∏â</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Èó®Â∫óÂàóË°®È°π 2: Êù•ÂπøËê•Â∫ó -->
                    <div class="person-list-item store-item" data-store-name="Êù•ÂπøËê•Â∫ó" data-change-type="Êñ∞Â¢û" data-district="Êúõ‰∫¨" style="display: block !important; min-height: 40px !important;">
                        <div class="person-item-main" style="display: flex !important;">
                            <div class="item-col" style="width: 5%;">
                                <input type="checkbox" class="person-checkbox row-checkbox-store" onclick="event.stopPropagation()">
                            </div>
                            <div class="item-col" style="width: 18%;">üè™ Êù•ÂπøËê•Â∫ó</div>
                            <div class="item-col" style="width: 15%;">
                                <span class="person-tag new">Êñ∞Â¢û</span>
                            </div>
                            <div class="item-col" style="width: 19%;">Êúõ‰∫¨</div>
                            <div class="item-col" style="width: 20%;">-</div>
                            <div class="item-col" style="width: 20%;">
                                <span class="person-tag new">Âº†‰∏â</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Èó®Â∫óÂàóË°®È°π 3: ÈÖí‰ªôÊ°•Â∫ó -->
                    <div class="person-list-item store-item" data-store-name="ÈÖí‰ªôÊ°•Â∫ó" data-change-type="ÁßªÈô§" data-district="Êúõ‰∫¨">
                        <div class="person-item-main">
                            <div class="item-col" style="width: 5%;">
                                <input type="checkbox" class="person-checkbox row-checkbox-store" onclick="event.stopPropagation()">
                            </div>
                            <div class="item-col" style="width: 18%;">üè™ ÈÖí‰ªôÊ°•Â∫ó</div>
                            <div class="item-col" style="width: 15%;">
                                <span class="person-tag remove">ÁßªÈô§</span>
                            </div>
                            <div class="item-col" style="width: 19%;">Êúõ‰∫¨</div>
                            <div class="item-col" style="width: 20%;">
                                <span class="person-tag">ÊùéÂõõ</span>
                            </div>
                            <div class="item-col" style="width: 20%;">
                                <span class="person-tag remove">ÊùéÂõõ</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Èó®Â∫óÂàóË°®È°π 4: ÂõΩË¥∏Â∫ó -->
                    <div class="person-list-item store-item" data-store-name="ÂõΩË¥∏Â∫ó" data-change-type="Êñ∞Â¢û,ÁßªÈô§" data-district="CBD">
                        <div class="person-item-main">
                            <div class="item-col" style="width: 5%;">
                                <input type="checkbox" class="person-checkbox row-checkbox-store" onclick="event.stopPropagation()">
                            </div>
                            <div class="item-col" style="width: 18%;">üè™ ÂõΩË¥∏Â∫ó</div>
                            <div class="item-col" style="width: 15%;">
                                <span class="person-tag new">Êñ∞Â¢û</span>
                                <span class="person-tag remove">ÁßªÈô§</span>
                            </div>
                            <div class="item-col" style="width: 19%;">CBD</div>
                            <div class="item-col" style="width: 20%;">
                                <span class="person-tag">Áéã‰∫î</span>
                            </div>
                            <div class="item-col" style="width: 20%;">
                                <span class="person-tag remove">Áéã‰∫î</span>
                                <span class="person-tag new">ËµµÂÖ≠</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Èó®Â∫óÂàóË°®È°π 5: Âèå‰∫ïÂ∫ó -->
                    <div class="person-list-item store-item" data-store-name="Âèå‰∫ïÂ∫ó" data-change-type="Êñ∞Â¢û" data-district="CBD">
                        <div class="person-item-main">
                            <div class="item-col" style="width: 5%;">
                                <input type="checkbox" class="person-checkbox row-checkbox-store" onclick="event.stopPropagation()">
                            </div>
                            <div class="item-col" style="width: 18%;">üè™ Âèå‰∫ïÂ∫ó</div>
                            <div class="item-col" style="width: 15%;">
                                <span class="person-tag new">Êñ∞Â¢û</span>
                            </div>
                            <div class="item-col" style="width: 19%;">CBD</div>
                            <div class="item-col" style="width: 20%;">-</div>
                            <div class="item-col" style="width: 20%;">
                                <span class="person-tag new">ËµµÂÖ≠</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Èó®Â∫óÂàóË°®È°π 6: Âõ¢ÁªìÊπñÂ∫ó -->
                    <div class="person-list-item store-item" data-store-name="Âõ¢ÁªìÊπñÂ∫ó" data-change-type="Êñ∞Â¢û,ÁßªÈô§" data-district="Êúõ‰∫¨">
                        <div class="person-item-main">
                            <div class="item-col" style="width: 5%;">
                                <input type="checkbox" class="person-checkbox row-checkbox-store" onclick="event.stopPropagation()">
                            </div>
                            <div class="item-col" style="width: 18%;">üè™ Âõ¢ÁªìÊπñÂ∫ó</div>
                            <div class="item-col" style="width: 15%;">
                                <span class="person-tag new">Êñ∞Â¢û</span>
                                <span class="person-tag remove">ÁßªÈô§</span>
                            </div>
                            <div class="item-col" style="width: 19%;">Êúõ‰∫¨</div>
                            <div class="item-col" style="width: 20%;">
                                <span class="person-tag">Èí±Âª∑Âèã</span>
                            </div>
                            <div class="item-col" style="width: 20%;">
                                <span class="person-tag remove">Èí±Âª∑Âèã</span>
                                <span class="person-tag new">ÈÇìÊôìÂÄ©</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Èó®Â∫óÂàóË°®È°π 7: Â§ßÊúõË∑ØÂ∫ó -->
                    <div class="person-list-item store-item" data-store-name="Â§ßÊúõË∑ØÂ∫ó" data-change-type="Êñ∞Â¢û" data-district="CBD">
                        <div class="person-item-main">
                            <div class="item-col" style="width: 5%;">
                                <input type="checkbox" class="person-checkbox row-checkbox-store" onclick="event.stopPropagation()">
                            </div>
                            <div class="item-col" style="width: 18%;">üè™ Â§ßÊúõË∑ØÂ∫ó</div>
                            <div class="item-col" style="width: 15%;">
                                <span class="person-tag new">Êñ∞Â¢û</span>
                            </div>
                            <div class="item-col" style="width: 19%;">CBD</div>
                            <div class="item-col" style="width: 20%;">-</div>
                            <div class="item-col" style="width: 20%;">
                                <span class="person-tag new">Êú±Áß¶Á∫¨</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Èó®Â∫óÂàóË°®È°π 8: ‰∏âÈáåÂ±ØÂ∫ó -->
                    <div class="person-list-item store-item" data-store-name="‰∏âÈáåÂ±ØÂ∫ó" data-change-type="ÁßªÈô§" data-district="CBD">
                        <div class="person-item-main">
                            <div class="item-col" style="width: 5%;">
                                <input type="checkbox" class="person-checkbox row-checkbox-store" onclick="event.stopPropagation()">
                            </div>
                            <div class="item-col" style="width: 18%;">üè™ ‰∏âÈáåÂ±ØÂ∫ó</div>
                            <div class="item-col" style="width: 15%;">
                                <span class="person-tag remove">ÁßªÈô§</span>
                            </div>
                            <div class="item-col" style="width: 19%;">CBD</div>
                            <div class="item-col" style="width: 20%;">
                                <span class="person-tag">Âº†Ê•†</span>
                            </div>
                            <div class="item-col" style="width: 20%;">
                                <span class="person-tag remove">Âº†Ê•†</span>
                            </div>
                        </div>
                    </div>
                    </div><!-- ÂÖ≥Èó≠ person-list-body -->
                    
                    <!-- ÂàÜÈ°µÊéß‰ª∂ -->
                    <div class="pagination-container">
                        <div class="pagination-info">
                            ÊòæÁ§∫ <span id="storePageStartNum">1</span>-<span id="storePageEndNum">6</span> Êù°Ôºå
                            ÂÖ± <span id="storeTotalNum">8</span> Êù°
                        </div>
                        <div class="pagination-controls">
                            <button class="page-btn" id="storePrevPageBtn" onclick="goToStorePage(storeCurrentPage - 1)">‰∏ä‰∏ÄÈ°µ</button>
                            <div class="page-numbers" id="storePageNumbers"></div>
                            <button class="page-btn" id="storeNextPageBtn" onclick="goToStorePage(storeCurrentPage + 1)">‰∏ã‰∏ÄÈ°µ</button>
                        </div>
                    </div>
                </div><!-- ÂÖ≥Èó≠ person-list -->
            </div><!-- ÂÖ≥Èó≠ tab-panel storechange -->
            
            <!-- TabÈù¢Êùø4: Ê•ºÁõòÂèòÊõ¥ËØ¶ÊÉÖ -->
            <div class="tab-panel" id="resblockchange">
                        <!-- ÊêúÁ¥¢Ê†è -->
                        <div class="person-search-bar">
                            <input type="text" id="resblockSearchInput" class="person-search-input" placeholder="ËæìÂÖ•Â∞èÂå∫ÂêçÁß∞ÊêúÁ¥¢...">
                            
                            <select id="resblockChangeTypeFilter" class="filter-select">
                                <option value="">ÂÖ®ÈÉ®ÂèòÊõ¥Á±ªÂûã</option>
                                <option value="Êñ∞Â¢û">Êñ∞Â¢û</option>
                                <option value="ÁßªÈô§">ÁßªÈô§</option>
                                <option value="Êó†ÂèòÂåñ">Êó†ÂèòÂåñ</option>
                            </select>
                            
                            <select id="resblockDistrictFilter" class="filter-select">
                                <option value="">ÂÖ®ÈÉ®ÁâáÂå∫</option>
                                <option value="Êúù‰∏ú1">Êúù‰∏ú1</option>
                                <option value="Êúù‰∏ú2">Êúù‰∏ú2</option>
                                <option value="ÊúùÂçó‰ºòÈÄâ">ÊúùÂçó‰ºòÈÄâ</option>
                                <option value="ÊúùÂåó">ÊúùÂåó</option>
                                <option value="ÊúùË•ø">ÊúùË•ø</option>
                            </select>
                            
                            <button class="person-search-btn" onclick="searchAndFilterResblocks()">ÊêúÁ¥¢</button>
                            <button class="reset-btn" onclick="resetResblockFilters()">ÈáçÁΩÆ</button>
                            <button class="export-btn" onclick="exportResblockList()">ÂØºÂá∫</button>
                        </div>

                        <!-- Ê•ºÁõòÂàóË°®ÂÆπÂô® -->
                        <div class="person-list-container">
                    <!-- Ê•ºÁõòÂàóË°® -->
                    <div class="person-list" style="display: block !important; visibility: visible !important;">
                        <!-- Ê•ºÁõòÂàóË°®Â§¥ÈÉ® -->
                        <div class="person-list-header" style="background: #fafafa;">
                            <div class="header-col" style="width: 5%;">
                                <input type="checkbox" id="selectAllResblocks" class="person-checkbox" onclick="toggleSelectAllResblocks()" title="ÂÖ®ÈÄâ">
                            </div>
                            <div class="header-col" style="width: 18%;">Â∞èÂå∫</div>
                            <div class="header-col" style="width: 15%;">ÂèòÊõ¥Á±ªÂûã</div>
                            <div class="header-col" style="width: 19%;">ÊâÄÂ±ûÁâáÂå∫</div>
                            <div class="header-col" style="width: 20%;">ÂéüË¥üË¥£‰∫∫ (Ë∞ÉÊï¥Ââç 13‰∫∫)</div>
                            <div class="header-col" style="width: 20%;">Êñ∞Ë¥üË¥£‰∫∫ (Ë∞ÉÊï¥Âêé 14‰∫∫)</div>
                        </div>
                    
                    <!-- Ê•ºÁõòÂàóË°®‰Ωì -->
                    <div class="person-list-body" id="resblockListBody" style="display: block !important; min-height: 100px;">
                    <!-- Ê•ºÁõòÂàóË°®È°π 1: ÂçóËãëÂ∫ó -->
                    <div class="person-list-item" data-resblock-name="ÂçóËãëÂ∫ó" data-change-type="Êñ∞Â¢û" data-district="Êúù‰∏ú1">
                        <div class="person-item-main">
                            <div class="item-col" style="width: 5%;">
                                <input type="checkbox" class="person-checkbox row-checkbox-resblock" onclick="event.stopPropagation()">
                            </div>
                            <div class="item-col" style="width: 18%;">üè™ ÂçóËãëÂ∫ó</div>
                            <div class="item-col" style="width: 15%;">
                                <span class="person-tag new">Êñ∞Â¢û</span>
                            </div>
                            <div class="item-col" style="width: 19%;">Êúù‰∏ú1</div>
                            <div class="item-col" style="width: 20%;">-</div>
                            <div class="item-col" style="width: 20%;">
                                <span class="person-tag new">ÊùéÊòé</span>
                                <span class="person-tag new">ÁéãÊôì‰ºü</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ê•ºÁõòÂàóË°®È°π 2: ÂçóÂüéÂ∫ó -->
                    <div class="person-list-item" data-resblock-name="ÂçóÂüéÂ∫ó" data-change-type="Êñ∞Â¢û" data-district="Êúù‰∏ú1">
                        <div class="person-item-main">
                            <div class="item-col" style="width: 5%;">
                                <input type="checkbox" class="person-checkbox row-checkbox-resblock" onclick="event.stopPropagation()">
                            </div>
                            <div class="item-col" style="width: 18%;">üè™ ÂçóÂüéÂ∫ó</div>
                            <div class="item-col" style="width: 15%;">
                                <span class="person-tag new">Êñ∞Â¢û</span>
                            </div>
                            <div class="item-col" style="width: 19%;">Êúù‰∏ú1</div>
                            <div class="item-col" style="width: 20%;">
                                <span class="person-tag">ÊùéÂõõ</span>
                                <span class="person-tag">È´òÊ∞∏Ë¥¢</span>
                            </div>
                            <div class="item-col" style="width: 20%;">
                                <span class="person-tag new">Â≠ô‰∏Ω</span>
                                <span class="person-tag">È´òÊ∞∏Ë¥¢</span>
                                <span class="person-tag">ÊùéÂõõ</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ê•ºÁõòÂàóË°®È°π 3: ÂçóÈó®Â∫ó -->
                    <div class="person-list-item" data-resblock-name="ÂçóÈó®Â∫ó" data-change-type="Êó†ÂèòÂåñ" data-district="Êúù‰∏ú2">
                        <div class="person-item-main">
                            <div class="item-col" style="width: 5%;">
                                <input type="checkbox" class="person-checkbox row-checkbox-resblock" onclick="event.stopPropagation()">
                            </div>
                            <div class="item-col" style="width: 18%;">üè™ ÂçóÈó®Â∫ó</div>
                            <div class="item-col" style="width: 15%;">
                                <span class="person-tag" style="background: #f5f5f5; color: #999;">Êó†ÂèòÂåñ</span>
                            </div>
                            <div class="item-col" style="width: 19%;">Êúù‰∏ú2</div>
                            <div class="item-col" style="width: 20%;">
                                <span class="person-tag">Áéã‰∫î</span>
                                <span class="person-tag">ÁôΩÈ£û</span>
                            </div>
                            <div class="item-col" style="width: 20%;">
                                <span class="person-tag">ÁôΩÈ£û</span>
                                <span class="person-tag">Áéã‰∫î</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ê•ºÁõòÂàóË°®È°π 4: ÂéüÊúâÈó®Â∫óA -->
                    <div class="person-list-item" data-resblock-name="ÂéüÊúâÈó®Â∫óA" data-change-type="Êó†ÂèòÂåñ" data-district="Êúù‰∏ú2">
                        <div class="person-item-main">
                            <div class="item-col" style="width: 5%;">
                                <input type="checkbox" class="person-checkbox row-checkbox-resblock" onclick="event.stopPropagation()">
                            </div>
                            <div class="item-col" style="width: 18%;">üè™ ÂéüÊúâÈó®Â∫óA</div>
                            <div class="item-col" style="width: 15%;">
                                <span class="person-tag" style="background: #f5f5f5; color: #999;">Êó†ÂèòÂåñ</span>
                            </div>
                            <div class="item-col" style="width: 19%;">Êúù‰∏ú2</div>
                            <div class="item-col" style="width: 20%;">
                                <span class="person-tag">ÈÉë‰ºü</span>
                                <span class="person-tag">Âê¥È¢ñ</span>
                            </div>
                            <div class="item-col" style="width: 20%;">
                                <span class="person-tag">ÈÉë‰ºü</span>
                                <span class="person-tag">Âê¥È¢ñ</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ê•ºÁõòÂàóË°®È°π 5: ÁîµÂª∫Áõõ‰∏ñ‰∏âÊúü -->
                    <div class="person-list-item" data-resblock-name="ÁîµÂª∫Áõõ‰∏ñ‰∏âÊúü" data-change-type="Êñ∞Â¢û" data-district="ÊúùÂçó‰ºòÈÄâ">
                        <div class="person-item-main">
                            <div class="item-col" style="width: 5%;">
                                <input type="checkbox" class="person-checkbox row-checkbox-resblock" onclick="event.stopPropagation()">
                            </div>
                            <div class="item-col" style="width: 18%;">üè¢ ÁîµÂª∫Áõõ‰∏ñ‰∏âÊúü</div>
                            <div class="item-col" style="width: 15%;">
                                <span class="person-tag new">Êñ∞Â¢û</span>
                            </div>
                            <div class="item-col" style="width: 19%;">ÊúùÂçó‰ºòÈÄâ</div>
                            <div class="item-col" style="width: 20%;">-</div>
                            <div class="item-col" style="width: 20%;">
                                <span class="person-tag new">ÈÇìÊôìÂÄ©</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ê•ºÁõòÂàóË°®È°π 6: Â••Ëé±ÂòâÂõ≠ -->
                    <div class="person-list-item" data-resblock-name="Â••Ëé±ÂòâÂõ≠" data-change-type="Êñ∞Â¢û" data-district="ÊúùÂçó‰ºòÈÄâ">
                        <div class="person-item-main">
                            <div class="item-col" style="width: 5%;">
                                <input type="checkbox" class="person-checkbox row-checkbox-resblock" onclick="event.stopPropagation()">
                            </div>
                            <div class="item-col" style="width: 18%;">üè¢ Â••Ëé±ÂòâÂõ≠</div>
                            <div class="item-col" style="width: 15%;">
                                <span class="person-tag new">Êñ∞Â¢û</span>
                            </div>
                            <div class="item-col" style="width: 19%;">ÊúùÂçó‰ºòÈÄâ</div>
                            <div class="item-col" style="width: 20%;">-</div>
                            <div class="item-col" style="width: 20%;">
                                <span class="person-tag new">ÈÇìÊôìÂÄ©</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ê•ºÁõòÂàóË°®È°π 7: ÂçóËãëÂ∞èÂå∫ -->
                    <div class="person-list-item" data-resblock-name="ÂçóËãëÂ∞èÂå∫" data-change-type="Êñ∞Â¢û,ÁßªÈô§" data-district="ÊúùÂçó‰ºòÈÄâ">
                        <div class="person-item-main">
                            <div class="item-col" style="width: 5%;">
                                <input type="checkbox" class="person-checkbox row-checkbox-resblock" onclick="event.stopPropagation()">
                            </div>
                            <div class="item-col" style="width: 18%;">üè¢ ÂçóËãëÂ∞èÂå∫</div>
                            <div class="item-col" style="width: 15%;">
                                <span class="person-tag new">Êñ∞Â¢û</span>
                                <span class="person-tag remove">ÁßªÈô§</span>
                            </div>
                            <div class="item-col" style="width: 19%;">ÊúùÂçó‰ºòÈÄâ</div>
                            <div class="item-col" style="width: 20%;">
                                <span class="person-tag">Èí±Âª∑Âèã</span>
                            </div>
                            <div class="item-col" style="width: 20%;">
                                <span class="person-tag remove">Èí±Âª∑Âèã</span>
                                <span class="person-tag new">Áîò‰∫ëË¥û</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ê•ºÁõòÂàóË°®È°π 8: Âí∏Á¶èÂòâÂõ≠ -->
                    <div class="person-list-item" data-resblock-name="Âí∏Á¶èÂòâÂõ≠" data-change-type="Êñ∞Â¢û" data-district="ÊúùÂåó">
                        <div class="person-item-main">
                            <div class="item-col" style="width: 5%;">
                                <input type="checkbox" class="person-checkbox row-checkbox-resblock" onclick="event.stopPropagation()">
                            </div>
                            <div class="item-col" style="width: 18%;">üè¢ Âí∏Á¶èÂòâÂõ≠</div>
                            <div class="item-col" style="width: 15%;">
                                <span class="person-tag new">Êñ∞Â¢û</span>
                            </div>
                            <div class="item-col" style="width: 19%;">ÊúùÂåó</div>
                            <div class="item-col" style="width: 20%;">-</div>
                            <div class="item-col" style="width: 20%;">
                                <span class="person-tag new">Áîò‰∫ëË¥û</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ê•ºÁõòÂàóË°®È°π 9: ‰∏úÊπñÊπæ -->
                    <div class="person-list-item" data-resblock-name="‰∏úÊπñÊπæ" data-change-type="Êñ∞Â¢û" data-district="ÊúùÂåó">
                        <div class="person-item-main">
                            <div class="item-col" style="width: 5%;">
                                <input type="checkbox" class="person-checkbox row-checkbox-resblock" onclick="event.stopPropagation()">
                            </div>
                            <div class="item-col" style="width: 18%;">üè¢ ‰∏úÊπñÊπæ</div>
                            <div class="item-col" style="width: 15%;">
                                <span class="person-tag new">Êñ∞Â¢û</span>
                            </div>
                            <div class="item-col" style="width: 19%;">ÊúùÂåó</div>
                            <div class="item-col" style="width: 20%;">-</div>
                            <div class="item-col" style="width: 20%;">
                                <span class="person-tag new">Êú±Áß¶Á∫¨</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ê•ºÁõòÂàóË°®È°π 10: Èò≥ÂÖâËä±Âõ≠ -->
                    <div class="person-list-item" data-resblock-name="Èò≥ÂÖâËä±Âõ≠" data-change-type="Êñ∞Â¢û" data-district="ÊúùÂåó">
                        <div class="person-item-main">
                            <div class="item-col" style="width: 5%;">
                                <input type="checkbox" class="person-checkbox row-checkbox-resblock" onclick="event.stopPropagation()">
                            </div>
                            <div class="item-col" style="width: 18%;">üè¢ Èò≥ÂÖâËä±Âõ≠</div>
                            <div class="item-col" style="width: 15%;">
                                <span class="person-tag new">Êñ∞Â¢û</span>
                            </div>
                            <div class="item-col" style="width: 19%;">ÊúùÂåó</div>
                            <div class="item-col" style="width: 20%;">-</div>
                            <div class="item-col" style="width: 20%;">
                                <span class="person-tag new">Êú±Áß¶Á∫¨</span>
                                <span class="person-tag new">Âº†Ê•†</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ê•ºÁõòÂàóË°®È°π 11: ‰∏áÁßëÊòüÁÅ´ -->
                    <div class="person-list-item" data-resblock-name="‰∏áÁßëÊòüÁÅ´" data-change-type="ÁßªÈô§" data-district="ÊúùË•ø">
                        <div class="person-item-main">
                            <div class="item-col" style="width: 5%;">
                                <input type="checkbox" class="person-checkbox row-checkbox-resblock" onclick="event.stopPropagation()">
                            </div>
                            <div class="item-col" style="width: 18%;">üè¢ ‰∏áÁßëÊòüÁÅ´</div>
                            <div class="item-col" style="width: 15%;">
                                <span class="person-tag remove">ÁßªÈô§</span>
                            </div>
                            <div class="item-col" style="width: 19%;">ÊúùË•øÔºàÂ∑≤Âà†Èô§Ôºâ</div>
                            <div class="item-col" style="width: 20%;">
                                <span class="person-tag">Èí±Âª∑Âèã</span>
                            </div>
                            <div class="item-col" style="width: 20%;">
                                <span class="person-tag remove">Èí±Âª∑Âèã</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ê•ºÁõòÂàóË°®È°π 12: Âåó‰∫¨ÂÉèÁ¥† -->
                    <div class="person-list-item" data-resblock-name="Âåó‰∫¨ÂÉèÁ¥†" data-change-type="Êñ∞Â¢û,ÁßªÈô§" data-district="Êúù‰∏ú1">
                        <div class="person-item-main">
                            <div class="item-col" style="width: 5%;">
                                <input type="checkbox" class="person-checkbox row-checkbox-resblock" onclick="event.stopPropagation()">
                            </div>
                            <div class="item-col" style="width: 18%;">üè¢ Âåó‰∫¨ÂÉèÁ¥†</div>
                            <div class="item-col" style="width: 15%;">
                                <span class="person-tag new">Êñ∞Â¢û</span>
                                <span class="person-tag remove">ÁßªÈô§</span>
                            </div>
                            <div class="item-col" style="width: 19%;">Êúù‰∏ú1</div>
                            <div class="item-col" style="width: 20%;">
                                <span class="person-tag">Áîò‰∫ëË¥û</span>
                                <span class="person-tag">ÊùéÂõõ</span>
                            </div>
                            <div class="item-col" style="width: 20%;">
                                <span class="person-tag remove">Áîò‰∫ëË¥û</span>
                                <span class="person-tag new">ÈÇìÊôìÂÄ©</span>
                                <span class="person-tag">ÊùéÂõõ</span>
                            </div>
                        </div>
                    </div>
                    
                    </div><!-- ÂÖ≥Èó≠ person-list-body -->

                            <!-- ÂàÜÈ°µÊéß‰ª∂ -->
                            <div class="pagination-container">
                                <div class="pagination-info">
                                    Á¨¨ <span id="resblockPageStartNum">1</span>-<span id="resblockPageEndNum">6</span> È°πÔºåÂÖ± <span id="resblockTotalNum">12</span> È°π
                                </div>
                                <div class="pagination-controls">
                                    <button class="page-btn" id="resblockPrevPageBtn" onclick="goToResblockPage(resblockCurrentPage - 1)">‰∏ä‰∏ÄÈ°µ</button>
                                    <span class="page-numbers" id="resblockPageNumbers"></span>
                                    <button class="page-btn" id="resblockNextPageBtn" onclick="goToResblockPage(resblockCurrentPage + 1)">‰∏ã‰∏ÄÈ°µ</button>
                                </div>
                            </div>
                        </div>
                </div><!-- ÂÖ≥Èó≠ person-list -->
            </div><!-- ÂÖ≥Èó≠ tab-panel resblockchange -->
            </div><!-- ÂÖ≥Èó≠ tab-content -->
        </div><!-- ÂÖ≥Èó≠ modal-body -->
    </div><!-- ÂÖ≥Èó≠ modal-container -->

    <!-- Èó®Â∫óÂèòÂåñËØ¶ÊÉÖÂºπÁ™ó -->
    <div class="store-change-modal" id="storeChangeModal" onclick="closeStoreChangeModal(event)">
        <div class="store-change-modal-content" onclick="event.stopPropagation()">
            <div class="store-change-modal-header">
                <h3 id="storeChangeModalTitle">Èó®Â∫óÂèòÂåñËØ¶ÊÉÖ</h3>
                <button class="store-change-modal-close" onclick="closeStoreChangeModal()">&times;</button>
            </div>
            <div class="store-change-modal-body">
                <!-- ÁªüËÆ°Ê±áÊÄª -->
                <div class="store-change-summary">
                    <div class="store-change-summary-card add">
                        <div class="store-change-summary-label">Êñ∞Â¢ûÈó®Â∫ó</div>
                        <div class="store-change-summary-value" id="storeAddCount">0</div>
                    </div>
                    <div class="store-change-summary-card modify">
                        <div class="store-change-summary-label">‰øÆÊîπÈó®Â∫ó</div>
                        <div class="store-change-summary-value" id="storeModifyCount">0</div>
                    </div>
                    <div class="store-change-summary-card remove">
                        <div class="store-change-summary-label">Âà†Èô§Èó®Â∫ó</div>
                        <div class="store-change-summary-value" id="storeRemoveCount">0</div>
                    </div>
                </div>

                <!-- Êñ∞Â¢ûÈó®Â∫óÂàóË°® -->
                <div class="store-change-section" id="storeAddSection">
                    <div class="store-change-section-title">
                        <span>‚úÖ</span>
                        <span>Êñ∞Â¢ûÈó®Â∫ó</span>
                    </div>
                    <div class="store-change-list" id="storeAddList">
                        <!-- Âä®ÊÄÅÂ°´ÂÖÖ -->
                    </div>
                </div>

                <!-- ‰øÆÊîπÈó®Â∫óÂàóË°® -->
                <div class="store-change-section" id="storeModifySection">
                    <div class="store-change-section-title">
                        <span>üìù</span>
                        <span>‰øÆÊîπÈó®Â∫ó</span>
                    </div>
                    <div class="store-change-list" id="storeModifyList">
                        <!-- Âä®ÊÄÅÂ°´ÂÖÖ -->
                    </div>
                </div>

                <!-- Âà†Èô§Èó®Â∫óÂàóË°® -->
                <div class="store-change-section" id="storeRemoveSection">
                    <div class="store-change-section-title">
                        <span>‚ùå</span>
                        <span>Âà†Èô§Èó®Â∫ó</span>
                    </div>
                    <div class="store-change-list" id="storeRemoveList">
                        <!-- Âä®ÊÄÅÂ°´ÂÖÖ -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ÁâáÂå∫ÈÖç‰∫∫ÂèòÂåñÂºπÁ™ó -->
    <div class="store-change-modal" id="regionPersonModal" onclick="closeModal('regionPersonModal', event)">
        <div class="store-change-modal-content" onclick="event.stopPropagation()">
            <div class="store-change-modal-header">
                <h3 id="regionPersonModalTitle">ÁâáÂå∫ÈÖç‰∫∫ÂèòÂåñ</h3>
                <button class="store-change-modal-close" onclick="closeModal('regionPersonModal')">&times;</button>
            </div>
            <div class="store-change-modal-body">
                <!-- ËßÜÂõæÂàáÊç¢ -->
                <div class="view-toggle-container">
                    <button class="view-toggle-btn active" onclick="switchView('regionPerson', 'change')">ÂèòÊõ¥ËßÜÂõæ</button>
                    <button class="view-toggle-btn" onclick="switchView('regionPerson', 'compare')">ÂØπÊØîËßÜÂõæ</button>
                </div>

                <!-- ÂèòÊõ¥ËßÜÂõæ -->
                <div id="regionPersonChangeView" class="change-view-container">
                    <div class="store-change-summary">
                        <div class="store-change-summary-card add">
                            <div class="store-change-summary-label">Êñ∞Â¢û‰∫∫Âëò</div>
                            <div class="store-change-summary-value" id="regionPersonAddCount">0</div>
                        </div>
                        <div class="store-change-summary-card remove">
                            <div class="store-change-summary-label">ÁßªÈô§‰∫∫Âëò</div>
                            <div class="store-change-summary-value" id="regionPersonRemoveCount">0</div>
                        </div>
                        <div class="store-change-summary-card">
                            <div class="store-change-summary-label">ÂáÄÂèòÂåñ</div>
                            <div class="store-change-summary-value" id="regionPersonNetChange">0</div>
                        </div>
                    </div>

                    <div class="store-change-section" id="regionPersonAddSection">
                        <div class="store-change-section-title">
                            <span>‚úÖ</span>
                            <span>Êñ∞Â¢û‰∫∫Âëò</span>
                        </div>
                        <div class="store-change-list" id="regionPersonAddList"></div>
                    </div>

                    <div class="store-change-section" id="regionPersonRemoveSection">
                        <div class="store-change-section-title">
                            <span>‚ùå</span>
                            <span>ÁßªÈô§‰∫∫Âëò</span>
                        </div>
                        <div class="store-change-list" id="regionPersonRemoveList"></div>
                    </div>
                </div>

                <!-- ÂØπÊØîËßÜÂõæ -->
                <div id="regionPersonCompareView" class="compare-view-container">
                    <div class="compare-columns">
                        <div class="compare-column">
                            <div class="compare-column-header before">Ë∞ÉÊï¥Ââç (<span id="regionPersonBeforeCount">0</span>‰∫∫)</div>
                            <div class="compare-person-list" id="regionPersonBeforeList"></div>
                        </div>
                        <div class="compare-column">
                            <div class="compare-column-header after">Ë∞ÉÊï¥Âêé (<span id="regionPersonAfterCount">0</span>‰∫∫)</div>
                            <div class="compare-person-list" id="regionPersonAfterList"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Ê•ºÁõòÈÖç‰∫∫ÂèòÂåñÂºπÁ™ó -->
    <div class="store-change-modal" id="resblockPersonModal" onclick="closeModal('resblockPersonModal', event)">
        <div class="store-change-modal-content" onclick="event.stopPropagation()">
            <div class="store-change-modal-header">
                <h3 id="resblockPersonModalTitle">Ê•ºÁõòÈÖç‰∫∫ÂèòÂåñ</h3>
                <button class="store-change-modal-close" onclick="closeModal('resblockPersonModal')">&times;</button>
            </div>
            <div class="store-change-modal-body">
                <div class="view-toggle-container">
                    <button class="view-toggle-btn active" onclick="switchView('resblockPerson', 'change')">ÂèòÊõ¥ËßÜÂõæ</button>
                    <button class="view-toggle-btn" onclick="switchView('resblockPerson', 'compare')">ÂØπÊØîËßÜÂõæ</button>
                </div>

                <div id="resblockPersonChangeView" class="change-view-container">
                    <div class="store-change-summary">
                        <div class="store-change-summary-card add">
                            <div class="store-change-summary-label">Êñ∞Â¢û‰∫∫Âëò</div>
                            <div class="store-change-summary-value" id="resblockPersonAddCount">0</div>
                        </div>
                        <div class="store-change-summary-card remove">
                            <div class="store-change-summary-label">ÁßªÈô§‰∫∫Âëò</div>
                            <div class="store-change-summary-value" id="resblockPersonRemoveCount">0</div>
                        </div>
                        <div class="store-change-summary-card">
                            <div class="store-change-summary-label">ÂáÄÂèòÂåñ</div>
                            <div class="store-change-summary-value" id="resblockPersonNetChange">0</div>
                        </div>
                    </div>

                    <div class="store-change-section" id="resblockPersonAddSection">
                        <div class="store-change-section-title">
                            <span>‚úÖ</span>
                            <span>Êñ∞Â¢û‰∫∫Âëò</span>
                        </div>
                        <div class="store-change-list" id="resblockPersonAddList"></div>
                    </div>

                    <div class="store-change-section" id="resblockPersonRemoveSection">
                        <div class="store-change-section-title">
                            <span>‚ùå</span>
                            <span>ÁßªÈô§‰∫∫Âëò</span>
                        </div>
                        <div class="store-change-list" id="resblockPersonRemoveList"></div>
                    </div>
                </div>

                <div id="resblockPersonCompareView" class="compare-view-container">
                    <div class="compare-table-container">
                        <table class="compare-table">
                            <thead>
                                <tr>
                                    <th style="width: 25%;">Ê•ºÁõòÂêçÁß∞</th>
                                    <th style="width: 15%;">ÂèòÊõ¥Á±ªÂûã</th>
                                    <th style="width: 30%;">ÂéüË¥üË¥£‰∫∫ÔºàË∞ÉÊï¥Ââç <span id="resblockPersonBeforeCount">0</span>‰∫∫Ôºâ</th>
                                    <th style="width: 30%;">Êñ∞Ë¥üË¥£‰∫∫ÔºàË∞ÉÊï¥Âêé <span id="resblockPersonAfterCount">0</span>‰∫∫Ôºâ</th>
                                </tr>
                            </thead>
                            <tbody id="resblockPersonCompareTable">
                                <!-- Âä®ÊÄÅÂ°´ÂÖÖ -->
                            </tbody>
                        </table>
                        <div class="table-pagination" id="resblockPersonPagination" style="display: none;">
                            <div class="pagination-info">
                                ÂÖ± <span id="resblockPersonTotalItems">0</span> ‰∏™Ê•ºÁõòÔºåÊØèÈ°µÊòæÁ§∫ <span id="resblockPersonPageSize">10</span> ‰∏™
                            </div>
                            <div class="pagination-controls">
                                <button class="pagination-btn" onclick="resblockPersonChangePage('first')">È¶ñÈ°µ</button>
                                <button class="pagination-btn" onclick="resblockPersonChangePage('prev')">‰∏ä‰∏ÄÈ°µ</button>
                                <div class="pagination-page-numbers" id="resblockPersonPageNumbers"></div>
                                <button class="pagination-btn" onclick="resblockPersonChangePage('next')">‰∏ã‰∏ÄÈ°µ</button>
                                <button class="pagination-btn" onclick="resblockPersonChangePage('last')">Êú´È°µ</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Èó®Â∫óÈÖç‰∫∫ÂèòÂåñÂºπÁ™ó -->
    <div class="store-change-modal" id="storePersonModal" onclick="closeModal('storePersonModal', event)">
        <div class="store-change-modal-content" onclick="event.stopPropagation()">
            <div class="store-change-modal-header">
                <h3 id="storePersonModalTitle">Èó®Â∫óÈÖç‰∫∫ÂèòÂåñ</h3>
                <button class="store-change-modal-close" onclick="closeModal('storePersonModal')">&times;</button>
            </div>
            <div class="store-change-modal-body">
                <div class="view-toggle-container">
                    <button class="view-toggle-btn active" onclick="switchView('storePerson', 'change')">ÂèòÊõ¥ËßÜÂõæ</button>
                    <button class="view-toggle-btn" onclick="switchView('storePerson', 'compare')">ÂØπÊØîËßÜÂõæ</button>
                </div>

                <div id="storePersonChangeView" class="change-view-container">
                    <div class="store-change-summary">
                        <div class="store-change-summary-card add">
                            <div class="store-change-summary-label">Êñ∞Â¢û‰∫∫Âëò</div>
                            <div class="store-change-summary-value" id="storePersonAddCount">0</div>
                        </div>
                        <div class="store-change-summary-card remove">
                            <div class="store-change-summary-label">ÁßªÈô§‰∫∫Âëò</div>
                            <div class="store-change-summary-value" id="storePersonRemoveCount">0</div>
                        </div>
                        <div class="store-change-summary-card">
                            <div class="store-change-summary-label">ÂáÄÂèòÂåñ</div>
                            <div class="store-change-summary-value" id="storePersonNetChange">0</div>
                        </div>
                    </div>

                    <div class="store-change-section" id="storePersonAddSection">
                        <div class="store-change-section-title">
                            <span>‚úÖ</span>
                            <span>Êñ∞Â¢û‰∫∫Âëò</span>
                        </div>
                        <div class="store-change-list" id="storePersonAddList"></div>
                    </div>

                    <div class="store-change-section" id="storePersonRemoveSection">
                        <div class="store-change-section-title">
                            <span>‚ùå</span>
                            <span>ÁßªÈô§‰∫∫Âëò</span>
                        </div>
                        <div class="store-change-list" id="storePersonRemoveList"></div>
                    </div>
                </div>

                <div id="storePersonCompareView" class="compare-view-container">
                    <div class="compare-table-container">
                        <table class="compare-table">
                            <thead>
                                <tr>
                                    <th style="width: 25%;">Èó®Â∫óÂêçÁß∞</th>
                                    <th style="width: 15%;">ÂèòÊõ¥Á±ªÂûã</th>
                                    <th style="width: 30%;">ÂéüË¥üË¥£‰∫∫ÔºàË∞ÉÊï¥Ââç <span id="storePersonBeforeCount">0</span>‰∫∫Ôºâ</th>
                                    <th style="width: 30%;">Êñ∞Ë¥üË¥£‰∫∫ÔºàË∞ÉÊï¥Âêé <span id="storePersonAfterCount">0</span>‰∫∫Ôºâ</th>
                                </tr>
                            </thead>
                            <tbody id="storePersonCompareTable">
                                <!-- Âä®ÊÄÅÂ°´ÂÖÖ -->
                            </tbody>
                        </table>
                        <div class="table-pagination" id="storePersonPagination" style="display: none;">
                            <div class="pagination-info">
                                ÂÖ± <span id="storePersonTotalItems">0</span> ‰∏™Èó®Â∫óÔºåÊØèÈ°µÊòæÁ§∫ <span id="storePersonPageSize">10</span> ‰∏™
                            </div>
                            <div class="pagination-controls">
                                <button class="pagination-btn" onclick="storePersonChangePage('first')">È¶ñÈ°µ</button>
                                <button class="pagination-btn" onclick="storePersonChangePage('prev')">‰∏ä‰∏ÄÈ°µ</button>
                                <div class="pagination-page-numbers" id="storePersonPageNumbers"></div>
                                <button class="pagination-btn" onclick="storePersonChangePage('next')">‰∏ã‰∏ÄÈ°µ</button>
                                <button class="pagination-btn" onclick="storePersonChangePage('last')">Êú´È°µ</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Âõ¥Ê†èËåÉÂõ¥ÂèòÂåñÂºπÁ™ó -->
    <div class="store-change-modal" id="fenceChangeModal" onclick="closeModal('fenceChangeModal', event)">
        <div class="fence-compare-modal-content" onclick="event.stopPropagation()">
            <div class="store-change-modal-header">
                <h3 id="fenceChangeModalTitle">Âõ¥Ê†èËåÉÂõ¥ÂèòÂåñ</h3>
                <button class="store-change-modal-close" onclick="closeModal('fenceChangeModal')">&times;</button>
            </div>
            <div class="fence-compare-body">
                <!-- Êï∞ÊçÆÊ±áÊÄªÂç°Áâá -->
                <div class="fence-summary-cards">
                    <div class="fence-summary-card">
                        <div class="fence-summary-label">ÂèòÊõ¥ÂâçÈù¢ÁßØ</div>
                        <div class="fence-summary-value" id="fenceBeforeArea">0.0km¬≤</div>
                    </div>
                    <div class="fence-summary-card">
                        <div class="fence-summary-label">ÂèòÊõ¥ÂêéÈù¢ÁßØ</div>
                        <div class="fence-summary-value" id="fenceAfterArea">0.0km¬≤</div>
                    </div>
                    <div class="fence-summary-card" id="fenceChangeSummaryCard">
                        <div class="fence-summary-label">Èù¢ÁßØÂèòÂåñ</div>
                        <div class="fence-summary-value" id="fenceAreaChange">+0.0km¬≤</div>
                    </div>
                </div>

                <!-- Âú∞ÂõæÂØπÊØîÂÆπÂô® -->
                <div class="fence-map-compare">
                    <div class="fence-map-panel">
                        <div class="fence-map-header before">
                            <div class="fence-map-title">ÂèòÊõ¥Ââç</div>
                            <div class="fence-map-subtitle" id="fenceBeforeInfo">ËµÑÊ∫êÈáè: 0.0 | Âà©Áî®Áéá: 0%</div>
                        </div>
                        <div class="fence-map-container" id="fenceBeforeMap">
                            <!-- ËøôÈáåÂ∞ÜÊ∏≤ÊüìÊ®°ÊãüÂú∞Âõæ -->
                        </div>
                    </div>
                    <div class="fence-map-panel">
                        <div class="fence-map-header after">
                            <div class="fence-map-title">ÂèòÊõ¥Âêé</div>
                            <div class="fence-map-subtitle" id="fenceAfterInfo">ËµÑÊ∫êÈáè: 0.0 | Âà©Áî®Áéá: 0%</div>
                        </div>
                        <div class="fence-map-container" id="fenceAfterMap">
                            <!-- ËøôÈáåÂ∞ÜÊ∏≤ÊüìÊ®°ÊãüÂú∞Âõæ -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Ê•ºÁõòÊï∞ÈáèÂèòÂåñÂºπÁ™ó -->
    <div class="store-change-modal" id="resblockCountModal" onclick="closeModal('resblockCountModal', event)">
        <div class="store-change-modal-content" onclick="event.stopPropagation()">
            <div class="store-change-modal-header">
                <h3 id="resblockCountModalTitle">Ê•ºÁõòÊï∞ÈáèÂèòÂåñ</h3>
                <button class="store-change-modal-close" onclick="closeModal('resblockCountModal')">&times;</button>
            </div>
            <div class="store-change-modal-body">
                <div class="store-change-summary">
                    <div class="store-change-summary-card add">
                        <div class="store-change-summary-label">Êñ∞Â¢ûÊ•ºÁõò</div>
                        <div class="store-change-summary-value" id="resblockAddCount">0</div>
                    </div>
                    <div class="store-change-summary-card remove">
                        <div class="store-change-summary-label">Âà†Èô§Ê•ºÁõò</div>
                        <div class="store-change-summary-value" id="resblockRemoveCount">0</div>
                    </div>
                    <div class="store-change-summary-card">
                        <div class="store-change-summary-label">ÂáÄÂèòÂåñ</div>
                        <div class="store-change-summary-value" id="resblockNetChange">0</div>
                    </div>
                </div>

                <div class="store-change-section" id="resblockAddSection">
                    <div class="store-change-section-title">
                        <span>‚úÖ</span>
                        <span>Êñ∞Â¢ûÊ•ºÁõò</span>
                    </div>
                    <div class="store-change-list" id="resblockAddList"></div>
                </div>

                <div class="store-change-section" id="resblockRemoveSection">
                    <div class="store-change-section-title">
                        <span>‚ùå</span>
                        <span>Âà†Èô§Ê•ºÁõò</span>
                    </div>
                    <div class="store-change-list" id="resblockRemoveList"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // TabÂàáÊç¢ÂäüËÉΩ
        let resblockPaginationInitialized = false;
        document.querySelectorAll('.tab-item').forEach(tabItem => {
            tabItem.addEventListener('click', function() {
                const targetTab = this.dataset.tab;
                
                // ÁßªÈô§ÊâÄÊúâactiveÁ±ª
                document.querySelectorAll('.tab-item').forEach(item => {
                    item.classList.remove('active');
                });
                document.querySelectorAll('.tab-panel').forEach(panel => {
                    panel.classList.remove('active');
                });
                
                // Ê∑ªÂä†activeÁ±ªÂà∞ÂΩìÂâçÊ†áÁ≠æÂíåÈù¢Êùø
                this.classList.add('active');
                document.getElementById(targetTab).classList.add('active');
                
                // ÂΩìÂàáÊç¢Âà∞Ê•ºÁõòÂèòÊõ¥ËØ¶ÊÉÖTabÊó∂ÔºåÂàùÂßãÂåñÂàÜÈ°µÔºàÂè™ÂàùÂßãÂåñ‰∏ÄÊ¨°Ôºâ
                if (targetTab === 'resblockchange' && !resblockPaginationInitialized) {
                    setTimeout(() => {
                        initResblockPagination();
                        resblockPaginationInitialized = true;
                    }, 100);
                }
            });
        });

        // Âú∞Âõæ‰∫∫ÂëòÂàóË°®Ê†áÁ≠æÈ°µÂàáÊç¢
        document.querySelectorAll('.panel-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                this.parentElement.querySelectorAll('.panel-tab').forEach(t => t.classList.remove('active'));
                this.classList.add('active');
            });
        });

        // ÂºπÁ™óÂÖ≥Èó≠
        document.querySelectorAll('.popup-close').forEach(btn => {
            btn.addEventListener('click', function() {
                this.closest('.area-popup').style.display = 'none';
            });
        });

        // ÂÖ®ÈÄâ/ÂèñÊ∂àÂÖ®ÈÄâ
        function toggleSelectAll() {
            const selectAllCheckbox = document.getElementById('selectAll');
            const rowCheckboxes = document.querySelectorAll('.row-checkbox');
            
            rowCheckboxes.forEach(checkbox => {
                checkbox.checked = selectAllCheckbox.checked;
            });
            
            updateSelectedCount();
        }

        // Êõ¥Êñ∞ÈÄâ‰∏≠Êï∞Èáè
        function updateSelectedCount() {
            const selectedCount = document.querySelectorAll('.row-checkbox:checked').length;
            const totalCount = document.querySelectorAll('.row-checkbox').length;
            const selectAllCheckbox = document.getElementById('selectAll');
            
            // Êõ¥Êñ∞ÂÖ®ÈÄâÊ°ÜÁä∂ÊÄÅ
            if (selectedCount === 0) {
                selectAllCheckbox.checked = false;
                selectAllCheckbox.indeterminate = false;
            } else if (selectedCount === totalCount) {
                selectAllCheckbox.checked = true;
                selectAllCheckbox.indeterminate = false;
            } else {
                selectAllCheckbox.checked = false;
                selectAllCheckbox.indeterminate = true;
            }
        }

        // ÁõëÂê¨ÊâÄÊúâË°åcheckboxÁöÑÂèòÂåñ
        document.addEventListener('DOMContentLoaded', function() {
            const rowCheckboxes = document.querySelectorAll('.row-checkbox');
            rowCheckboxes.forEach(checkbox => {
                checkbox.addEventListener('change', updateSelectedCount);
            });
        });

        // Â±ïÂºÄ/Êî∂Ëµ∑‰∫∫ÂëòËØ¶ÊÉÖ
        function togglePersonDetail(element) {
            const item = element.closest('.person-list-item');
            item.classList.toggle('expanded');
        }

        // ÊåâÂèòÊõ¥Áä∂ÊÄÅÁ≠õÈÄâ‰∫∫ÂëòÂàóË°®
        function filterPersonList(type) {
            const items = document.querySelectorAll('.person-list-item');
            const clickableCounts = document.querySelectorAll('.clickable-count');
            
            // Êõ¥Êñ∞ÊøÄÊ¥ªÁä∂ÊÄÅ
            clickableCounts.forEach(count => count.classList.remove('active'));
            event.target.classList.add('active');
            
            if (type === 'all') {
                // ÊòæÁ§∫ÊâÄÊúâ‰∫∫Âëò
                items.forEach(item => {
                    item.style.display = '';
                });
            } else if (type === 'changed') {
                // Âè™ÊòæÁ§∫ÊúâÂèòÊõ¥ÁöÑ‰∫∫ÂëòÔºàÊñ∞Â¢ûÊàñË∞ÉÊï¥Ôºâ
                items.forEach(item => {
                    const tag = item.querySelector('.person-tag');
                    if (tag && item.classList.contains('changed')) {
                        item.style.display = '';
                    } else {
                        item.style.display = 'none';
                    }
                });
            }
        }

        // ‰∫∫ÂëòÊêúÁ¥¢ÂäüËÉΩ
        const personSearchInput = document.getElementById('personSearchInput');
        const personSearchBtn = document.querySelector('.person-search-btn');
        const personListBody = document.getElementById('personListBody');

        // ÁªºÂêàÊêúÁ¥¢ÂíåÁ≠õÈÄâÂäüËÉΩ
        function searchAndFilterPersons() {
            const searchValue = personSearchInput.value.toLowerCase().trim();
            const changeType = document.getElementById('changeTypeFilter').value;
            const district = document.getElementById('districtFilter').value;
            const radiusRange = document.getElementById('radiusFilter').value;
            const items = personListBody.querySelectorAll('.person-list-item');
            
            items.forEach(item => {
                let showItem = true;
                
                // ÂßìÂêçÊêúÁ¥¢
                const name = item.getAttribute('data-name').toLowerCase();
                if (searchValue && !name.includes(searchValue)) {
                    showItem = false;
                }
                
                // ÂèòÊõ¥Á±ªÂûãÁ≠õÈÄâ
                if (changeType && showItem) {
                    const typeTag = item.querySelector('.person-tag');
                    if (typeTag && typeTag.textContent.trim() !== changeType) {
                        showItem = false;
                    }
                }
                
                // ÁâáÂå∫Á≠õÈÄâ
                if (district && showItem) {
                    const districtCell = item.querySelector('.person-item-main > div:nth-child(3)');
                    if (districtCell && !districtCell.textContent.includes(district)) {
                        showItem = false;
                    }
                }
                
                // ‰Ωú‰∏öÂçäÂæÑÁ≠õÈÄâ
                if (radiusRange && showItem) {
                    const radiusCell = item.querySelector('.person-item-main > div:nth-child(4)');
                    if (radiusCell) {
                        const radiusText = radiusCell.textContent;
                        const radiusMatch = radiusText.match(/(\d+\.?\d*)km/);
                        if (radiusMatch) {
                            const radius = parseFloat(radiusMatch[1]);
                            if (radiusRange === '0-3' && (radius < 0 || radius > 3)) {
                                showItem = false;
                            } else if (radiusRange === '3-5' && (radius < 3 || radius > 5)) {
                                showItem = false;
                            } else if (radiusRange === '5+' && radius < 5) {
                                showItem = false;
                            }
                        }
                    }
                }
                
                item.style.display = showItem ? '' : 'none';
            });
        }

        // ÈáçÁΩÆÁ≠õÈÄâÊù°‰ª∂
        function resetPersonFilters() {
            document.getElementById('personSearchInput').value = '';
            document.getElementById('changeTypeFilter').value = '';
            document.getElementById('districtFilter').value = '';
            document.getElementById('radiusFilter').value = '';
            
            // ÊòæÁ§∫ÊâÄÊúâ‰∫∫Âëò
            const items = personListBody.querySelectorAll('.person-list-item');
            items.forEach(item => {
                item.style.display = '';
            });
        }

        // ÂõûËΩ¶ÊêúÁ¥¢
        if (personSearchInput) {
            personSearchInput.addEventListener('keyup', function(e) {
                if (e.key === 'Enter') {
                    searchAndFilterPersons();
                }
            });
        }

        // ‰∏ãÊãâÊ°ÜÊîπÂèòÊó∂Ëá™Âä®Á≠õÈÄâ
        ['changeTypeFilter', 'districtFilter', 'radiusFilter'].forEach(id => {
            const element = document.getElementById(id);
            if (element) {
                element.addEventListener('change', searchAndFilterPersons);
            }
        });

        // ÂàÜÈ°µÂäüËÉΩ
        let currentPage = 1;
        let pageSize = 6;
        let totalPages = 8;
        const totalPersons = 45;
        const changedPersons = 6;
        const unchangedPersons = 39;

        function initPagination() {
            renderPageNumbers();
            updatePagination();
        }

        function renderPageNumbers() {
            const pageNumbersContainer = document.getElementById('pageNumbers');
            pageNumbersContainer.innerHTML = '';
            
            let startPage = Math.max(1, currentPage - 2);
            let endPage = Math.min(totalPages, currentPage + 2);
            
            for (let i = startPage; i <= endPage; i++) {
                const pageNum = document.createElement('div');
                pageNum.className = 'page-number' + (i === currentPage ? ' active' : '');
                pageNum.textContent = i;
                pageNum.onclick = () => goToPage(i);
                pageNumbersContainer.appendChild(pageNum);
            }
        }

        function goToPage(page) {
            if (page < 1 || page > totalPages) return;
            currentPage = page;
            updatePagination();
            renderPageNumbers();
        }

        function updatePagination() {
            // Êõ¥Êñ∞ÊåâÈíÆÁä∂ÊÄÅ
            document.getElementById('prevPageBtn').disabled = currentPage === 1;
            document.getElementById('nextPageBtn').disabled = currentPage === totalPages;
            
            // Êõ¥Êñ∞È°µÁ†ÅÊòæÁ§∫‰ø°ÊÅØ
            const startNum = (currentPage - 1) * pageSize + 1;
            const endNum = Math.min(currentPage * pageSize, totalPersons);
            document.getElementById('pageStartNum').textContent = startNum;
            document.getElementById('pageEndNum').textContent = endNum;
            document.getElementById('totalNum').textContent = totalPersons;
            
            // ÊòæÁ§∫/ÈöêËóè‰∫∫Âëò
            showPersonsForPage(currentPage);
        }

        function showPersonsForPage(page) {
            const allPersons = document.querySelectorAll('.person-list-item');
            const startIndex = (page - 1) * pageSize;
            const endIndex = startIndex + pageSize;
            
            // ÈöêËóèÊâÄÊúâ‰∫∫Âëò
            allPersons.forEach(person => {
                person.style.display = 'none';
            });
            
            // ÊòæÁ§∫ÂΩìÂâçÈ°µÁöÑ‰∫∫Âëò
            // Ââç6‰∏™ÊòØÊúâÂèòÂåñÁöÑÔºåÂêéÈù¢ÁöÑÊòØÊó†ÂèòÂåñÁöÑ
            for (let i = startIndex; i < endIndex && i < allPersons.length; i++) {
                allPersons[i].style.display = '';
            }
        }

        // È°µÈù¢Âä†ËΩΩÊó∂ÂàùÂßãÂåñÂàÜÈ°µ
        window.addEventListener('DOMContentLoaded', function() {
            initPagination();
        });

        // ËµÑÊ∫êÈáèÂØπÊØîÂºπÁ™óÂäüËÉΩ
        function showResourceComparison() {
            const modal = document.getElementById('resourceModal');
            modal.classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closeResourceModal(event) {
            const modal = document.getElementById('resourceModal');
            if (!event || event.target === modal) {
                modal.classList.remove('show');
                document.body.style.overflow = '';
            }
        }

        // ESCÈîÆÂÖ≥Èó≠ÂºπÁ™ó
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                const modal = document.getElementById('resourceModal');
                if (modal.classList.contains('show')) {
                    closeResourceModal();
                }
            }
        });

        // ÂàáÊç¢Ê¶ÇË¶ÅÂç°ÁâáÂ±ïÂºÄ/Êî∂Ëµ∑
        function toggleSummaryCard(element) {
            element.classList.toggle('expanded');
        }

        // ÂØºÂá∫ExcelÂäüËÉΩ
        function exportPersonList() {
            // Ëé∑ÂèñÊâÄÊúâ‰∫∫ÂëòÊï∞ÊçÆ
            const allPersons = document.querySelectorAll('.person-list-item');
            
            // ÂàõÂª∫CSVÊï∞ÊçÆ
            let csvContent = '\uFEFF'; // BOM for Excel UTF-8
            
            // Ê∑ªÂä†Ë°®Â§¥
            csvContent += 'ÂßìÂêç,ÂèòÊõ¥Á±ªÂûã,ÁâáÂå∫,‰Ωú‰∏öÂçäÂæÑÂèòÂåñ,Âå∫ÂüüÂèòÂåñ,ËµÑÊ∫êÈáèÂèòÂåñ,ÊúÄÁªàËåÉÂõ¥\n';
            
            // Ê∑ªÂä†Êï∞ÊçÆË°å
            allPersons.forEach(person => {
                const name = person.querySelector('.person-name').textContent.trim();
                const changeType = person.querySelector('.person-tag').textContent.trim();
                const district = person.querySelector('.person-item-main > div:nth-child(3)').textContent.trim();
                
                // ‰Ωú‰∏öÂçäÂæÑÂèòÂåñ
                const radiusCell = person.querySelector('.person-item-main > div:nth-child(4)');
                let radiusChange = '';
                if (radiusCell.querySelector('.old-val')) {
                    const oldVal = radiusCell.querySelector('.old-val').textContent.trim();
                    const newVal = radiusCell.querySelector('.new-val').textContent.trim();
                    radiusChange = `${oldVal} ‚Üí ${newVal}`;
                } else {
                    radiusChange = radiusCell.textContent.trim();
                }
                
                // Âå∫ÂüüÂèòÂåñ
                const areaCell = person.querySelector('.person-item-main > div:nth-child(5)');
                let areaChange = '';
                if (areaCell.querySelector('.old-val')) {
                    const oldVal = areaCell.querySelector('.old-val').textContent.trim();
                    const newVal = areaCell.querySelector('.new-val').textContent.trim();
                    areaChange = `${oldVal} ‚Üí ${newVal}`;
                } else {
                    areaChange = areaCell.textContent.trim();
                }
                
                // ËµÑÊ∫êÈáèÂèòÂåñ
                const resourceCell = person.querySelector('.person-item-main > div:nth-child(6)');
                let resourceChange = '';
                if (resourceCell.querySelector('.old-val')) {
                    const oldVal = resourceCell.querySelector('.old-val').textContent.trim();
                    const newVal = resourceCell.querySelector('.new-val').textContent.trim();
                    resourceChange = `${oldVal} ‚Üí ${newVal}`;
                } else {
                    resourceChange = resourceCell.textContent.trim();
                }
                
                // ÊúÄÁªàËåÉÂõ¥
                const scopeText = person.querySelector('.person-item-main > div:nth-child(7)').textContent.trim();
                
                // ÁªÑË£ÖCSVË°åÔºàÂ§ÑÁêÜÈÄóÂè∑ÂíåÂºïÂè∑Ôºâ
                const row = [
                    name,
                    changeType,
                    district,
                    radiusChange,
                    areaChange,
                    resourceChange,
                    scopeText
                ].map(field => {
                    // Â¶ÇÊûúÂ≠óÊÆµÂåÖÂê´ÈÄóÂè∑„ÄÅÂºïÂè∑ÊàñÊç¢Ë°åÁ¨¶ÔºåÈúÄË¶ÅÁî®ÂºïÂè∑ÂåÖË£π
                    if (field.includes(',') || field.includes('"') || field.includes('\n')) {
                        return '"' + field.replace(/"/g, '""') + '"';
                    }
                    return field;
                }).join(',');
                
                csvContent += row + '\n';
            });
            
            // ÂàõÂª∫‰∏ãËΩΩÈìæÊé•
            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            const url = URL.createObjectURL(blob);
            
            // ËÆæÁΩÆÊñá‰ª∂ÂêçÔºàÂåÖÂê´Êó•ÊúüÊó∂Èó¥Ôºâ
            const now = new Date();
            const dateStr = now.getFullYear() + 
                           String(now.getMonth() + 1).padStart(2, '0') + 
                           String(now.getDate()).padStart(2, '0') + '_' +
                           String(now.getHours()).padStart(2, '0') + 
                           String(now.getMinutes()).padStart(2, '0');
            const fileName = `‰∫∫ÂëòÂèòÊõ¥ËØ¶ÊÉÖ_${dateStr}.csv`;
            
            link.setAttribute('href', url);
            link.setAttribute('download', fileName);
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            // ÊòæÁ§∫ÊèêÁ§∫
            alert(`ÂØºÂá∫ÊàêÂäüÔºÅÂÖ±ÂØºÂá∫ ${allPersons.length} Êù°Êï∞ÊçÆ`);
        }

        // ÊòæÁ§∫Ë∑ùÁ¶ªËØ¶ÊÉÖÂºπÁ™ó
        function showDistanceDetail(event, area, buildings) {
            event.stopPropagation();
            
            // ÁßªÈô§Â∑≤Â≠òÂú®ÁöÑÂºπÁ™ó
            const existingPopup = document.querySelector('.detail-popup');
            if (existingPopup) {
                existingPopup.remove();
            }
            
            // ÂàõÂª∫ÂºπÁ™ó
            const popup = document.createElement('div');
            popup.className = 'detail-popup';
            
            let html = `
                <div class="detail-popup-title">Ë∂ÖËøá5kmÁöÑÊ•ºÁõò</div>
                <span class="detail-popup-close" onclick="this.parentElement.remove()">√ó</span>
            `;
            
            buildings.forEach((building, index) => {
                html += `<div class="detail-popup-item">${index + 1}. ${building}</div>`;
            });
            
            popup.innerHTML = html;
            
            // ÂÆö‰ΩçÂºπÁ™ó
            const rect = event.target.getBoundingClientRect();
            popup.style.position = 'fixed';
            popup.style.left = rect.right + 10 + 'px';
            popup.style.top = rect.top + 'px';
            
            document.body.appendChild(popup);
            
            // ÁÇπÂáªÂ§ñÈÉ®ÂÖ≥Èó≠ÂºπÁ™ó
            setTimeout(() => {
                document.addEventListener('click', function closePopup(e) {
                    if (!popup.contains(e.target) && !e.target.classList.contains('detail-link')) {
                        popup.remove();
                        document.removeEventListener('click', closePopup);
                    }
                });
            }, 0);
        }
        
        // ÊòæÁ§∫Âå∫ÂüüÂèòÊõ¥ËØ¶ÊÉÖÂºπÁ™ó
        function showAreaDetail(event, area, areas) {
            event.stopPropagation();
            
            // ÁßªÈô§Â∑≤Â≠òÂú®ÁöÑÂºπÁ™ó
            const existingPopup = document.querySelector('.detail-popup');
            if (existingPopup) {
                existingPopup.remove();
            }
            
            // ÂàõÂª∫ÂºπÁ™ó
            const popup = document.createElement('div');
            popup.className = 'detail-popup';
            
            let html = `
                <div class="detail-popup-title">Ê∂âÂèäÁöÑÁâáÂå∫</div>
                <span class="detail-popup-close" onclick="this.parentElement.remove()">√ó</span>
            `;
            
            areas.forEach((area, index) => {
                html += `<div class="detail-popup-item">${index + 1}. ${area}</div>`;
            });
            
            popup.innerHTML = html;
            
            // ÂÆö‰ΩçÂºπÁ™ó
            const rect = event.target.getBoundingClientRect();
            popup.style.position = 'fixed';
            popup.style.left = rect.right + 10 + 'px';
            popup.style.top = rect.top + 'px';
            
            document.body.appendChild(popup);
            
            // ÁÇπÂáªÂ§ñÈÉ®ÂÖ≥Èó≠ÂºπÁ™ó
            setTimeout(() => {
                document.addEventListener('click', function closePopup(e) {
                    if (!popup.contains(e.target) && !e.target.classList.contains('detail-link')) {
                        popup.remove();
                        document.removeEventListener('click', closePopup);
                    }
                });
            }, 0);
        }

        // ==================== Èó®Â∫óÂèòÊõ¥ËØ¶ÊÉÖ - ÊêúÁ¥¢ÂíåÁ≠õÈÄâÂäüËÉΩ ====================
        const storeSearchInput = document.getElementById('storeSearchInput');
        const storeListBody = document.getElementById('storeListBody');

        // ÁªºÂêàÊêúÁ¥¢ÂíåÁ≠õÈÄâÂäüËÉΩ
        function searchAndFilterStores() {
            const searchValue = storeSearchInput.value.toLowerCase().trim();
            const changeType = document.getElementById('storeChangeTypeFilter').value;
            const district = document.getElementById('storeDistrictFilter').value;
            const items = storeListBody.querySelectorAll('.store-item');
            
            let visibleCount = 0;
            items.forEach(item => {
                let showItem = true;
                
                // Èó®Â∫óÂêçÁß∞ÊêúÁ¥¢ÔºàÊîØÊåÅÊêúÁ¥¢Èó®Â∫óÂêçÁß∞ÂíåË¥üË¥£‰∫∫Ôºâ
                const storeName = item.getAttribute('data-store-name').toLowerCase();
                const cols = item.querySelectorAll('.item-col');
                // cols[0] = checkbox, cols[1] = Èó®Â∫óÂêç, cols[2] = ÂèòÊõ¥Á±ªÂûã, cols[3] = ÊâÄÂ±ûÁâáÂå∫, cols[4] = ÂéüË¥üË¥£‰∫∫, cols[5] = Êñ∞Ë¥üË¥£‰∫∫
                const oldManager = cols.length > 4 ? cols[4].textContent.toLowerCase() : '';
                const newManager = cols.length > 5 ? cols[5].textContent.toLowerCase() : '';
                
                if (searchValue && !storeName.includes(searchValue) && 
                    !oldManager.includes(searchValue) && !newManager.includes(searchValue)) {
                    showItem = false;
                }
                
                // ÂèòÊõ¥Á±ªÂûãÁ≠õÈÄâÔºàÊîØÊåÅÂ§çÂêàÁ±ªÂûãÔºåÂ¶Ç"Êñ∞Â¢û,ÁßªÈô§"Ôºâ
                if (changeType && showItem) {
                    const itemChangeType = item.getAttribute('data-change-type');
                    const changeTypes = itemChangeType.split(',');
                    if (!changeTypes.includes(changeType)) {
                        showItem = false;
                    }
                }
                
                // ÁâáÂå∫Á≠õÈÄâ
                if (district && showItem) {
                    const itemDistrict = item.getAttribute('data-district');
                    if (itemDistrict !== district) {
                        showItem = false;
                    }
                }
                
                item.style.display = showItem ? '' : 'none';
                if (showItem) visibleCount++;
            });

            // Êõ¥Êñ∞ÂàÜÈ°µ‰ø°ÊÅØ
            updateStorePaginationAfterFilter(visibleCount);
        }

        // ÈáçÁΩÆÁ≠õÈÄâÊù°‰ª∂
        function resetStoreFilters() {
            document.getElementById('storeSearchInput').value = '';
            document.getElementById('storeChangeTypeFilter').value = '';
            document.getElementById('storeDistrictFilter').value = '';
            
            // ÊòæÁ§∫ÊâÄÊúâÈó®Â∫ó
            const items = storeListBody.querySelectorAll('.store-item');
            items.forEach(item => {
                item.style.display = '';
            });
            
            // ÈáçÁΩÆÂàÜÈ°µ
            storeCurrentPage = 1;
            initStorePagination();
        }

        // ÂõûËΩ¶ÊêúÁ¥¢
        if (storeSearchInput) {
            storeSearchInput.addEventListener('keyup', function(e) {
                if (e.key === 'Enter') {
                    searchAndFilterStores();
                }
            });
        }

        // ‰∏ãÊãâÊ°ÜÊîπÂèòÊó∂Ëá™Âä®Á≠õÈÄâ
        ['storeChangeTypeFilter', 'storeDistrictFilter'].forEach(id => {
            const element = document.getElementById(id);
            if (element) {
                element.addEventListener('change', searchAndFilterStores);
            }
        });

        // ==================== Èó®Â∫óÂèòÊõ¥ËØ¶ÊÉÖ - ÂàÜÈ°µÂäüËÉΩ ====================
        let storeCurrentPage = 1;
        let storePageSize = 6;  // ÊØèÈ°µÊòæÁ§∫6Êù°
        let storeTotalPages = 1;
        const totalStores = 8;

        function initStorePagination() {
            const allStores = storeListBody.querySelectorAll('.store-item');
            const visibleStores = Array.from(allStores).filter(item => item.style.display !== 'none');
            const visibleCount = visibleStores.length;
            
            storeTotalPages = Math.ceil(visibleCount / storePageSize) || 1;
            renderStorePageNumbers();
            updateStorePagination();
        }

        function renderStorePageNumbers() {
            const pageNumbersContainer = document.getElementById('storePageNumbers');
            if (!pageNumbersContainer) return;
            
            pageNumbersContainer.innerHTML = '';
            
            let startPage = Math.max(1, storeCurrentPage - 2);
            let endPage = Math.min(storeTotalPages, storeCurrentPage + 2);
            
            for (let i = startPage; i <= endPage; i++) {
                const pageNum = document.createElement('div');
                pageNum.className = 'page-number' + (i === storeCurrentPage ? ' active' : '');
                pageNum.textContent = i;
                pageNum.onclick = () => goToStorePage(i);
                pageNumbersContainer.appendChild(pageNum);
            }
        }

        function goToStorePage(page) {
            if (page < 1 || page > storeTotalPages) return;
            storeCurrentPage = page;
            updateStorePagination();
            renderStorePageNumbers();
        }

        function updateStorePagination() {
            // Êõ¥Êñ∞ÊåâÈíÆÁä∂ÊÄÅ
            const prevBtn = document.getElementById('storePrevPageBtn');
            const nextBtn = document.getElementById('storeNextPageBtn');
            if (prevBtn) prevBtn.disabled = storeCurrentPage === 1;
            if (nextBtn) nextBtn.disabled = storeCurrentPage === storeTotalPages;
            
            // Ëé∑ÂèñÂèØËßÅÁöÑÈó®Â∫ó
            const allStores = storeListBody.querySelectorAll('.store-item');
            const visibleStores = Array.from(allStores).filter(item => item.style.display !== 'none');
            const visibleCount = visibleStores.length;
            
            // Êõ¥Êñ∞È°µÁ†ÅÊòæÁ§∫‰ø°ÊÅØ
            const startNum = Math.min((storeCurrentPage - 1) * storePageSize + 1, visibleCount);
            const endNum = Math.min(storeCurrentPage * storePageSize, visibleCount);
            
            const startNumEl = document.getElementById('storePageStartNum');
            const endNumEl = document.getElementById('storePageEndNum');
            const totalNumEl = document.getElementById('storeTotalNum');
            
            if (startNumEl) startNumEl.textContent = visibleCount > 0 ? startNum : 0;
            if (endNumEl) endNumEl.textContent = endNum;
            if (totalNumEl) totalNumEl.textContent = visibleCount;
            
            // ÊòæÁ§∫/ÈöêËóèÈó®Â∫ó
            showStoresForPage(storeCurrentPage);
        }

        function showStoresForPage(page) {
            const allStores = storeListBody.querySelectorAll('.store-item');
            const visibleStores = Array.from(allStores).filter(item => item.style.display !== 'none');
            
            const startIndex = (page - 1) * storePageSize;
            const endIndex = startIndex + storePageSize;
            
            // ÈöêËóèÊâÄÊúâÈó®Â∫ó
            allStores.forEach(store => {
                store.style.display = 'none';
            });
            
            // Âè™ÊòæÁ§∫ÂΩìÂâçÈ°µÁöÑÈó®Â∫ó
            visibleStores.forEach((store, index) => {
                if (index >= startIndex && index < endIndex) {
                    store.style.display = '';
                }
            });
        }

        function updateStorePaginationAfterFilter(visibleCount) {
            storeTotalPages = Math.ceil(visibleCount / storePageSize) || 1;
            storeCurrentPage = 1;
            renderStorePageNumbers();
            updateStorePagination();
        }

        // ÂØºÂá∫ExcelÂäüËÉΩ
        // Èó®Â∫óÂàóË°®ÂÖ®ÈÄâÂäüËÉΩ
        function toggleSelectAllStores() {
            const selectAllCheckbox = document.getElementById('selectAllStores');
            const rowCheckboxes = document.querySelectorAll('.row-checkbox-store');
            
            rowCheckboxes.forEach(checkbox => {
                checkbox.checked = selectAllCheckbox.checked;
            });
        }

        function exportStoreList() {
            const allStores = document.querySelectorAll('.store-item');
            
            // ÂàõÂª∫CSVÊï∞ÊçÆ
            let csvContent = '\uFEFF'; // BOM for Excel UTF-8
            
            // Ê∑ªÂä†Ë°®Â§¥
            csvContent += 'Èó®Â∫óÂêçÁß∞,ÂèòÊõ¥Á±ªÂûã,ÊâÄÂ±ûÁâáÂå∫,ÂéüË¥üË¥£‰∫∫,Êñ∞Ë¥üË¥£‰∫∫\n';
            
            // Ê∑ªÂä†Êï∞ÊçÆË°å
            allStores.forEach(store => {
                if (store.style.display === 'none') return; // Ë∑≥ËøáÈöêËóèÁöÑÈó®Â∫ó
                
                const storeName = store.getAttribute('data-store-name');
                const changeType = store.getAttribute('data-change-type');
                const district = store.getAttribute('data-district');
                
                const cols = store.querySelectorAll('.item-col');
                // cols[0] = checkbox, cols[1] = Èó®Â∫óÂêç, cols[2] = ÂèòÊõ¥Á±ªÂûã, cols[3] = ÊâÄÂ±ûÁâáÂå∫, cols[4] = ÂéüË¥üË¥£‰∫∫, cols[5] = Êñ∞Ë¥üË¥£‰∫∫
                const oldManager = cols[4] ? cols[4].textContent.trim() : '-';
                const newManager = cols[5] ? cols[5].textContent.trim() : '-';
                
                csvContent += `${storeName},${changeType},${district},${oldManager},${newManager}\n`;
            });
            
            // ÂàõÂª∫‰∏ãËΩΩÈìæÊé•
            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            const url = URL.createObjectURL(blob);
            
            link.setAttribute('href', url);
            link.setAttribute('download', 'Èó®Â∫óÂèòÊõ¥ËØ¶ÊÉÖ.csv');
            link.style.visibility = 'hidden';
            
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            // ÊèêÁ§∫Áî®Êà∑
            alert('Èó®Â∫óÂàóË°®ÂØºÂá∫ÊàêÂäüÔºÅ');
        }

        // ==================== ËµÑÊ∫êÈáèÊéíÂêç - ÂàÜÈ°µÂäüËÉΩ ====================
        let rankCurrentPage = 1;
        let rankPageSize = 10;  // ÊØèÈ°µÊòæÁ§∫10Êù°
        let rankTotalPages = 1;
        const resourceRankingContainer = document.getElementById('resourceRanking');

        function initRankPagination() {
            if (!resourceRankingContainer) return;
            
            const allRankings = resourceRankingContainer.querySelectorAll('.ranking-item');
            const totalCount = allRankings.length;
            
            rankTotalPages = Math.ceil(totalCount / rankPageSize) || 1;
            renderRankPageNumbers();
            updateRankPagination();
        }

        function renderRankPageNumbers() {
            const pageNumbersContainer = document.getElementById('rankPageNumbers');
            if (!pageNumbersContainer) return;
            
            pageNumbersContainer.innerHTML = '';
            
            let startPage = Math.max(1, rankCurrentPage - 2);
            let endPage = Math.min(rankTotalPages, rankCurrentPage + 2);
            
            for (let i = startPage; i <= endPage; i++) {
                const pageNum = document.createElement('div');
                pageNum.className = 'page-number' + (i === rankCurrentPage ? ' active' : '');
                pageNum.textContent = i;
                pageNum.onclick = () => goToRankPage(i);
                pageNumbersContainer.appendChild(pageNum);
            }
        }

        function goToRankPage(page) {
            if (page < 1 || page > rankTotalPages) return;
            rankCurrentPage = page;
            updateRankPagination();
            renderRankPageNumbers();
        }

        function updateRankPagination() {
            if (!resourceRankingContainer) return;
            
            // Êõ¥Êñ∞ÊåâÈíÆÁä∂ÊÄÅ
            const prevBtn = document.getElementById('rankPrevPageBtn');
            const nextBtn = document.getElementById('rankNextPageBtn');
            if (prevBtn) prevBtn.disabled = rankCurrentPage === 1;
            if (nextBtn) nextBtn.disabled = rankCurrentPage === rankTotalPages;
            
            // Ëé∑ÂèñÊâÄÊúâÊéíÂêçÈ°π
            const allRankings = resourceRankingContainer.querySelectorAll('.ranking-item');
            const totalCount = allRankings.length;
            
            // Êõ¥Êñ∞È°µÁ†ÅÊòæÁ§∫‰ø°ÊÅØ
            const startNum = Math.min((rankCurrentPage - 1) * rankPageSize + 1, totalCount);
            const endNum = Math.min(rankCurrentPage * rankPageSize, totalCount);
            
            const startNumEl = document.getElementById('rankPageStartNum');
            const endNumEl = document.getElementById('rankPageEndNum');
            const totalNumEl = document.getElementById('rankTotalNum');
            
            if (startNumEl) startNumEl.textContent = totalCount > 0 ? startNum : 0;
            if (endNumEl) endNumEl.textContent = endNum;
            if (totalNumEl) totalNumEl.textContent = totalCount;
            
            // ÊòæÁ§∫/ÈöêËóèÊéíÂêçÈ°π
            showRankingsForPage(rankCurrentPage);
        }

        function showRankingsForPage(page) {
            if (!resourceRankingContainer) return;
            
            const allRankings = resourceRankingContainer.querySelectorAll('.ranking-item');
            const startIndex = (page - 1) * rankPageSize;
            const endIndex = startIndex + rankPageSize;
            
            allRankings.forEach((item, index) => {
                if (index >= startIndex && index < endIndex) {
                    item.style.display = '';
                } else {
                    item.style.display = 'none';
                }
            });
        }

        // ÂàùÂßãÂåñËµÑÊ∫êÈáèÊéíÂêçÂàÜÈ°µ
        setTimeout(() => {
            initRankPagination();
        }, 100);

        // ÂàùÂßãÂåñÈó®Â∫óÂàÜÈ°µ
        setTimeout(() => {
            initStorePagination();
        }, 100);

        // ==================== Ê•ºÁõòÂèòÊõ¥ËØ¶ÊÉÖ - ÊêúÁ¥¢ÂíåÁ≠õÈÄâÂäüËÉΩ ====================
        const resblockSearchInput = document.getElementById('resblockSearchInput');
        const resblockListBody = document.querySelector('#resblockchange .person-list-body');

        // ÁªºÂêàÊêúÁ¥¢ÂíåÁ≠õÈÄâÂäüËÉΩ
        function searchAndFilterResblocks() {
            const searchValue = resblockSearchInput.value.toLowerCase().trim();
            const changeType = document.getElementById('resblockChangeTypeFilter').value;
            const district = document.getElementById('resblockDistrictFilter').value;
            const items = resblockListBody.querySelectorAll('.person-list-item');
            
            items.forEach(item => {
                let showItem = true;
                
                // ‰ΩøÁî®dataÂ±ûÊÄßËé∑ÂèñÊ•ºÁõòÂêçÁß∞„ÄÅÂèòÊõ¥Á±ªÂûãÂíåÁâáÂå∫
                const resblockName = item.getAttribute('data-resblock-name') || '';
                const itemChangeType = item.getAttribute('data-change-type') || '';
                const itemDistrict = item.getAttribute('data-district') || '';
                
                // Â∞èÂå∫ÂêçÁß∞ÊêúÁ¥¢ÔºàÊêúÁ¥¢Ê•ºÁõòÂêçÁß∞„ÄÅË¥üË¥£‰∫∫ÊàñÁâáÂå∫Ôºâ
                const cols = item.querySelectorAll('.item-col');
                // cols[0] = checkbox, cols[1] = Â∞èÂå∫Âêç, cols[2] = ÂèòÊõ¥Á±ªÂûã, cols[3] = ÊâÄÂ±ûÁâáÂå∫, cols[4] = ÂéüË¥üË¥£‰∫∫, cols[5] = Êñ∞Ë¥üË¥£‰∫∫
                const districtText = cols.length > 3 ? cols[3].textContent.toLowerCase() : '';
                const oldManager = cols.length > 4 ? cols[4].textContent.toLowerCase() : '';
                const newManager = cols.length > 5 ? cols[5].textContent.toLowerCase() : '';
                
                if (searchValue && !resblockName.toLowerCase().includes(searchValue) && 
                    !oldManager.includes(searchValue) && !newManager.includes(searchValue) &&
                    !districtText.includes(searchValue)) {
                    showItem = false;
                }
                
                // ÂèòÊõ¥Á±ªÂûãÁ≠õÈÄâÔºàÊîØÊåÅÂ§çÂêàÁ±ªÂûãÔºåÂ¶Ç"Êñ∞Â¢û,ÁßªÈô§"Ôºâ
                if (changeType && showItem) {
                    // Â∞ÜÂèòÊõ¥Á±ªÂûãÊãÜÂàÜÊàêÊï∞ÁªÑËøõË°åÂåπÈÖç
                    const changeTypes = itemChangeType.split(',');
                    if (!changeTypes.includes(changeType)) {
                        showItem = false;
                    }
                }
                
                // ÁâáÂå∫Á≠õÈÄâÔºàÊîØÊåÅÂåÖÂê´"ÔºàÂ∑≤Âà†Èô§Ôºâ"ÂêéÁºÄÁöÑÁâáÂå∫Ôºâ
                if (district && showItem) {
                    // Ê£ÄÊü•ÂÆåÂÖ®ÂåπÈÖçÊàñËÄÖÂéªÈô§"ÔºàÂ∑≤Âà†Èô§Ôºâ"ÂêéÁºÄÂêéÂåπÈÖç
                    const cleanDistrict = itemDistrict.replace(/ÔºàÂ∑≤Âà†Èô§Ôºâ$/, '');
                    if (itemDistrict !== district && cleanDistrict !== district) {
                        showItem = false;
                    }
                }
                
                item.style.display = showItem ? '' : 'none';
            });
        }

        // ÈáçÁΩÆÁ≠õÈÄâÊù°‰ª∂
        function resetResblockFilters() {
            document.getElementById('resblockSearchInput').value = '';
            document.getElementById('resblockChangeTypeFilter').value = '';
            document.getElementById('resblockDistrictFilter').value = '';
            
            // ÊòæÁ§∫ÊâÄÊúâÊ•ºÁõò
            const items = resblockListBody.querySelectorAll('.person-list-item');
            items.forEach(item => {
                item.style.display = '';
            });
            
            // ÈáçÁΩÆÂàÜÈ°µ
            resblockCurrentPage = 1;
            initResblockPagination();
        }

        // ÂÆûÊó∂ÊêúÁ¥¢ÔºàËæìÂÖ•Êó∂Âç≥Êó∂ÊêúÁ¥¢Ôºâ
        if (resblockSearchInput) {
            resblockSearchInput.addEventListener('input', searchAndFilterResblocks);
            resblockSearchInput.addEventListener('keyup', function(e) {
                if (e.key === 'Enter') {
                    searchAndFilterResblocks();
                }
            });
        }

        // ‰∏ãÊãâÊ°ÜÊîπÂèòÊó∂Ëá™Âä®Á≠õÈÄâ
        const resblockChangeTypeFilter = document.getElementById('resblockChangeTypeFilter');
        if (resblockChangeTypeFilter) {
            resblockChangeTypeFilter.addEventListener('change', searchAndFilterResblocks);
        }
        
        // ÁâáÂå∫Á≠õÈÄâÂô®ÊîπÂèòÊó∂Ëá™Âä®Á≠õÈÄâ
        const resblockDistrictFilter = document.getElementById('resblockDistrictFilter');
        if (resblockDistrictFilter) {
            resblockDistrictFilter.addEventListener('change', searchAndFilterResblocks);
        }

        // ==================== Ê•ºÁõòÂèòÊõ¥ËØ¶ÊÉÖ - ÂàÜÈ°µÂäüËÉΩ ====================
        let resblockCurrentPage = 1;
        let resblockPageSize = 6;  // ÊØèÈ°µÊòæÁ§∫6Êù°
        let resblockTotalPages = 1;
        const totalResblocks = 12;

        function initResblockPagination() {
            const allResblocks = resblockListBody.querySelectorAll('.person-list-item');
            const visibleResblocks = Array.from(allResblocks).filter(item => item.style.display !== 'none');
            const visibleCount = visibleResblocks.length;
            
            resblockTotalPages = Math.ceil(visibleCount / resblockPageSize) || 1;
            renderResblockPageNumbers();
            updateResblockPagination();
        }

        function renderResblockPageNumbers() {
            const pageNumbersContainer = document.getElementById('resblockPageNumbers');
            if (!pageNumbersContainer) return;
            
            pageNumbersContainer.innerHTML = '';
            
            let startPage = Math.max(1, resblockCurrentPage - 2);
            let endPage = Math.min(resblockTotalPages, resblockCurrentPage + 2);
            
            for (let i = startPage; i <= endPage; i++) {
                const pageNum = document.createElement('div');
                pageNum.className = 'page-number' + (i === resblockCurrentPage ? ' active' : '');
                pageNum.textContent = i;
                pageNum.onclick = () => goToResblockPage(i);
                pageNumbersContainer.appendChild(pageNum);
            }
        }

        function goToResblockPage(page) {
            if (page < 1 || page > resblockTotalPages) return;
            resblockCurrentPage = page;
            updateResblockPagination();
            renderResblockPageNumbers();
        }

        function updateResblockPagination() {
            // Êõ¥Êñ∞ÊåâÈíÆÁä∂ÊÄÅ
            const prevBtn = document.getElementById('resblockPrevPageBtn');
            const nextBtn = document.getElementById('resblockNextPageBtn');
            if (prevBtn) prevBtn.disabled = resblockCurrentPage === 1;
            if (nextBtn) nextBtn.disabled = resblockCurrentPage === resblockTotalPages;
            
            // Ëé∑ÂèñÂèØËßÅÁöÑÊ•ºÁõò
            const allResblocks = resblockListBody.querySelectorAll('.person-list-item');
            const visibleResblocks = Array.from(allResblocks).filter(item => item.style.display !== 'none');
            const visibleCount = visibleResblocks.length;
            
            // Êõ¥Êñ∞È°µÁ†ÅÊòæÁ§∫‰ø°ÊÅØ
            const startNum = Math.min((resblockCurrentPage - 1) * resblockPageSize + 1, visibleCount);
            const endNum = Math.min(resblockCurrentPage * resblockPageSize, visibleCount);
            
            const startNumEl = document.getElementById('resblockPageStartNum');
            const endNumEl = document.getElementById('resblockPageEndNum');
            const totalNumEl = document.getElementById('resblockTotalNum');
            
            if (startNumEl) startNumEl.textContent = visibleCount > 0 ? startNum : 0;
            if (endNumEl) endNumEl.textContent = endNum;
            if (totalNumEl) totalNumEl.textContent = visibleCount;
            
            // ÊòæÁ§∫/ÈöêËóèÊ•ºÁõò
            showResBlocksForPage(resblockCurrentPage);
        }

        function showResBlocksForPage(page) {
            const allResblocks = resblockListBody.querySelectorAll('.person-list-item');
            const visibleResblocks = Array.from(allResblocks).filter(item => item.style.display !== 'none');
            
            const startIndex = (page - 1) * resblockPageSize;
            const endIndex = startIndex + resblockPageSize;
            
            // ÈöêËóèÊâÄÊúâÊ•ºÁõò
            allResblocks.forEach(resblock => {
                resblock.style.display = 'none';
            });
            
            // Âè™ÊòæÁ§∫ÂΩìÂâçÈ°µÁöÑÊ•ºÁõò
            visibleResblocks.forEach((resblock, index) => {
                if (index >= startIndex && index < endIndex) {
                    resblock.style.display = '';
                }
            });
        }

        // ÂØºÂá∫ExcelÂäüËÉΩ
        // Ê•ºÁõòÂàóË°®ÂÖ®ÈÄâÂäüËÉΩ
        function toggleSelectAllResblocks() {
            const selectAllCheckbox = document.getElementById('selectAllResblocks');
            const rowCheckboxes = document.querySelectorAll('.row-checkbox-resblock');
            
            rowCheckboxes.forEach(checkbox => {
                checkbox.checked = selectAllCheckbox.checked;
            });
        }

        function exportResblockList() {
            const allResblocks = resblockListBody.querySelectorAll('.person-list-item');
            
            // ÂàõÂª∫CSVÊï∞ÊçÆ
            let csvContent = '\uFEFF'; // BOM for Excel UTF-8
            
            // Ê∑ªÂä†Ë°®Â§¥
            csvContent += 'Â∞èÂå∫,ÂèòÊõ¥Á±ªÂûã,ÊâÄÂ±ûÁâáÂå∫,ÂéüË¥üË¥£‰∫∫,Êñ∞Ë¥üË¥£‰∫∫\n';
            
            // Ê∑ªÂä†Êï∞ÊçÆË°å
            allResblocks.forEach(resblock => {
                if (resblock.style.display === 'none') return; // Ë∑≥ËøáÈöêËóèÁöÑÊ•ºÁõò
                
                const resblockName = resblock.getAttribute('data-resblock-name');
                const changeType = resblock.getAttribute('data-change-type');
                const district = resblock.getAttribute('data-district');
                
                const cols = resblock.querySelectorAll('.item-col');
                // cols[0] = checkbox, cols[1] = Â∞èÂå∫Âêç, cols[2] = ÂèòÊõ¥Á±ªÂûã, cols[3] = ÊâÄÂ±ûÁâáÂå∫, cols[4] = ÂéüË¥üË¥£‰∫∫, cols[5] = Êñ∞Ë¥üË¥£‰∫∫
                const oldManager = cols[4] ? cols[4].textContent.trim() : '-';
                const newManager = cols[5] ? cols[5].textContent.trim() : '-';
                
                csvContent += `${resblockName},${changeType},${district},${oldManager},${newManager}\n`;
            });
            
            // ÂàõÂª∫‰∏ãËΩΩÈìæÊé•
            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            const url = URL.createObjectURL(blob);
            
            link.setAttribute('href', url);
            link.setAttribute('download', 'Ê•ºÁõòÂèòÊõ¥ËØ¶ÊÉÖ.csv');
            link.style.visibility = 'hidden';
            
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            // ÊèêÁ§∫Áî®Êà∑
            alert('Ê•ºÁõòÂàóË°®ÂØºÂá∫ÊàêÂäüÔºÅ');
        }

        // ÂàùÂßãÂåñÊ•ºÁõòÂàÜÈ°µ
        setTimeout(() => {
            initResblockPagination();
        }, 100);

        // ==================== Èó®Â∫óÂèòÂåñÂºπÁ™óÂäüËÉΩ ====================
        // Èó®Â∫óÂèòÂåñÊï∞ÊçÆÔºàÊ®°ÊãüÊï∞ÊçÆÔºåÂÆûÈôÖÂ∫îËØ•‰ªéÂêéÁ´ØËé∑ÂèñÔºâ
        const storeChangeData = {
            'Êúù‰∏ú1': {
                add: [
                    { name: 'ÂÆùÁ¶èËãë‰∏âÊñπÂ∫ó', address: 'ÊúùÈò≥Âå∫ÂÆùÁ¶èË∑Ø123Âè∑', manager: 'Âº†‰∏â' },
                    { name: 'ÈÉäÂå∫ÂüéÂª∫ÂåóÁ´ôÂüé', address: 'ÊúùÈò≥Âå∫ÂåóÁ´ôË∑Ø456Âè∑', manager: 'ÊùéÂõõ' },
                    { name: 'ÂÆùÁ¶èËä±Âõ≠ÂçóÂè£Â∫ó', address: 'ÊúùÈò≥Âå∫ÂçóÂè£Ë∑Ø789Âè∑', manager: 'Áéã‰∫î' }
                ],
                modify: [
                    { name: 'ÊúùÈò≥Â∫óA', oldManager: 'ËµµÂÖ≠', newManager: 'Èí±‰∏É', changeType: 'Ë¥üË¥£‰∫∫ÂèòÊõ¥' }
                ],
                remove: []
            },
            'Êúù‰∏ú2': {
                add: [
                    { name: 'Êúù‰∏úÂ∫óA', address: 'ÊúùÈò≥Âå∫‰∏úÂ§ßË°ó100Âè∑', manager: 'Êú±ÂÆ∂Á∫¨' },
                    { name: 'Êúù‰∏úÂ∫óB', address: 'ÊúùÈò≥Âå∫‰∏ú‰∫åË°ó200Âè∑', manager: 'Êú±ÂÆ∂Á∫¨' }
                ],
                modify: [],
                remove: [
                    { name: 'ÊóßÈó®Â∫óX', reason: '‰∏öÁª©‰∏ç‰Ω≥', transferTo: 'Êúù‰∏úÂ∫óA' }
                ]
            },
            'ÊúùÂçó‰ºòÈÄâÁâáÂå∫': {
                add: [
                    { name: 'ÂçóËãëÂ∫ó', address: 'ÊúùÈò≥Âå∫ÂçóËãëË∑Ø300Âè∑', manager: 'ÁéãÊôì‰ºü' }
                ],
                modify: [
                    { name: 'ÂçóÂüéÂ∫ó', oldManager: 'Èí±Âª∑Âèã', newManager: 'ÂàòÈõ™Âπ≥', changeType: 'Ë¥üË¥£‰∫∫ÂèòÊõ¥' },
                    { name: 'ÂçóÈó®Â∫ó', oldManager: 'È´òÊ∞∏Ë¥¢', newManager: 'ÁôΩÈ£û', changeType: 'Ë¥üË¥£‰∫∫ÂèòÊõ¥' }
                ],
                remove: []
            },
            'ÊúùË•øÁâáÂå∫': {
                add: [],
                modify: [],
                remove: [
                    { name: 'ÊúùË•øÂ∫ó', reason: 'ÁâáÂå∫Âà†Èô§', transferTo: 'Êúù‰∏ú2' },
                    { name: 'Ë•øÂüéÂ∫ó', reason: 'ÁâáÂå∫Âà†Èô§', transferTo: 'Êúù‰∏ú2' },
                    { name: 'Ë•øÈó®Â∫ó', reason: 'ÁâáÂå∫Âà†Èô§', transferTo: 'ÊúùÂçó‰ºòÈÄâ' }
                ]
            }
        };

        function showStoreChangeModal(regionName, event) {
            event.stopPropagation();
            
            const modal = document.getElementById('storeChangeModal');
            const data = storeChangeData[regionName] || { add: [], modify: [], remove: [] };
            
            // Êõ¥Êñ∞Ê†áÈ¢ò
            document.getElementById('storeChangeModalTitle').textContent = `${regionName} - Èó®Â∫óÂèòÂåñËØ¶ÊÉÖ`;
            
            // Êõ¥Êñ∞ÁªüËÆ°Êï∞Â≠ó
            document.getElementById('storeAddCount').textContent = data.add.length;
            document.getElementById('storeModifyCount').textContent = data.modify.length;
            document.getElementById('storeRemoveCount').textContent = data.remove.length;
            
            // Â°´ÂÖÖÊñ∞Â¢ûÈó®Â∫óÂàóË°®
            const addList = document.getElementById('storeAddList');
            const addSection = document.getElementById('storeAddSection');
            if (data.add.length > 0) {
                addSection.style.display = 'block';
                addList.innerHTML = data.add.map((store, index) => `
                    <div class="store-change-item">
                        <div class="store-change-item-left">
                            <div class="store-change-item-number">${index + 1}</div>
                            <div>
                                <div class="store-change-item-name">${store.name}</div>
                                <div class="store-change-item-info">${store.address || ''} ${store.manager ? '¬∑ Ë¥üË¥£‰∫∫Ôºö' + store.manager : ''}</div>
                            </div>
                        </div>
                        <div class="store-change-item-badge add">Êñ∞Â¢û</div>
                    </div>
                `).join('');
            } else {
                addSection.style.display = 'none';
            }
            
            // Â°´ÂÖÖ‰øÆÊîπÈó®Â∫óÂàóË°®
            const modifyList = document.getElementById('storeModifyList');
            const modifySection = document.getElementById('storeModifySection');
            if (data.modify.length > 0) {
                modifySection.style.display = 'block';
                modifyList.innerHTML = data.modify.map((store, index) => `
                    <div class="store-change-item">
                        <div class="store-change-item-left">
                            <div class="store-change-item-number">${index + 1}</div>
                            <div>
                                <div class="store-change-item-name">${store.name}</div>
                                <div class="store-change-item-info">
                                    ${store.changeType || 'ÂèòÊõ¥'}: 
                                    <span style="text-decoration: line-through; opacity: 0.6;">${store.oldManager}</span>
                                    <span style="margin: 0 4px; color: #52c41a;">‚Üí</span>
                                    <span style="color: #1890ff; font-weight: 600;">${store.newManager}</span>
                                </div>
                            </div>
                        </div>
                        <div class="store-change-item-badge modify">‰øÆÊîπ</div>
                    </div>
                `).join('');
            } else {
                modifySection.style.display = 'none';
            }
            
            // Â°´ÂÖÖÂà†Èô§Èó®Â∫óÂàóË°®
            const removeList = document.getElementById('storeRemoveList');
            const removeSection = document.getElementById('storeRemoveSection');
            if (data.remove.length > 0) {
                removeSection.style.display = 'block';
                removeList.innerHTML = data.remove.map((store, index) => `
                    <div class="store-change-item">
                        <div class="store-change-item-left">
                            <div class="store-change-item-number">${index + 1}</div>
                            <div>
                                <div class="store-change-item-name" style="text-decoration: line-through; opacity: 0.6;">${store.name}</div>
                                <div class="store-change-item-info">
                                    ÂéüÂõ†Ôºö${store.reason || 'Êú™ËØ¥Êòé'}
                                    ${store.transferTo ? ' ¬∑ ËΩ¨ÁßªËá≥Ôºö' + store.transferTo : ''}
                                </div>
                            </div>
                        </div>
                        <div class="store-change-item-badge remove">Âà†Èô§</div>
                    </div>
                `).join('');
            } else {
                removeSection.style.display = 'none';
            }
            
            // ÊòæÁ§∫ÂºπÁ™ó
            modal.classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closeStoreChangeModal(event) {
            const modal = document.getElementById('storeChangeModal');
            if (!event || event.target === modal) {
                modal.classList.remove('show');
                document.body.style.overflow = '';
            }
        }

        // ESCÈîÆÂÖ≥Èó≠Èó®Â∫óÂèòÂåñÂºπÁ™ó
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                const modal = document.getElementById('storeChangeModal');
                if (modal.classList.contains('show')) {
                    closeStoreChangeModal();
                }
            }
        });

        // ==================== ÈÖç‰∫∫/Ê•ºÁõòÂèòÂåñÂºπÁ™óÂäüËÉΩ ====================
        // ÂàÜÈ°µÁä∂ÊÄÅ
        let resblockPersonPagination = {
            currentPage: 1,
            pageSize: 10,
            totalItems: 0,
            tableData: []
        };

        let storePersonPagination = {
            currentPage: 1,
            pageSize: 10,
            totalItems: 0,
            tableData: []
        };

        // ÈÖç‰∫∫ÂèòÂåñÊï∞ÊçÆÔºàÊ®°ÊãüÔºâ
        const personChangeData = {
            'Êúù‰∏ú1': {
                regionPerson: {
                    add: ['ÈÇìÊôìÂÄ©', 'Èí±Âª∑Âèã', 'ÁôΩÈ£û', 'ÂàòÈõ™Âπ≥', 'È´òÊ∞∏Ë¥¢'],
                    remove: [],
                    before: [],
                    after: ['ÈÇìÊôìÂÄ©', 'Èí±Âª∑Âèã', 'ÁôΩÈ£û', 'ÂàòÈõ™Âπ≥', 'È´òÊ∞∏Ë¥¢', 'ÁéãÊôì‰ºü', 'Êú±ÂÆ∂Á∫¨', 'ËÉ°Ê∞∏Êµ©', 'Â≠ôËâ≥']
                },
                resblockPerson: {
                    // ÊåâÊ•ºÁõòÂàÜÁªÑÂ±ïÁ§∫
                    byResblock: {
                        'ÁîµÂª∫Áõõ‰∏ñ‰∏âÊúü': { 
                            add: ['ÈÇìÊôìÂÄ©', 'Èí±Âª∑Âèã'], 
                            remove: [],
                            before: [],
                            after: ['ÈÇìÊôìÂÄ©', 'Èí±Âª∑Âèã']
                        },
                        'Â••Ëé±ÂòâÂõ≠': { 
                            add: ['ÁôΩÈ£û'], 
                            remove: [],
                            before: [],
                            after: ['ÁôΩÈ£û']
                        },
                        'Âí∏Á¶èÂòâÂõ≠': { 
                            add: ['ÂàòÈõ™Âπ≥', 'È´òÊ∞∏Ë¥¢'], 
                            remove: [],
                            before: [],
                            after: ['ÂàòÈõ™Âπ≥', 'È´òÊ∞∏Ë¥¢']
                        },
                        'ÊòüÊ≤≥Êπæ': { 
                            add: ['ÁéãÊôì‰ºü'], 
                            remove: [],
                            before: [],
                            after: ['ÁéãÊôì‰ºü']
                        }
                    },
                    add: ['ÈÇìÊôìÂÄ©', 'Èí±Âª∑Âèã', 'ÁôΩÈ£û', 'ÂàòÈõ™Âπ≥', 'È´òÊ∞∏Ë¥¢', 'ÁéãÊôì‰ºü'],
                    remove: [],
                    before: [],
                    after: ['ÈÇìÊôìÂÄ©', 'Èí±Âª∑Âèã', 'ÁôΩÈ£û', 'ÂàòÈõ™Âπ≥', 'È´òÊ∞∏Ë¥¢', 'ÁéãÊôì‰ºü']
                },
                storePerson: {
                    // ÊåâÈó®Â∫óÂàÜÁªÑÂ±ïÁ§∫
                    byStore: {
                        'ÂÆùÁ¶èËãë‰∏âÊñπÂ∫ó': { 
                            add: ['ÈÇìÊôìÂÄ©', 'Èí±Âª∑Âèã'], 
                            remove: [],
                            before: [],
                            after: ['ÈÇìÊôìÂÄ©', 'Èí±Âª∑Âèã']
                        },
                        'ÈÉäÂå∫ÂüéÂª∫ÂåóÁ´ôÂüé': { 
                            add: ['ÁôΩÈ£û', 'ÂàòÈõ™Âπ≥'], 
                            remove: [],
                            before: [],
                            after: ['ÁôΩÈ£û', 'ÂàòÈõ™Âπ≥']
                        },
                        'ÂÆùÁ¶èËä±Âõ≠ÂçóÂè£Â∫ó': { 
                            add: ['È´òÊ∞∏Ë¥¢', 'ÁéãÊôì‰ºü'], 
                            remove: [],
                            before: [],
                            after: ['È´òÊ∞∏Ë¥¢', 'ÁéãÊôì‰ºü']
                        }
                    },
                    add: ['ÈÇìÊôìÂÄ©', 'Èí±Âª∑Âèã', 'ÁôΩÈ£û', 'ÂàòÈõ™Âπ≥', 'È´òÊ∞∏Ë¥¢', 'ÁéãÊôì‰ºü'],
                    remove: [],
                    before: [],
                    after: ['ÈÇìÊôìÂÄ©', 'Èí±Âª∑Âèã', 'ÁôΩÈ£û', 'ÂàòÈõ™Âπ≥', 'È´òÊ∞∏Ë¥¢', 'ÁéãÊôì‰ºü']
                }
            },
            'Êúù‰∏ú2': {
                regionPerson: {
                    add: ['Êú±ÂÆ∂Á∫¨', 'ËÉ°Ê∞∏Êµ©', 'Â≠ôËâ≥', 'ËµµÊòé'],
                    remove: [],
                    before: [],
                    after: ['Êú±ÂÆ∂Á∫¨', 'ËÉ°Ê∞∏Êµ©', 'Â≠ôËâ≥', 'ËµµÊòé', 'ÊùéÂãá', 'Âº†‰ºü']
                },
                resblockPerson: {
                    byResblock: {
                        'Êúù‰∏úËä±Âõ≠': { 
                            add: ['Êú±ÂÆ∂Á∫¨', 'ËÉ°Ê∞∏Êµ©'], 
                            remove: [],
                            before: [],
                            after: ['Êú±ÂÆ∂Á∫¨', 'ËÉ°Ê∞∏Êµ©']
                        },
                        'Èò≥ÂÖâÂ∞èÂå∫': { 
                            add: ['Â≠ôËâ≥'], 
                            remove: [],
                            before: [],
                            after: ['Â≠ôËâ≥']
                        }
                    },
                    add: ['Êú±ÂÆ∂Á∫¨', 'ËÉ°Ê∞∏Êµ©', 'Â≠ôËâ≥'],
                    remove: [],
                    before: [],
                    after: ['Êú±ÂÆ∂Á∫¨', 'ËÉ°Ê∞∏Êµ©', 'Â≠ôËâ≥']
                },
                storePerson: {
                    byStore: {
                        'Êúù‰∏úÂ∫óA': { 
                            add: ['Êú±ÂÆ∂Á∫¨', 'ËÉ°Ê∞∏Êµ©'], 
                            remove: [],
                            before: [],
                            after: ['Êú±ÂÆ∂Á∫¨', 'ËÉ°Ê∞∏Êµ©']
                        },
                        'Êúù‰∏úÂ∫óB': { 
                            add: ['Â≠ôËâ≥', 'ËµµÊòé'], 
                            remove: [],
                            before: [],
                            after: ['Â≠ôËâ≥', 'ËµµÊòé']
                        }
                    },
                    add: ['Êú±ÂÆ∂Á∫¨', 'ËÉ°Ê∞∏Êµ©', 'Â≠ôËâ≥', 'ËµµÊòé'],
                    remove: [],
                    before: [],
                    after: ['Êú±ÂÆ∂Á∫¨', 'ËÉ°Ê∞∏Êµ©', 'Â≠ôËâ≥', 'ËµµÊòé']
                }
            },
            'ÊúùÂçó‰ºòÈÄâÁâáÂå∫': {
                regionPerson: {
                    add: ['ÁéãÊôì‰ºü', 'ÊùéÊòé', 'ËµµÂº∫', 'Â≠ô‰∏Ω', 'Âë®Êù∞'],
                    remove: ['Âº†‰∏â', 'ÊùéÂõõ', 'Áéã‰∫î'],
                    before: ['Âº†‰∏â', 'ÊùéÂõõ', 'Áéã‰∫î', 'Èí±Âª∑Âèã', 'ÂàòÈõ™Âπ≥', 'È´òÊ∞∏Ë¥¢', 'ÁôΩÈ£û', 'ÈÉë‰ºü', 'Âê¥Èπè', 'ÈôàÂàö', 'ÊûóÊ∂õ', 'ÈªÑÁ£ä', 'ÂæêÂ®ü', 'Êú±Ëéâ', 'È©¨Ë∂Ö', 'ËÆ∏È£û', 'Êù®Âãá', '‰ΩïÈùô', 'ÂÆãÊïè', 'Èü©ÂÜ∞'],
                    after: ['ÁéãÊôì‰ºü', 'ÊùéÊòé', 'ËµµÂº∫', 'Â≠ô‰∏Ω', 'Âë®Êù∞', 'Èí±Âª∑Âèã', 'ÂàòÈõ™Âπ≥', 'È´òÊ∞∏Ë¥¢', 'ÁôΩÈ£û', 'ÈÉë‰ºü', 'Âê¥Èπè', 'ÈôàÂàö', 'ÊûóÊ∂õ', 'ÈªÑÁ£ä', 'ÂæêÂ®ü', 'Êú±Ëéâ', 'È©¨Ë∂Ö', 'ËÆ∏È£û', 'Êù®Âãá', '‰ΩïÈùô', 'ÂÆãÊïè', 'Èü©ÂÜ∞']
                },
                resblockPerson: {
                    byResblock: {
                        'ÂçóËãëÊñ∞Âüé': { 
                            add: ['ÁéãÊôì‰ºü', 'ËµµÂº∫'], 
                            remove: [],
                            before: [],
                            after: ['ÁéãÊôì‰ºü', 'ËµµÂº∫']
                        },
                        'ÂçóÂüéËä±Âõ≠': { 
                            add: ['Â≠ô‰∏Ω'], 
                            remove: [],
                            before: [],
                            after: ['Â≠ô‰∏Ω']
                        },
                        'ÂçóÈó®Â∞èÂå∫': { 
                            add: [], 
                            remove: ['Âº†‰∏â', 'ÊùéÂõõ'],
                            before: ['Âº†‰∏â', 'ÊùéÂõõ'],
                            after: []
                        },
                        'ÂéüÊúâÊ•ºÁõòA': {
                            add: [],
                            remove: [],
                            before: ['Èí±Âª∑Âèã', 'ÂàòÈõ™Âπ≥'],
                            after: ['Èí±Âª∑Âèã', 'ÂàòÈõ™Âπ≥']
                        }
                    },
                    add: ['ÁéãÊôì‰ºü', 'ËµµÂº∫', 'Â≠ô‰∏Ω'],
                    remove: ['Âº†‰∏â', 'ÊùéÂõõ'],
                    before: ['Âº†‰∏â', 'ÊùéÂõõ', 'Èí±Âª∑Âèã', 'ÂàòÈõ™Âπ≥', 'È´òÊ∞∏Ë¥¢', 'ÁôΩÈ£û', 'ÈÉë‰ºü', 'Âê¥Èπè'],
                    after: ['ÁéãÊôì‰ºü', 'ËµµÂº∫', 'Â≠ô‰∏Ω', 'Èí±Âª∑Âèã', 'ÂàòÈõ™Âπ≥', 'È´òÊ∞∏Ë¥¢', 'ÁôΩÈ£û', 'ÈÉë‰ºü', 'Âê¥Èπè']
                },
                storePerson: {
                    byStore: {
                        'ÂçóËãëÂ∫ó': { 
                            add: ['ÊùéÊòé', 'ÁéãÊôì‰ºü'], 
                            remove: [],
                            before: [],
                            after: ['ÊùéÊòé', 'ÁéãÊôì‰ºü']
                        },
                        'ÂçóÂüéÂ∫ó': { 
                            add: ['Â≠ô‰∏Ω'], 
                            remove: ['ÊùéÂõõ'],
                            before: ['ÊùéÂõõ', 'È´òÊ∞∏Ë¥¢'],
                            after: ['Â≠ô‰∏Ω', 'È´òÊ∞∏Ë¥¢']
                        },
                        'ÂçóÈó®Â∫ó': { 
                            add: [], 
                            remove: ['Áéã‰∫î'],
                            before: ['Áéã‰∫î', 'ÁôΩÈ£û'],
                            after: ['ÁôΩÈ£û']
                        },
                        'ÂéüÊúâÈó®Â∫óA': {
                            add: [],
                            remove: [],
                            before: ['ÈÉë‰ºü', 'Âê¥Èπè'],
                            after: ['ÈÉë‰ºü', 'Âê¥Èπè']
                        }
                    },
                    add: ['ÊùéÊòé', 'ÁéãÊôì‰ºü', 'Â≠ô‰∏Ω'],
                    remove: ['ÊùéÂõõ', 'Áéã‰∫î'],
                    before: ['ÊùéÂõõ', 'Áéã‰∫î', 'È´òÊ∞∏Ë¥¢', 'ÁôΩÈ£û', 'ÈÉë‰ºü', 'Âê¥Èπè', 'ÈôàÂàö', 'ÊûóÊ∂õ', 'ÈªÑÁ£ä', 'ÂæêÂ®ü', 'Êú±Ëéâ', 'È©¨Ë∂Ö', 'ËÆ∏È£û'],
                    after: ['ÊùéÊòé', 'ÁéãÊôì‰ºü', 'Â≠ô‰∏Ω', 'È´òÊ∞∏Ë¥¢', 'ÁôΩÈ£û', 'ÈÉë‰ºü', 'Âê¥Èπè', 'ÈôàÂàö', 'ÊûóÊ∂õ', 'ÈªÑÁ£ä', 'ÂæêÂ®ü', 'Êú±Ëéâ', 'È©¨Ë∂Ö', 'ËÆ∏È£û']
                }
            },
            'ÊúùË•øÁâáÂå∫': {
                regionPerson: {
                    add: [],
                    remove: ['Âº†‰∏â', 'ÊùéÂõõ', 'Áéã‰∫î', 'ËµµÂÖ≠', 'Èí±‰∏É', 'Â≠ôÂÖ´'],
                    before: ['Âº†‰∏â', 'ÊùéÂõõ', 'Áéã‰∫î', 'ËµµÂÖ≠', 'Èí±‰∏É', 'Â≠ôÂÖ´'],
                    after: []
                },
                resblockPerson: {
                    byResblock: {
                        'Ë•øÂüéÊ•ºÁõòA': { 
                            add: [], 
                            remove: ['Âº†‰∏â', 'ÊùéÂõõ'],
                            before: ['Âº†‰∏â', 'ÊùéÂõõ'],
                            after: []
                        },
                        'Ë•øÂüéÊ•ºÁõòB': { 
                            add: [], 
                            remove: ['Áéã‰∫î'],
                            before: ['Áéã‰∫î'],
                            after: []
                        }
                    },
                    add: [],
                    remove: ['Âº†‰∏â', 'ÊùéÂõõ', 'Áéã‰∫î'],
                    before: ['Âº†‰∏â', 'ÊùéÂõõ', 'Áéã‰∫î'],
                    after: []
                },
                storePerson: {
                    byStore: {
                        'ÊúùË•øÂ∫ó': { 
                            add: [], 
                            remove: ['ËµµÂÖ≠', 'Èí±‰∏É'],
                            before: ['ËµµÂÖ≠', 'Èí±‰∏É'],
                            after: []
                        },
                        'Ë•øÂüéÂ∫ó': { 
                            add: [], 
                            remove: ['Â≠ôÂÖ´'],
                            before: ['Â≠ôÂÖ´'],
                            after: []
                        }
                    },
                    add: [],
                    remove: ['ËµµÂÖ≠', 'Èí±‰∏É', 'Â≠ôÂÖ´'],
                    before: ['ËµµÂÖ≠', 'Èí±‰∏É', 'Â≠ôÂÖ´'],
                    after: []
                }
            }
        };

        // Ê•ºÁõòÊï∞ÈáèÂèòÂåñÊï∞ÊçÆÔºàÊ®°ÊãüÔºâ
        const resblockChangeData = {
            'Êúù‰∏ú1': {
                add: ['ÁîµÂª∫Áõõ‰∏ñ‰∏âÊúü', 'Â••Ëé±ÂòâÂõ≠', 'Âí∏Á¶èÂòâÂõ≠', 'ÊòüÊ≤≥Êπæ', '‰∏áÁßëÂüé', '‰øùÂà©Ëä±Âõ≠', '‰∏≠Êµ∑ÂõΩÈôÖ', 'ÁªøÂú∞‰∏≠ÂøÉ'],
                remove: []
            },
            'Êúù‰∏ú2': {
                add: ['Êúù‰∏úËä±Âõ≠', 'Èò≥ÂÖâÂ∞èÂå∫', 'Âπ∏Á¶èÂÆ∂Âõ≠'],
                remove: []
            },
            'ÊúùÂçó‰ºòÈÄâÁâáÂå∫': {
                add: ['ÂçóËãëÊñ∞Âüé', 'ÂçóÂüéËä±Âõ≠'],
                remove: ['ÊóßÊ•ºÁõòA']
            },
            'ÊúùË•øÁâáÂå∫': {
                add: [],
                remove: ['Ë•øÂüéÊ•ºÁõòA', 'Ë•øÂüéÊ•ºÁõòB', 'Ë•øÂüéÊ•ºÁõòC']
            }
        };

        // Âõ¥Ê†èËåÉÂõ¥ÂèòÂåñÊï∞ÊçÆÔºàÊ®°ÊãüÔºâ- ÂåÖÂê´Âú∞ÂõæÊ∏≤Êüì‰ø°ÊÅØ
        const fenceChangeData = {
            'Êúù‰∏ú1': {
                beforeArea: 0.0,
                afterArea: 85.6,
                beforeUtilization: 0,
                afterUtilization: 71.64,
                beforeResource: 0.0,
                afterResource: 154.56,
                boundaries: {
                    before: [],
                    after: [
                        { name: 'Êúù‰∏ú1‰∏ªÂå∫Âüü', left: '15%', top: '20%', width: '65%', height: '55%', area: '45.3km¬≤' },
                        { name: 'Êúù‰∏ú1ÂåóÈÉ®Êâ©Â±ï', left: '50%', top: '8%', width: '35%', height: '25%', area: '22.1km¬≤' },
                        { name: 'Êúù‰∏ú1ÂçóÈÉ®Êñ∞Â¢û', left: '20%', top: '68%', width: '45%', height: '22%', area: '18.2km¬≤' }
                    ]
                }
            },
            'Êúù‰∏ú2': {
                beforeArea: 0.0,
                afterArea: 45.3,
                beforeUtilization: 0,
                afterUtilization: 68.52,
                beforeResource: 0.0,
                afterResource: 196.91,
                boundaries: {
                    before: [],
                    after: [
                        { name: 'Êúù‰∏ú2Ê†∏ÂøÉÂå∫', left: '25%', top: '25%', width: '50%', height: '50%', area: '30.5km¬≤' },
                        { name: 'Êúù‰∏ú2‰∏úÊâ©Âå∫', left: '65%', top: '30%', width: '25%', height: '40%', area: '14.8km¬≤' }
                    ]
                }
            },
            'ÊúùÂçó‰ºòÈÄâÁâáÂå∫': {
                beforeArea: 32.5,
                afterArea: 48.7,
                beforeUtilization: 65.3,
                afterUtilization: 75.2,
                beforeResource: 128.5,
                afterResource: 165.8,
                boundaries: {
                    before: [
                        { name: 'ÊúùÂçóÂéüÂå∫Âüü', left: '20%', top: '20%', width: '60%', height: '60%', area: '32.5km¬≤' }
                    ],
                    after: [
                        { name: 'ÊúùÂçó‰ºòÈÄâÂå∫', left: '15%', top: '15%', width: '70%', height: '70%', area: '48.7km¬≤' }
                    ]
                }
            },
            'ÊúùË•øÁâáÂå∫': {
                beforeArea: 55.8,
                afterArea: 0.0,
                beforeUtilization: 58.3,
                afterUtilization: 0,
                beforeResource: 95.2,
                afterResource: 0.0,
                boundaries: {
                    before: [
                        { name: 'ÊúùË•øÁâáÂå∫AÂå∫', left: '10%', top: '15%', width: '35%', height: '35%', area: '18.5km¬≤' },
                        { name: 'ÊúùË•øÁâáÂå∫BÂå∫', left: '40%', top: '25%', width: '40%', height: '30%', area: '22.3km¬≤' },
                        { name: 'ÊúùË•øÁâáÂå∫CÂå∫', left: '20%', top: '55%', width: '50%', height: '30%', area: '15.0km¬≤' }
                    ],
                    after: []
                }
            },
            'ÊúùÂåóÁâáÂå∫': {
                beforeArea: 62.3,
                afterArea: 62.3,
                beforeUtilization: 72.5,
                afterUtilization: 72.5,
                beforeResource: 125.3,
                afterResource: 125.3,
                boundaries: {
                    before: [
                        { name: 'ÊúùÂåóÁâáÂå∫', left: '20%', top: '20%', width: '60%', height: '60%', area: '62.3km¬≤' }
                    ],
                    after: [
                        { name: 'ÊúùÂåóÁâáÂå∫', left: '20%', top: '20%', width: '60%', height: '60%', area: '62.3km¬≤' }
                    ]
                }
            }
        };

        // ÈÄöÁî®ÂºπÁ™óÂÖ≥Èó≠ÂáΩÊï∞
        function closeModal(modalId, event) {
            const modal = document.getElementById(modalId);
            if (!event || event.target === modal) {
                modal.classList.remove('show');
                document.body.style.overflow = '';
            }
        }

        // ËßÜÂõæÂàáÊç¢ÂáΩÊï∞
        function switchView(type, view) {
            const changeView = document.getElementById(`${type}ChangeView`);
            const compareView = document.getElementById(`${type}CompareView`);
            const buttons = document.querySelectorAll(`#${type}Modal .view-toggle-btn`);
            
            buttons.forEach(btn => btn.classList.remove('active'));
            
            if (view === 'change') {
                changeView.classList.remove('hidden');
                compareView.classList.remove('active');
                buttons[0].classList.add('active');
            } else {
                changeView.classList.add('hidden');
                compareView.classList.add('active');
                buttons[1].classList.add('active');
            }
        }

        // ÁâáÂå∫ÈÖç‰∫∫ÂèòÂåñÂºπÁ™ó
        function showRegionPersonModal(regionName, event) {
            event.stopPropagation();
            
            const modal = document.getElementById('regionPersonModal');
            const data = personChangeData[regionName]?.regionPerson || { add: [], remove: [], before: [], after: [] };
            
            document.getElementById('regionPersonModalTitle').textContent = `${regionName} - ÁâáÂå∫ÈÖç‰∫∫ÂèòÂåñ`;
            
            // Êõ¥Êñ∞ÁªüËÆ°
            document.getElementById('regionPersonAddCount').textContent = data.add.length;
            document.getElementById('regionPersonRemoveCount').textContent = data.remove.length;
            const netChange = data.add.length - data.remove.length;
            document.getElementById('regionPersonNetChange').textContent = netChange > 0 ? `+${netChange}` : netChange;
            
            // ÂèòÊõ¥ËßÜÂõæ - Êñ∞Â¢û‰∫∫Âëò
            const addList = document.getElementById('regionPersonAddList');
            const addSection = document.getElementById('regionPersonAddSection');
            if (data.add.length > 0) {
                addSection.style.display = 'block';
                addList.innerHTML = data.add.map((name, index) => `
                    <div class="store-change-item">
                        <div class="store-change-item-left">
                            <div class="store-change-item-number">${index + 1}</div>
                            <div class="store-change-item-name">${name}</div>
                        </div>
                        <div class="store-change-item-badge add">Êñ∞Â¢û</div>
                    </div>
                `).join('');
            } else {
                addSection.style.display = 'none';
            }
            
            // ÂèòÊõ¥ËßÜÂõæ - ÁßªÈô§‰∫∫Âëò
            const removeList = document.getElementById('regionPersonRemoveList');
            const removeSection = document.getElementById('regionPersonRemoveSection');
            if (data.remove.length > 0) {
                removeSection.style.display = 'block';
                removeList.innerHTML = data.remove.map((name, index) => `
                    <div class="store-change-item">
                        <div class="store-change-item-left">
                            <div class="store-change-item-number">${index + 1}</div>
                            <div class="store-change-item-name" style="text-decoration: line-through; opacity: 0.6;">${name}</div>
                        </div>
                        <div class="store-change-item-badge remove">ÁßªÈô§</div>
                    </div>
                `).join('');
            } else {
                removeSection.style.display = 'none';
            }
            
            // ÂØπÊØîËßÜÂõæ
            document.getElementById('regionPersonBeforeCount').textContent = data.before.length;
            
            // Ë∞ÉÊï¥Âêé‰∫∫Êï∞ = ‰øùÁïôÁöÑ + Êñ∞Â¢ûÁöÑÔºà‰∏çÂåÖÊã¨Âà†Èô§ÁöÑÔºâ
            document.getElementById('regionPersonAfterCount').textContent = data.after.length;
            
            // ÂèòÊõ¥Ââç - ‰∏çÊòæÁ§∫Âà†Èô§Ê†áËÆ∞
            const beforeList = document.getElementById('regionPersonBeforeList');
            beforeList.innerHTML = data.before.map((name, index) => {
                return `
                    <div class="compare-person-item">
                        <div class="person-number">${index + 1}</div>
                        <span>${name}</span>
                    </div>
                `;
            }).join('');
            
            // ÂèòÊõ¥Âêé - ÂåÖÂê´‰øùÁïôÁöÑ„ÄÅÊñ∞Â¢ûÁöÑÔºå‰ª•ÂèäË¢´Âà†Èô§ÁöÑÔºàÁî®Âà†Èô§Á∫øÊ†áËÆ∞Ôºâ
            const afterList = document.getElementById('regionPersonAfterList');
            let afterPersonsList = [];
            
            // Ê∑ªÂä†Ë∞ÉÊï¥Âêé‰ªçÂú®ÁöÑ‰∫∫ÂëòÔºàÂåÖÊã¨Êñ∞Â¢ûÂíå‰øùÁïôÁöÑÔºâ
            data.after.forEach((name, index) => {
                const isAdded = data.add.includes(name);
                afterPersonsList.push({
                    name,
                    class: isAdded ? 'added' : '',
                    isDeleted: false
                });
            });
            
            // Ê∑ªÂä†Ë¢´Âà†Èô§ÁöÑ‰∫∫ÂëòÔºàÁî®Âà†Èô§Á∫øÊ†áËÆ∞Ôºâ
            data.remove.forEach(name => {
                afterPersonsList.push({
                    name,
                    class: 'removed',
                    isDeleted: true
                });
            });
            
            afterList.innerHTML = afterPersonsList.map((person, index) => {
                return `
                    <div class="compare-person-item ${person.class}">
                        <div class="person-number">${index + 1}</div>
                        <span>${person.name}</span>
                    </div>
                `;
            }).join('');
            
            // ÈáçÁΩÆ‰∏∫ÂèòÊõ¥ËßÜÂõæ
            switchView('regionPerson', 'change');
            modal.classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        // Ê•ºÁõòÈÖç‰∫∫ÂèòÂåñÂºπÁ™ó
        function showResblockPersonModal(regionName, event) {
            event.stopPropagation();
            
            const modal = document.getElementById('resblockPersonModal');
            const data = personChangeData[regionName]?.resblockPerson || { add: [], remove: [], before: [], after: [], byResblock: {} };
            
            document.getElementById('resblockPersonModalTitle').textContent = `${regionName} - Ê•ºÁõòÈÖç‰∫∫ÂèòÂåñ`;
            
            document.getElementById('resblockPersonAddCount').textContent = data.add.length;
            document.getElementById('resblockPersonRemoveCount').textContent = data.remove.length;
            const netChange = data.add.length - data.remove.length;
            document.getElementById('resblockPersonNetChange').textContent = netChange > 0 ? `+${netChange}` : netChange;
            
            // ÂèòÊõ¥ËßÜÂõæ - ÊåâÊ•ºÁõòÂàÜÁªÑÂ±ïÁ§∫
            const addList = document.getElementById('resblockPersonAddList');
            const removeList = document.getElementById('resblockPersonRemoveList');
            const addSection = document.getElementById('resblockPersonAddSection');
            const removeSection = document.getElementById('resblockPersonRemoveSection');
            
            let hasAdd = false;
            let hasRemove = false;
            let groupsHtml = '';
            
            // ÊåâÊ•ºÁõòÂàÜÁªÑÂ±ïÁ§∫
            if (data.byResblock) {
                Object.entries(data.byResblock).forEach(([resblockName, changes]) => {
                    if (changes.add.length > 0 || changes.remove.length > 0) {
                        const totalCount = changes.add.length + changes.remove.length;
                        groupsHtml += `
                            <div class="group-container">
                                <div class="group-header">
                                    <span class="group-name">üè¢ ${resblockName}</span>
                                    <span class="group-count">${totalCount}‰∫∫ÂèòÂåñ</span>
                                </div>
                                <div class="group-person-list">
                                    ${changes.add.map(name => `
                                        <div class="group-person-tag add">
                                            <span class="person-icon">üë§</span>
                                            <span>${name}</span>
                                            <span style="font-size: 10px;">‚úìÊñ∞Â¢û</span>
                                        </div>
                                    `).join('')}
                                    ${changes.remove.map(name => `
                                        <div class="group-person-tag remove">
                                            <span class="person-icon">üë§</span>
                                            <span>${name}</span>
                                            <span style="font-size: 10px;">‚úóÁßªÈô§</span>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        `;
                        if (changes.add.length > 0) hasAdd = true;
                        if (changes.remove.length > 0) hasRemove = true;
                    }
                });
            }
            
            if (hasAdd || hasRemove) {
                addSection.style.display = 'block';
                addSection.querySelector('.store-change-section-title span:last-child').textContent = 'ÊåâÊ•ºÁõòÂàÜÁªÑÂ±ïÁ§∫';
                addList.innerHTML = groupsHtml;
                removeSection.style.display = 'none';
            } else {
                addSection.style.display = 'none';
                removeSection.style.display = 'none';
            }
            
            // ÂØπÊØîËßÜÂõæ - Ë°®Ê†ºÂΩ¢Âºè
            document.getElementById('resblockPersonBeforeCount').textContent = data.before.length;
            document.getElementById('resblockPersonAfterCount').textContent = data.after.length;
            
            const compareTable = document.getElementById('resblockPersonCompareTable');
            
            if (data.byResblock) {
                // ÁîüÊàêÊâÄÊúâË°®Ê†ºÊï∞ÊçÆ
                let allTableData = [];
                
                Object.entries(data.byResblock).forEach(([resblockName, changes]) => {
                    let changeType = '';
                    let changeClass = '';
                    
                    if (changes.add.length > 0 && changes.remove.length === 0) {
                        changeType = '+ Êñ∞Â¢û';
                        changeClass = 'add';
                    } else if (changes.remove.length > 0 && changes.add.length === 0) {
                        changeType = 'Ë∞ÉÊï¥';
                        changeClass = 'remove';
                    } else if (changes.add.length > 0 && changes.remove.length > 0) {
                        changeType = 'Ë∞ÉÊï¥';
                        changeClass = 'modify';
                    } else {
                        changeType = 'Êó†ÂèòÂåñ';
                        changeClass = '';
                    }
                    
                    // ÂéüË¥üË¥£‰∫∫ - ‰∏çÊòæÁ§∫Âà†Èô§Ê†áËÆ∞
                    const beforePersons = changes.before.length > 0 
                        ? `<div class="person-tags">
                            ${changes.before.map(name => {
                                return `<span class="person-tag-small">${name}</span>`;
                            }).join('')}
                           </div>`
                        : '<span class="empty-cell">-</span>';
                    
                    // Êñ∞Ë¥üË¥£‰∫∫ - ÂåÖÂê´‰øùÁïôÁöÑ„ÄÅÊñ∞Â¢ûÁöÑÔºå‰ª•ÂèäË¢´Âà†Èô§ÁöÑÔºàÁî®Âà†Èô§Á∫øÊ†áËÆ∞Ôºâ
                    let afterPersonsList = [];
                    
                    // Ê∑ªÂä†Ë∞ÉÊï¥Âêé‰ªçÂú®ÁöÑ‰∫∫ÂëòÔºàÂåÖÊã¨Êñ∞Â¢ûÂíå‰øùÁïôÁöÑÔºâ
                    changes.after.forEach(name => {
                        const isAdded = changes.add.includes(name);
                        afterPersonsList.push({ name, class: isAdded ? 'add' : '' });
                    });
                    
                    // Ê∑ªÂä†Ë¢´Âà†Èô§ÁöÑ‰∫∫ÂëòÔºàÁî®Âà†Èô§Á∫øÊ†áËÆ∞Ôºâ
                    changes.remove.forEach(name => {
                        afterPersonsList.push({ name, class: 'remove' });
                    });
                    
                    const afterPersons = afterPersonsList.length > 0
                        ? `<div class="person-tags">
                            ${afterPersonsList.map(person => {
                                return `<span class="person-tag-small ${person.class}">${person.name}</span>`;
                            }).join('')}
                           </div>`
                        : '<span class="empty-cell">-</span>';
                    
                    allTableData.push({
                        resblockName,
                        changeType,
                        changeClass,
                        beforePersons,
                        afterPersons
                    });
                });
                
                // ‰øùÂ≠òÂà∞ÂàÜÈ°µÁä∂ÊÄÅ
                resblockPersonPagination.tableData = allTableData;
                resblockPersonPagination.totalItems = allTableData.length;
                resblockPersonPagination.currentPage = 1;
                
                // Ê∏≤ÊüìÁ¨¨‰∏ÄÈ°µ
                renderResblockPersonPage();
            }
            
            switchView('resblockPerson', 'change');
            modal.classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        // Ê∏≤ÊüìÊ•ºÁõòÈÖç‰∫∫ÂàÜÈ°µ
        function renderResblockPersonPage() {
            const { currentPage, pageSize, totalItems, tableData } = resblockPersonPagination;
            const compareTable = document.getElementById('resblockPersonCompareTable');
            const pagination = document.getElementById('resblockPersonPagination');
            
            if (totalItems === 0) {
                compareTable.innerHTML = '<tr><td colspan="4" style="text-align: center; padding: 40px; color: #999;">ÊöÇÊó†Êï∞ÊçÆ</td></tr>';
                pagination.style.display = 'none';
                return;
            }
            
            // ËÆ°ÁÆóÂàÜÈ°µ
            const totalPages = Math.ceil(totalItems / pageSize);
            const startIndex = (currentPage - 1) * pageSize;
            const endIndex = Math.min(startIndex + pageSize, totalItems);
            const currentPageData = tableData.slice(startIndex, endIndex);
            
            // Ê∏≤ÊüìË°®Ê†º
            let tableRows = currentPageData.map(item => `
                <tr>
                    <td>üè¢ ${item.resblockName}</td>
                    <td class="change-type-cell">
                        <span class="change-type-badge ${item.changeClass}">${item.changeType}</span>
                    </td>
                    <td class="person-list-cell">${item.beforePersons}</td>
                    <td class="person-list-cell">${item.afterPersons}</td>
                </tr>
            `).join('');
            
            compareTable.innerHTML = tableRows;
            
            // ÊòæÁ§∫ÂàÜÈ°µÂô®ÔºàÂ¶ÇÊûúË∂ÖËøá1È°µÔºâ
            if (totalPages > 1) {
                pagination.style.display = 'flex';
                document.getElementById('resblockPersonTotalItems').textContent = totalItems;
                document.getElementById('resblockPersonPageSize').textContent = pageSize;
                
                // Ê∏≤ÊüìÈ°µÁ†Å
                renderResblockPersonPageNumbers(totalPages);
            } else {
                pagination.style.display = 'none';
            }
        }
        
        // Ê∏≤ÊüìÊ•ºÁõòÈÖç‰∫∫È°µÁ†Å
        function renderResblockPersonPageNumbers(totalPages) {
            const pageNumbersContainer = document.getElementById('resblockPersonPageNumbers');
            const { currentPage } = resblockPersonPagination;
            let pageNumbers = '';
            
            // ÊúÄÂ§öÊòæÁ§∫5‰∏™È°µÁ†Å
            let startPage = Math.max(1, currentPage - 2);
            let endPage = Math.min(totalPages, startPage + 4);
            
            if (endPage - startPage < 4) {
                startPage = Math.max(1, endPage - 4);
            }
            
            for (let i = startPage; i <= endPage; i++) {
                pageNumbers += `
                    <button class="pagination-page-btn ${i === currentPage ? 'active' : ''}" 
                            onclick="resblockPersonChangePage(${i})">${i}</button>
                `;
            }
            
            pageNumbersContainer.innerHTML = pageNumbers;
        }
        
        // Ê•ºÁõòÈÖç‰∫∫ÁøªÈ°µ
        function resblockPersonChangePage(action) {
            const { currentPage, totalItems, pageSize } = resblockPersonPagination;
            const totalPages = Math.ceil(totalItems / pageSize);
            
            let newPage = currentPage;
            
            if (action === 'first') {
                newPage = 1;
            } else if (action === 'prev') {
                newPage = Math.max(1, currentPage - 1);
            } else if (action === 'next') {
                newPage = Math.min(totalPages, currentPage + 1);
            } else if (action === 'last') {
                newPage = totalPages;
            } else if (typeof action === 'number') {
                newPage = action;
            }
            
            resblockPersonPagination.currentPage = newPage;
            renderResblockPersonPage();
        }

        // Èó®Â∫óÈÖç‰∫∫ÂèòÂåñÂºπÁ™ó
        function showStorePersonModal(regionName, event) {
            event.stopPropagation();
            
            const modal = document.getElementById('storePersonModal');
            const data = personChangeData[regionName]?.storePerson || { add: [], remove: [], before: [], after: [], byStore: {} };
            
            document.getElementById('storePersonModalTitle').textContent = `${regionName} - Èó®Â∫óÈÖç‰∫∫ÂèòÂåñ`;
            
            document.getElementById('storePersonAddCount').textContent = data.add.length;
            document.getElementById('storePersonRemoveCount').textContent = data.remove.length;
            const netChange = data.add.length - data.remove.length;
            document.getElementById('storePersonNetChange').textContent = netChange > 0 ? `+${netChange}` : netChange;
            
            // ÂèòÊõ¥ËßÜÂõæ - ÊåâÈó®Â∫óÂàÜÁªÑÂ±ïÁ§∫
            const addList = document.getElementById('storePersonAddList');
            const removeList = document.getElementById('storePersonRemoveList');
            const addSection = document.getElementById('storePersonAddSection');
            const removeSection = document.getElementById('storePersonRemoveSection');
            
            let hasAdd = false;
            let hasRemove = false;
            let groupsHtml = '';
            
            // ÊåâÈó®Â∫óÂàÜÁªÑÂ±ïÁ§∫
            if (data.byStore) {
                Object.entries(data.byStore).forEach(([storeName, changes]) => {
                    if (changes.add.length > 0 || changes.remove.length > 0) {
                        const totalCount = changes.add.length + changes.remove.length;
                        groupsHtml += `
                            <div class="group-container">
                                <div class="group-header">
                                    <span class="group-name">üè™ ${storeName}</span>
                                    <span class="group-count">${totalCount}‰∫∫ÂèòÂåñ</span>
                                </div>
                                <div class="group-person-list">
                                    ${changes.add.map(name => `
                                        <div class="group-person-tag add">
                                            <span class="person-icon">üë§</span>
                                            <span>${name}</span>
                                            <span style="font-size: 10px;">‚úìÊñ∞Â¢û</span>
                                        </div>
                                    `).join('')}
                                    ${changes.remove.map(name => `
                                        <div class="group-person-tag remove">
                                            <span class="person-icon">üë§</span>
                                            <span>${name}</span>
                                            <span style="font-size: 10px;">‚úóÁßªÈô§</span>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        `;
                        if (changes.add.length > 0) hasAdd = true;
                        if (changes.remove.length > 0) hasRemove = true;
                    }
                });
            }
            
            if (hasAdd || hasRemove) {
                addSection.style.display = 'block';
                addSection.querySelector('.store-change-section-title span:last-child').textContent = 'ÊåâÈó®Â∫óÂàÜÁªÑÂ±ïÁ§∫';
                addList.innerHTML = groupsHtml;
                removeSection.style.display = 'none';
            } else {
                addSection.style.display = 'none';
                removeSection.style.display = 'none';
            }
            
            // ÂØπÊØîËßÜÂõæ - Ë°®Ê†ºÂΩ¢Âºè
            document.getElementById('storePersonBeforeCount').textContent = data.before.length;
            document.getElementById('storePersonAfterCount').textContent = data.after.length;
            
            const compareTable = document.getElementById('storePersonCompareTable');
            
            if (data.byStore) {
                // ÁîüÊàêÊâÄÊúâË°®Ê†ºÊï∞ÊçÆ
                let allTableData = [];
                
                Object.entries(data.byStore).forEach(([storeName, changes]) => {
                    let changeType = '';
                    let changeClass = '';
                    
                    if (changes.add.length > 0 && changes.remove.length === 0) {
                        changeType = '+ Êñ∞Â¢û';
                        changeClass = 'add';
                    } else if (changes.remove.length > 0 && changes.add.length === 0) {
                        changeType = 'Ë∞ÉÊï¥';
                        changeClass = 'remove';
                    } else if (changes.add.length > 0 && changes.remove.length > 0) {
                        changeType = 'Ë∞ÉÊï¥';
                        changeClass = 'modify';
                    } else {
                        changeType = 'Êó†ÂèòÂåñ';
                        changeClass = '';
                    }
                    
                    // ÂéüË¥üË¥£‰∫∫ - ‰∏çÊòæÁ§∫Âà†Èô§Ê†áËÆ∞
                    const beforePersons = changes.before.length > 0 
                        ? `<div class="person-tags">
                            ${changes.before.map(name => {
                                return `<span class="person-tag-small">${name}</span>`;
                            }).join('')}
                           </div>`
                        : '<span class="empty-cell">-</span>';
                    
                    // Êñ∞Ë¥üË¥£‰∫∫ - ÂåÖÂê´‰øùÁïôÁöÑ„ÄÅÊñ∞Â¢ûÁöÑÔºå‰ª•ÂèäË¢´Âà†Èô§ÁöÑÔºàÁî®Âà†Èô§Á∫øÊ†áËÆ∞Ôºâ
                    let afterPersonsList = [];
                    
                    // Ê∑ªÂä†Ë∞ÉÊï¥Âêé‰ªçÂú®ÁöÑ‰∫∫ÂëòÔºàÂåÖÊã¨Êñ∞Â¢ûÂíå‰øùÁïôÁöÑÔºâ
                    changes.after.forEach(name => {
                        const isAdded = changes.add.includes(name);
                        afterPersonsList.push({ name, class: isAdded ? 'add' : '' });
                    });
                    
                    // Ê∑ªÂä†Ë¢´Âà†Èô§ÁöÑ‰∫∫ÂëòÔºàÁî®Âà†Èô§Á∫øÊ†áËÆ∞Ôºâ
                    changes.remove.forEach(name => {
                        afterPersonsList.push({ name, class: 'remove' });
                    });
                    
                    const afterPersons = afterPersonsList.length > 0
                        ? `<div class="person-tags">
                            ${afterPersonsList.map(person => {
                                return `<span class="person-tag-small ${person.class}">${person.name}</span>`;
                            }).join('')}
                           </div>`
                        : '<span class="empty-cell">-</span>';
                    
                    allTableData.push({
                        storeName,
                        changeType,
                        changeClass,
                        beforePersons,
                        afterPersons
                    });
                });
                
                // ‰øùÂ≠òÂà∞ÂàÜÈ°µÁä∂ÊÄÅ
                storePersonPagination.tableData = allTableData;
                storePersonPagination.totalItems = allTableData.length;
                storePersonPagination.currentPage = 1;
                
                // Ê∏≤ÊüìÁ¨¨‰∏ÄÈ°µ
                renderStorePersonPage();
            }
            
            switchView('storePerson', 'change');
            modal.classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        // Ê∏≤ÊüìÈó®Â∫óÈÖç‰∫∫ÂàÜÈ°µ
        function renderStorePersonPage() {
            const { currentPage, pageSize, totalItems, tableData } = storePersonPagination;
            const compareTable = document.getElementById('storePersonCompareTable');
            const pagination = document.getElementById('storePersonPagination');
            
            if (totalItems === 0) {
                compareTable.innerHTML = '<tr><td colspan="4" style="text-align: center; padding: 40px; color: #999;">ÊöÇÊó†Êï∞ÊçÆ</td></tr>';
                pagination.style.display = 'none';
                return;
            }
            
            // ËÆ°ÁÆóÂàÜÈ°µ
            const totalPages = Math.ceil(totalItems / pageSize);
            const startIndex = (currentPage - 1) * pageSize;
            const endIndex = Math.min(startIndex + pageSize, totalItems);
            const currentPageData = tableData.slice(startIndex, endIndex);
            
            // Ê∏≤ÊüìË°®Ê†º
            let tableRows = currentPageData.map(item => `
                <tr>
                    <td>üè™ ${item.storeName}</td>
                    <td class="change-type-cell">
                        <span class="change-type-badge ${item.changeClass}">${item.changeType}</span>
                    </td>
                    <td class="person-list-cell">${item.beforePersons}</td>
                    <td class="person-list-cell">${item.afterPersons}</td>
                </tr>
            `).join('');
            
            compareTable.innerHTML = tableRows;
            
            // ÊòæÁ§∫ÂàÜÈ°µÂô®ÔºàÂ¶ÇÊûúË∂ÖËøá1È°µÔºâ
            if (totalPages > 1) {
                pagination.style.display = 'flex';
                document.getElementById('storePersonTotalItems').textContent = totalItems;
                document.getElementById('storePersonPageSize').textContent = pageSize;
                
                // Ê∏≤ÊüìÈ°µÁ†Å
                renderStorePersonPageNumbers(totalPages);
            } else {
                pagination.style.display = 'none';
            }
        }
        
        // Ê∏≤ÊüìÈó®Â∫óÈÖç‰∫∫È°µÁ†Å
        function renderStorePersonPageNumbers(totalPages) {
            const pageNumbersContainer = document.getElementById('storePersonPageNumbers');
            const { currentPage } = storePersonPagination;
            let pageNumbers = '';
            
            // ÊúÄÂ§öÊòæÁ§∫5‰∏™È°µÁ†Å
            let startPage = Math.max(1, currentPage - 2);
            let endPage = Math.min(totalPages, startPage + 4);
            
            if (endPage - startPage < 4) {
                startPage = Math.max(1, endPage - 4);
            }
            
            for (let i = startPage; i <= endPage; i++) {
                pageNumbers += `
                    <button class="pagination-page-btn ${i === currentPage ? 'active' : ''}" 
                            onclick="storePersonChangePage(${i})">${i}</button>
                `;
            }
            
            pageNumbersContainer.innerHTML = pageNumbers;
        }
        
        // Èó®Â∫óÈÖç‰∫∫ÁøªÈ°µ
        function storePersonChangePage(action) {
            const { currentPage, totalItems, pageSize } = storePersonPagination;
            const totalPages = Math.ceil(totalItems / pageSize);
            
            let newPage = currentPage;
            
            if (action === 'first') {
                newPage = 1;
            } else if (action === 'prev') {
                newPage = Math.max(1, currentPage - 1);
            } else if (action === 'next') {
                newPage = Math.min(totalPages, currentPage + 1);
            } else if (action === 'last') {
                newPage = totalPages;
            } else if (typeof action === 'number') {
                newPage = action;
            }
            
            storePersonPagination.currentPage = newPage;
            renderStorePersonPage();
        }

        // Ê•ºÁõòÊï∞ÈáèÂèòÂåñÂºπÁ™ó
        function showResblockCountModal(regionName, event) {
            event.stopPropagation();
            
            const modal = document.getElementById('resblockCountModal');
            const data = resblockChangeData[regionName] || { add: [], remove: [] };
            
            document.getElementById('resblockCountModalTitle').textContent = `${regionName} - Ê•ºÁõòÊï∞ÈáèÂèòÂåñ`;
            
            document.getElementById('resblockAddCount').textContent = data.add.length;
            document.getElementById('resblockRemoveCount').textContent = data.remove.length;
            const netChange = data.add.length - data.remove.length;
            document.getElementById('resblockNetChange').textContent = netChange > 0 ? `+${netChange}` : netChange;
            
            const addList = document.getElementById('resblockAddList');
            const addSection = document.getElementById('resblockAddSection');
            if (data.add.length > 0) {
                addSection.style.display = 'block';
                addList.innerHTML = data.add.map((name, index) => `
                    <div class="store-change-item">
                        <div class="store-change-item-left">
                            <div class="store-change-item-number">${index + 1}</div>
                            <div class="store-change-item-name">${name}</div>
                        </div>
                        <div class="store-change-item-badge add">Êñ∞Â¢û</div>
                    </div>
                `).join('');
            } else {
                addSection.style.display = 'none';
            }
            
            const removeList = document.getElementById('resblockRemoveList');
            const removeSection = document.getElementById('resblockRemoveSection');
            if (data.remove.length > 0) {
                removeSection.style.display = 'block';
                removeList.innerHTML = data.remove.map((name, index) => `
                    <div class="store-change-item">
                        <div class="store-change-item-left">
                            <div class="store-change-item-number">${index + 1}</div>
                            <div class="store-change-item-name" style="text-decoration: line-through; opacity: 0.6;">${name}</div>
                        </div>
                        <div class="store-change-item-badge remove">Âà†Èô§</div>
                    </div>
                `).join('');
            } else {
                removeSection.style.display = 'none';
            }
            
            modal.classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        // Âõ¥Ê†èËåÉÂõ¥ÂèòÂåñÂºπÁ™ó
        function showFenceChangeModal(regionName, event) {
            event.stopPropagation();
            
            const modal = document.getElementById('fenceChangeModal');
            const data = fenceChangeData[regionName] || { 
                beforeArea: 0, 
                afterArea: 0, 
                beforeUtilization: 0,
                afterUtilization: 0,
                beforeResource: 0,
                afterResource: 0,
                boundaries: { before: [], after: [] } 
            };
            
            document.getElementById('fenceChangeModalTitle').textContent = `${regionName} - Âõ¥Ê†èËåÉÂõ¥ÂèòÂåñ`;
            
            // Êõ¥Êñ∞Èù¢ÁßØÊ±áÊÄª‰ø°ÊÅØ
            document.getElementById('fenceBeforeArea').textContent = `${data.beforeArea}km¬≤`;
            document.getElementById('fenceAfterArea').textContent = `${data.afterArea}km¬≤`;
            
            const areaChange = data.afterArea - data.beforeArea;
            const changeText = areaChange > 0 ? `+${areaChange.toFixed(1)}km¬≤` : (areaChange < 0 ? `${areaChange.toFixed(1)}km¬≤` : '0.0km¬≤');
            document.getElementById('fenceAreaChange').textContent = changeText;
            
            // ËÆæÁΩÆÂèòÂåñÂç°ÁâáÁöÑÈ¢úËâ≤
            const changeSummaryCard = document.getElementById('fenceChangeSummaryCard');
            if (areaChange > 0) {
                changeSummaryCard.querySelector('.fence-summary-value').style.color = '#52c41a';
            } else if (areaChange < 0) {
                changeSummaryCard.querySelector('.fence-summary-value').style.color = '#ff4d4f';
            } else {
                changeSummaryCard.querySelector('.fence-summary-value').style.color = '#999';
            }
            
            // Êõ¥Êñ∞Âú∞Âõæ‰ø°ÊÅØ
            document.getElementById('fenceBeforeInfo').textContent = `ËµÑÊ∫êÈáè: ${data.beforeResource} | Âà©Áî®Áéá: ${data.beforeUtilization}%`;
            document.getElementById('fenceAfterInfo').textContent = `ËµÑÊ∫êÈáè: ${data.afterResource} | Âà©Áî®Áéá: ${data.afterUtilization}%`;
            
            // Ê∏≤ÊüìÂèòÊõ¥ÂâçÂú∞Âõæ
            renderFenceMap('fenceBeforeMap', data.boundaries.before, 'before');
            
            // Ê∏≤ÊüìÂèòÊõ¥ÂêéÂú∞Âõæ
            renderFenceMap('fenceAfterMap', data.boundaries.after, 'after');
            
            modal.classList.add('show');
            document.body.style.overflow = 'hidden';
        }
        
        // Ê∏≤ÊüìÂõ¥Ê†èÂú∞Âõæ
        function renderFenceMap(containerId, boundaries, type) {
            const container = document.getElementById(containerId);
            
            if (boundaries.length === 0) {
                container.innerHTML = `
                    <div class="fence-map-bg" style="display: flex; align-items: center; justify-content: center; color: #999; font-size: 14px;">
                        ÊöÇÊó†Âõ¥Ê†èËåÉÂõ¥
                    </div>
                `;
                return;
            }
            
            let mapHTML = '<div class="fence-map-bg">';
            
            boundaries.forEach((boundary, index) => {
                const className = type === 'before' ? 'fence-boundary removed' : 'fence-boundary added';
                mapHTML += `
                    <div class="${className}" style="left: ${boundary.left}; top: ${boundary.top}; width: ${boundary.width}; height: ${boundary.height};">
                        <div class="fence-label">${boundary.name}</div>
                        <div class="fence-area-tag">${boundary.area}</div>
                    </div>
                `;
                
                // Ê∑ªÂä†‰∏Ä‰∫õÈöèÊú∫ÁöÑPOIÊ†áËÆ∞Êù•Ê®°ÊãüÊ•ºÁõò/Èó®Â∫ó‰ΩçÁΩÆ
                const poiCount = Math.floor(Math.random() * 5) + 3;
                for (let i = 0; i < poiCount; i++) {
                    const poiType = Math.random() > 0.5 ? 'store' : 'resblock';
                    const poiLeft = parseFloat(boundary.left) + Math.random() * parseFloat(boundary.width);
                    const poiTop = parseFloat(boundary.top) + Math.random() * parseFloat(boundary.height);
                    mapHTML += `<div class="fence-poi-marker ${poiType}" style="left: ${poiLeft}%; top: ${poiTop}%;"></div>`;
                }
            });
            
            mapHTML += '</div>';
            container.innerHTML = mapHTML;
        }

        // ESCÈîÆÂÖ≥Èó≠ÊâÄÊúâÂºπÁ™ó
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                const modals = ['regionPersonModal', 'resblockPersonModal', 'storePersonModal', 'resblockCountModal', 'fenceChangeModal'];
                modals.forEach(modalId => {
                    const modal = document.getElementById(modalId);
                    if (modal && modal.classList.contains('show')) {
                        closeModal(modalId);
                    }
                });
            }
        });

        // ==================== Êü•ÁúãÊõ¥Â§ö/Êî∂Ëµ∑ÂäüËÉΩ ====================
        function toggleShowMore(listId, button) {
            const list = document.getElementById(listId);
            if (!list) return;
            
            const hiddenItems = list.querySelectorAll('.hidden-item');
            const isExpanded = button.classList.contains('expanded');
            
            if (isExpanded) {
                // Êî∂Ëµ∑
                hiddenItems.forEach(item => {
                    item.classList.add('hidden-item');
                });
                button.classList.remove('expanded');
                
                // Êõ¥Êñ∞ÊåâÈíÆÊñáÂ≠ó
                const btnText = button.querySelector('span:first-child');
                const count = hiddenItems.length;
                if (listId.includes('person')) {
                    btnText.textContent = `Êü•ÁúãÂÖ®ÈÉ® ${count} ‰∫∫`;
                } else if (listId.includes('store')) {
                    btnText.textContent = `Êü•ÁúãÂÖ®ÈÉ® ${count} ÂÆ∂`;
                } else if (listId.includes('resblock')) {
                    btnText.textContent = `Êü•ÁúãÂÖ®ÈÉ® ${count} ‰∏™`;
                }
            } else {
                // Â±ïÂºÄ
                hiddenItems.forEach(item => {
                    item.classList.remove('hidden-item');
                });
                button.classList.add('expanded');
                
                // Êõ¥Êñ∞ÊåâÈíÆÊñáÂ≠ó
                const btnText = button.querySelector('span:first-child');
                btnText.textContent = 'Êî∂Ëµ∑';
            }
        }

        // ==================== Â§ßÂå∫ÂèòÊõ¥ËØ¶ÊÉÖ - ÊêúÁ¥¢ÂíåÁ≠õÈÄâÂäüËÉΩ ====================
        const regionSearchInput = document.getElementById('regionSearchInput');
        const regionListBody = document.getElementById('regionListBody');

        // ÁªºÂêàÊêúÁ¥¢ÂíåÁ≠õÈÄâÂäüËÉΩ
        function searchAndFilterRegions() {
            const searchValue = regionSearchInput.value.toLowerCase().trim();
            const changeType = document.getElementById('regionChangeTypeFilter').value;
            const items = regionListBody.querySelectorAll('.person-list-item');
            
            items.forEach(item => {
                let showItem = true;
                
                // ÁâáÂå∫ÂêçÁß∞ÊêúÁ¥¢ÔºàÊîØÊåÅÊêúÁ¥¢Êñ∞ÊóßÂêçÁß∞Ôºâ
                const regionName = item.getAttribute('data-region-name').toLowerCase();
                const firstCol = item.querySelector('.item-col');
                const allText = firstCol ? firstCol.textContent.toLowerCase() : '';
                
                if (searchValue && !regionName.includes(searchValue) && !allText.includes(searchValue)) {
                    showItem = false;
                }
                
                // ÂèòÊõ¥Á±ªÂûãÁ≠õÈÄâÔºàÊîØÊåÅÂ§çÂêàÁ±ªÂûãÔºåÂ¶Ç"Êñ∞Â¢û,ÁßªÈô§"Ôºâ
                if (changeType && showItem) {
                    const itemChangeType = item.getAttribute('data-change-type');
                    const changeTypes = itemChangeType.split(',');
                    if (!changeTypes.includes(changeType)) {
                        showItem = false;
                    }
                }
                
                item.style.display = showItem ? '' : 'none';
            });
        }

        // ÈáçÁΩÆÁ≠õÈÄâÊù°‰ª∂
        function resetRegionFilters() {
            document.getElementById('regionSearchInput').value = '';
            document.getElementById('regionChangeTypeFilter').value = '';
            
            // ÊòæÁ§∫ÊâÄÊúâÁâáÂå∫
            const items = regionListBody.querySelectorAll('.person-list-item');
            items.forEach(item => {
                item.style.display = '';
            });
        }

        // ÂÆûÊó∂ÊêúÁ¥¢ÔºàËæìÂÖ•Êó∂Âç≥Êó∂ÊêúÁ¥¢Ôºâ
        if (regionSearchInput) {
            regionSearchInput.addEventListener('input', searchAndFilterRegions);
            regionSearchInput.addEventListener('keyup', function(e) {
                if (e.key === 'Enter') {
                    searchAndFilterRegions();
                }
            });
        }

        // ‰∏ãÊãâÊ°ÜÊîπÂèòÊó∂Ëá™Âä®Á≠õÈÄâ
        const regionChangeTypeFilter = document.getElementById('regionChangeTypeFilter');
        if (regionChangeTypeFilter) {
            regionChangeTypeFilter.addEventListener('change', searchAndFilterRegions);
        }

        // ÂØºÂá∫ExcelÂäüËÉΩ
        function exportRegionList() {
            const allRegions = regionListBody.querySelectorAll('.person-list-item');
            
            // ÂàõÂª∫CSVÊï∞ÊçÆ
            let csvContent = '\uFEFF'; // BOM for Excel UTF-8
            
            // Ê∑ªÂä†Ë°®Â§¥
            csvContent += 'ÁâáÂå∫ÂêçÁß∞,ÂèòÊõ¥Á±ªÂûã,ÁâáÂå∫ÈÖç‰∫∫ÂèòÂåñ,Ê•ºÁõòÈÖç‰∫∫ÂèòÂåñ,Èó®Â∫óÈÖç‰∫∫ÂèòÂåñ,Ê•ºÁõòÊï∞Èáè,Èó®Â∫óÊï∞Èáè,ËµÑÊ∫êÈáèÂèòÂåñ\n';
            
            // Ê∑ªÂä†Êï∞ÊçÆË°å
            allRegions.forEach(region => {
                if (region.style.display === 'none') return; // Ë∑≥ËøáÈöêËóèÁöÑÁâáÂå∫
                
                const regionName = region.getAttribute('data-region-name');
                const changeType = region.getAttribute('data-change-type');
                
                const cols = region.querySelectorAll('.item-col');
                if (cols.length < 8) return;
                
                // ÊèêÂèñÂêÑÂàóÊñáÊú¨ÔºàÂéªÈô§ÁÆ≠Â§¥Á≠âË£ÖÈ•∞Ôºâ
                const getColText = (index) => {
                    const col = cols[index];
                    if (col.querySelector('.old-val') && col.querySelector('.new-val')) {
                        const oldVal = col.querySelector('.old-val').textContent.trim();
                        const newVal = col.querySelector('.new-val').textContent.trim();
                        return `${oldVal} ‚Üí ${newVal}`;
                    }
                    return col.textContent.trim();
                };
                
                const personChange = getColText(2);
                const resblockPersonChange = getColText(3);
                const storePersonChange = getColText(4);
                const resblockCount = getColText(5);
                const storeCount = getColText(6);
                const resourceChange = getColText(7);
                
                csvContent += `${regionName},${changeType},${personChange},${resblockPersonChange},${storePersonChange},${resblockCount},${storeCount},${resourceChange}\n`;
            });
            
            // ÂàõÂª∫‰∏ãËΩΩÈìæÊé•
            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            const url = URL.createObjectURL(blob);
            
            // ËÆæÁΩÆÊñá‰ª∂ÂêçÔºàÂåÖÂê´Êó•ÊúüÊó∂Èó¥Ôºâ
            const now = new Date();
            const dateStr = now.getFullYear() + 
                           String(now.getMonth() + 1).padStart(2, '0') + 
                           String(now.getDate()).padStart(2, '0') + '_' +
                           String(now.getHours()).padStart(2, '0') + 
                           String(now.getMinutes()).padStart(2, '0');
            const fileName = `Â§ßÂå∫ÂèòÊõ¥ËØ¶ÊÉÖ_${dateStr}.csv`;
            
            link.setAttribute('href', url);
            link.setAttribute('download', fileName);
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            // ÊòæÁ§∫ÊèêÁ§∫
            alert(`ÂØºÂá∫ÊàêÂäüÔºÅÂÖ±ÂØºÂá∫ ${allRegions.length} Êù°Êï∞ÊçÆ`);
        }

        console.log('Êúù‰∏úÂ§ßÂå∫ËØ¶ÊÉÖÈ°µÈù¢Â∑≤Âä†ËΩΩ');
    </script>
</body>
</html>

